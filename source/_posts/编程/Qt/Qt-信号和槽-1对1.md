---
title: Qt-信号和槽-1对1
date: 2019-1-16
categories:
- 笔记
tags:
- qt
toc: true
img: /medias/paperimg/qt.jpg
---
信号和槽是Qt的核心机制，窗体和控件对象之间的沟通一般都使用信号和槽。

对于部件有哪些信号和槽，可以查看help文档。<!-- more -->
# 一、使用自定义槽

## 1.1 新建工程

新建工程，新建Widget类（基于QWidget）。

## 1.2 新建button按钮

 ![image](http://upload-images.jianshu.io/upload_images/16115686-c3f1eec31e347ea6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 1.3 添加信号和槽

添加方式如下图所示：

![image](http://upload-images.jianshu.io/upload_images/16115686-949c5227f5638100.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image](http://upload-images.jianshu.io/upload_images/16115686-29e68314db00640f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

然后修改单击信息：

```
void Widget::on_pushButton_clicked()
{
QMessageBox::information(this, tr("送餐"), tr("叮咚！外卖已送达"));
}
```

## 1.4 运行

点击按钮，会出现弹窗。其中，"单击"是信号；“送餐弹窗”是槽。

![image](http://upload-images.jianshu.io/upload_images/16115686-728752d12b39b5f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#  二、使用内置槽

## 2.1 新建工程

## 2.2 拖入line edit和label

![image](http://upload-images.jianshu.io/upload_images/16115686-4dc6400564095ad8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 2.3 修改 widget.cpp 文件

```
Widget::Widget(QWidget *parent) :
    QWidget(parent),
    ui(new Ui::Widget)
{
    ui->setupUi(this);
    //关联单行编辑控件的信号到标签控件的槽函数
    connect(ui->lineEdit, SIGNAL(textEdited(QString)), ui->label, SLOT(setText(QString)));
}
```

## 2.4 运行

![image](http://upload-images.jianshu.io/upload_images/16115686-c6f76c3baec8861d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


参考自：https://qtguide.ustclug.org/
