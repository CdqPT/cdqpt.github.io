
---
title: 迭代器
author: 陈德强
date: 2019-09-08 20:53:00
categories:
- 笔记
tags:
- CPlus
toc: true
top: false
img: /medias/paperimg/c.jpg
summary: 迭代器。
---

# 一、迭代器

迭代器是一种类型替换，如`typedef double* iterator;`
每个容器类都定义了迭代器，
迭代器是一种广义指针，用来为不同的容器提供统一的接口。
举个栗子：
vector<double>::iterator pr;
此时代表的是：
`double* pr；`
vector<int>::iterator pr;
此时代表的是：
`int* pr；`
而迭代器iterator用于泛指所有类型指针。

```c
//声明一个迭代器
vector<double>::iterator pd;
//或者 auto pd=abc.begain();

//使用迭代器
*pd=22.3;
pd=abc.begain();
++pd;
```
遍历
```c
vector<double>::iterator pd;

for(pd=abc.begain();pd !=abc.end();pd++)
    cout<<*pd<<endl;
```
使用auto可进一步简化代码：
```c
for(auto pd=abc.begain();pd !=abc.end();pd++)
    cout<<*pd<<endl;
```

# 二、迭代器类型
输入和输出是相对于程序说的，输入代表读容器，输出代表写容器。
1. 输入迭代器：单通行，只读；
2. 输出迭代器：单通行，只写；
3. 正向迭代器：多通行，可读写，也可只读
```c
//可读写
int* rw;
//只读
const int* onlyr;
```
4. 双向迭代器：包含正向迭代器特性，双向访问；
5. 随机访问迭代器：包含双向迭代器所有特性，随机访问。

作为一种编程风格，最好直接避免使用迭代器，而是尽可能使用STL函数，如for_each.

# 三、一些函数和迭代器
可以将指针容器作为迭代器使用在函数中。
|函数|作用|
|:----:|:---:|
|sort(a,a+10);|指定范围内排序|
|copy(a,a+10,c.begain());|将指定内容a复制到矢量c中|
将内容输出到屏幕上(cout接口)：
```c
#include<iterator>
...
ostream_iterator<int,char> out_iter(cout," ");

copy(a.begain(),a.end(),out_iter());
```
or
```c
#include<iterator>
...
copy(a.begain(),a.end(),ostream_iterator<int,char>(cout," "));
```
cin接口
```c
copy(istream_iterator<int,char>(cin),istream_iterator<int,char>,dice.begain);
```
这样就可以使用键盘输入到dice容器内了。





