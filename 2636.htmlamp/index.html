<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href="https://purethought.cn/2636.html" >
    <title>库函数集合 - ALaDing</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
    <meta property="og:title" content="库函数集合">
	<meta property="og:type" content="article">
	<meta property="og:url" content="https://purethought.cn/2636.html">
	
		<meta property="og:image" content="/amp-dist/sample/sample-substituteTitleImage.png">
	
	<meta property="og:site_name" content="ALaDing">
	
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="ALaDing">
	<meta name="twitter:url" content="https://purethought.cn/2636.html">
	<meta name="twitter:title" content="库函数集合 - ALaDing">
	
    
    	<meta name="twitter:image" content="/amp-dist/sample/sample-substituteTitleImage.png">
	
	
	
    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
    <!--
  	<script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>
    -->
    
    
    
    
    
    
    
    
    
    
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "BlogPosting",
			"headline": "库函数集合",
			
			"mainEntityOfPage":{
			    "@type":"WebPage",
			    "@id":"https://purethought.cn/2636.html"
			},
			"datePublished": "2020-02-15T01:47:00.000Z",
			"dateModified": "2020-03-02T10:40:41.062Z",
			
			"image": {
				"@type": "ImageObject",
				"url": "/amp-dist/sample/sample-substituteTitleImage.png",
				"width" : "1024",
				"height" : "800"
			},
			
			"author": {
			    "@type": "Person",
			    "name": "陈德强"
			},
			"publisher": {
			    "@type": "Organization",
			    "name": "ALaDing"
			    
			    ,
			    "logo": {
			      "@type": "ImageObject",
			      "url": "https://purethought.cn/amp-dist/sample/sample-logo.png",
			      "width": 600,
			      "height": 60
			    }
			    
			}
		}
	</script>
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	
	<style amp-custom>
		
abbr,
acronym,
address,
applet,
big,
blockquote,
body,
caption,
cite,
code,
dd,
del,
dfn,
div,
dl,
dt,
em,
fieldset,
form,
h1,
h2,
h3,
h4,
h5,
h6,
html,
iframe,
img,
ins,
kbd,
label,
legend,
li,
object,
ol,
p,
pre,
q,
s,
samp,
small,
span,
strike,
strong,
sub,
sup,
table,
tbody,
td,
tfoot,
th,
thead,
tr,
tt,
ul,
var {
  border: 0;
  font-family: inherit;
  font-size: 1rem;
  font-style: inherit;
  font-weight: inherit;
  margin: 0;
  outline: 0;
  padding: 0;
  vertical-align: baseline;
}
abbr {
  cursor: help;
  border-bottom: 1px dotted;
  font-variant: normal;
}
acronym {
  border-bottom: 1px dotted;
  font-variant: normal;
}
body {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  -webkit-text-size-adjust: 100%;
  background: #fff;
  color: #2d3d40;
  font-family: sans-serif;
  font-size: 1rem;
  font-weight: 500;
  line-height: 2rem;
  text-rendering: optimizelegibility;
}
button::-moz-focus-inner,
input::-moz-focus-inner,
figure.highlight td,
.post .entry-content figure.highlight th {
  border: 0;
  padding: 0;
}
caption,
table,
td,
th {
  vertical-align: middle;
}
caption,
td,
th,
.table-align-left {
  text-align: left;
}
del {
  text-decoration: line-through;
}
html {
  font-size: 14px;
}
:root sub,
:root sup {
  vertical-align: baseline;
}
table {
  border-collapse: separate;
  border-spacing: 0;
}
a {
  color: #e91e63;
  text-decoration: none;
  -webkit-transition: 0.7s;
  -ms-transition: 0.7s;
  -moz-transition: 0.7s;
  -o-transition: 0.7s;
  -webkit-transition: 0.7s;
  -moz-transition: 0.7s;
  -o-transition: 0.7s;
  -ms-transition: 0.7s;
  transition: 0.7s;
  border: 0;
  font-family: inherit;
  font-size: 1rem;
  font-style: inherit;
  font-weight: inherit;
  margin: 0;
  outline: 0;
  padding: 0;
  vertical-align: baseline;
}
a img {
  border: none;
}
a:hover {
  -webkit-transition: 0.2s;
  -ms-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -webkit-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -ms-transition: 0.2s;
  transition: 0.2s;
  color: #930e3b;
}
@media (min-width: 481px) {
  html {
    font-size: 16px;
  }
}
@media (min-width: 0px) and (max-width: 480px) {
  html {
    font-size: 14px;
  }
}
.clearfix:after {
  clear: both;
  visibility: hidden;
  content: ".";
  display: block;
  height: 0;
}
.left {
  float: left;
}
.right {
  float: right;
}
.circle {
  -webkit-border-radius: 50%;
  border-radius: 50%;
}
.thumbImg-w {
  width: 100px;
  height: 100px;
  display: inline-block;
  position: relative;
  overflow: hidden;
}
.thumbImg {
  top: 50%;
  left: 50%;
  position: absolute;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.__web-inspector-hide-shortcut__ {
  visibility: hidden ;
}
button {
  -webkit-box-align: start;
  -moz-box-align: start;
  -o-box-align: start;
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
  text-align: center;
  cursor: default;
  color: buttontext;
  background-color: buttonface;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 2px 6px 3px;
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  -webkit-border-image: initial;
  -moz-border-image: initial;
  -o-border-image: initial;
  border-image: initial;
  text-rendering: auto;
  color: initial;
  letter-spacing: normal;
  word-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
  display: inline-block;
  text-align: start;
  margin: 0em 0em 0em 0em;
  font: 11px system-ui;
  -webkit-writing-mode: horizontal-tb;
  -webkit-appearance: button;
}
.hamburger {
  display: inline-block;
  background-color: transparent;
  background-image: url("data:image/svg+xmlutf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#4A4A4A\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");
  background-repeat: no-repeat;
  -webkit-background-size: 30px 24px;
  -moz-background-size: 30px 24px;
  background-size: 30px 24px;
  background-position: center center;
  border: none;
  margin: 0;
  padding: 0;
  width: 60px;
  height: 60px;
  cursor: pointer;
  -ms-flex-item-align: center;
  -ms-grid-row-align: center;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
}
.nav ul:after {
  clear: both;
  visibility: hidden;
}
.nav,
.nav-icon {
  position: relative;
}
.nav ul {
  display: block;
}
.nav ul li {
  display: block;
}
.nav ul li a {
  display: block;
}
.tab {
  position: relative;
  color: #424242;
  padding: 6px;
  margin: 0 4px;
  text-decoration: none;
  text-transform: uppercase;
  font-weight: 400;
  -webkit-transition: 0.1s ease color;
  -webkit-transition: 0.1s ease color;
  -moz-transition: 0.1s ease color;
  -o-transition: 0.1s ease color;
  -ms-transition: 0.1s ease color;
  transition: 0.1s ease color;
}
amp-sidebar {
  width: 200px;
}
amp-sidebar ul {
  padding: 10px 0;
}
amp-sidebar li a {
  display: block;
  padding: 10px 20px;
}
header {
  height: 60px;
  background-color: #222f31;
  -webkit-box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
  box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
  -webkit-box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
}
header .header-title a {
  padding: 0 0 0 20px;
  height: 60px;
  line-height: 60px;
  font-size: 20px;
  color: #fff;
  letter-spacing: 0.2em;
}
header .nav-container {
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: justify;
  -ms-flex-pack: justify;
  -webkit-box-pack: justify;
  -moz-box-pack: justify;
  -o-box-pack: justify;
  -ms-flex-pack: justify;
  -webkit-justify-content: space-between;
  justify-content: space-between;
}
header .left-nav {
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -ms-flex-align: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  -webkit-box-pack: start;
  -ms-flex-pack: start;
  -webkit-box-pack: start;
  -moz-box-pack: start;
  -o-box-pack: start;
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
  font-size: 20px;
  margin-left: 0;
  font-weight: 300;
  -webkit-box-pack: start;
  -ms-flex-pack: start;
  -webkit-box-pack: start;
  -moz-box-pack: start;
  -o-box-pack: start;
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
  -webkit-box-flex: 1;
  -ms-flex: 1 1 auto;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1 1 auto;
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  text-align: left;
  width: auto;
  font-size: 15px;
}
header .right {
  font-size: 15px;
}
header .alt {
  padding: 0;
  text-align: right;
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  -o-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-align-items: stretch;
  align-items: stretch;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.blog-title a {
  position: relative;
}
button {
  -webkit-box-align: start;
  -moz-box-align: start;
  -o-box-align: start;
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
  text-align: center;
  cursor: default;
  color: buttontext;
  background-color: buttonface;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 2px 6px 3px;
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  -webkit-border-image: initial;
  -moz-border-image: initial;
  -o-border-image: initial;
  border-image: initial;
  text-rendering: auto;
  color: initial;
  letter-spacing: normal;
  word-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
  display: inline-block;
  text-align: start;
  margin: 0em 0em 0em 0em;
  font: 11px system-ui;
  -webkit-writing-mode: horizontal-tb;
  -webkit-appearance: button;
}
.__web-inspector-hide-shortcut__ {
  visibility: hidden ;
}
.hamburger {
  display: inline-block;
  background-color: transparent;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#FFF\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");
  background-repeat: no-repeat;
  -webkit-background-size: 30px 24px;
  -moz-background-size: 30px 24px;
  background-size: 30px 24px;
  background-position: center center;
  border: none;
  margin: 0;
  padding: 0;
  width: 60px;
  height: 60px;
  cursor: pointer;
  -ms-flex-item-align: center;
  -ms-grid-row-align: center;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
}
.tab {
  position: relative;
  color: #2d3d40;
  padding: 6px;
  margin: 0 4px;
  text-decoration: none;
  text-transform: uppercase;
  font-weight: 400;
  -webkit-transition: 0.1s ease color;
  -webkit-transition: 0.1s ease color;
  -moz-transition: 0.1s ease color;
  -o-transition: 0.1s ease color;
  -ms-transition: 0.1s ease color;
  transition: 0.1s ease color;
}
amp-sidebar {
  width: 250px;
  background-color: #182022;
}
amp-sidebar ul {
  padding: 10px 0;
}
amp-sidebar li {
  border-top: 1px solid #2f4043;
}
amp-sidebar li:last-child {
  border-bottom: 1px solid #2f4043;
}
amp-sidebar li a {
  color: #fff;
  font-weight: bold;
  display: block;
  padding: 10px 20px;
}
amp-sidebar li a:hover {
  color: #ccc;
  background-color: #030404;
}
.categories-header {
  background-color: #2d3d40;
  padding: 0rem 0.8rem;
}
.categories-header a {
  color: #fff;
}
.categories-header a:hover {
  color: #fff;
}
.categories-header .breadcrumb ol li {
  list-style: none;
  display: inline-block;
  margin: 0;
}
.categories-header .breadcrumb ol li span {
  font-size: 0.8rem;
  font-weight: bold;
}
.categories-header .breadcrumb ol li:after {
  content: "/";
  color: #fff;
  display: inline-block;
  margin: 0 0.4rem;
}
.categories-header .breadcrumb ol li:last-child:after {
  content: "";
  margin: 0;
}
.entry-header {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.entry-header .flx:first-child {
  margin: 0 1rem 0 0;
}
.header-cap {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.title-cover {
  background-color: #fff;
  color: #2d3d40;
  padding: 1.5rem 0.8rem 0 0.8rem;
}
.title-cover a {
  font-size: 1.2rem;
  color: #2d3d40;
  text-align: left;
  font-weight: bold;
}
.entry-title {
  margin: 0;
}
.entry-meta-header {
  font-size: 0.85rem;
  text-align: center;
}
.entry-meta-header .date {
  font-family: sans-serif;
}
h1 a,
h2 a,
h3 a,
h4 a,
h5 a,
h6 a {
  color: #2d3d40;
  text-decoration: none;
}
h1 a:hover,
h2 a:hover,
h3 a:hover,
h4 a:hover,
h5 a:hover,
h6 a:hover {
  color: #e91e63;
}
#container {
  margin-left: auto;
  margin-right: auto;
}
#main {
  margin-bottom: 3em;
  padding-left: 0;
}
.post {
  margin-bottom: 3rem;
  position: relative;
}
.entry-content {
  margin: 0 0.6rem;
  font-size: 1rem;
}
.entry-content h1 {
  font-size: 1.7rem;
  line-height: 1.5;
  margin: 1em 0 0.8em;
}
.entry-content h2,
.entry-content h3,
.entry-content h4,
.entry-content h5,
.entry-content h6,
.entry-content h2 span,
.entry-content h3 span,
.entry-content h4 span,
.entry-content h5 span,
.entry-content h6 span {
  color: #98b8be;
  font-weight: bold;
}
.entry-content h2,
.entry-content h2 span {
  font-size: 1.8rem;
  line-height: 2.6rem;
  text-align: center;
}
.entry-content h2 {
  border-bottom: 2px solid #cce4e8;
  margin: 4.5rem 0 0.5em;
  padding: 0.8em 0;
}
.entry-content h3,
.entry-content h3 span {
  font-size: 1.6rem;
  line-height: 2.2rem;
  text-align: center;
}
.entry-content h3 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h4,
.entry-content h4 span {
  font-size: 1.4rem;
  line-height: 2rem;
  text-align: center;
}
.entry-content h4 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h5,
.entry-content h5 span {
  font-size: 1.2rem;
  line-height: 1.8rem;
  text-align: center;
}
.entry-content h5 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h6,
.entry-content h6 span {
  font-size: 1.1rem;
  line-height: 1.6rem;
  text-align: center;
}
.entry-content h6 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content p {
  font-size: 1rem;
  letter-spacing: 0.05rem;
  line-height: 2.2rem;
  margin: 3rem 0.8rem;
}
.entry-content p a {
  word-wrap: break-word;
  overflow-wrap: break-word;
  display: inline;
  border-bottom: 1px dashed #f1729d;
  padding-bottom: 0.3rem;
}
.entry-content p a:hover {
  border-bottom: 1px dashed #9c0f3f;
  padding-bottom: 0.4rem;
}
.entry-content em {
  background-color: #f9f5d1;
  color: #886d00;
  font-style: normal;
  margin: 0 2px;
  padding: 0.4em;
}
.entry-content strong {
  color: #871c1c;
  font-style: normal;
  margin: 0 2px;
  padding: 0.4em;
  background-color: #fadcdc;
}
.entry-content hr {
  border: 0;
  border-top: 3px solid #cce4e8;
  margin: 3rem auto;
  width: 20%;
}
.entry-content img,
.entry-content video {
  display: block;
  height: auto;
  margin: auto;
  max-width: 100%;
}
.entry-content iframe {
  width: 100% ;
}
.entry-content blockquote {
  margin: 3rem 0.8rem;
  padding: 1rem 1.8rem;
  position: relative;
  background-color: none;
  border-left: 3px solid #98b8be;
  font-style: italic;
}
.entry-content blockquote p {
  margin: 0.5rem 0;
}
.entry-content blockquote blockquote {
  border-left: none;
}
.entry-content .table-wrapper {
  margin: 3rem 0.8rem;
}
.entry-content table {
  border-collapse: collapse;
  border-spacing: 0;
  overflow: auto;
  display: block;
  font-size: 0.85rem;
  margin: 0 auto;
  width: auto;
}
.entry-content td,
.entry-content th {
  line-height: 1.8em;
  padding: 0.8rem 0.8rem;
  font-size: 0.85rem;
}
.entry-content td em,
.entry-content th em,
.entry-content td strong,
.entry-content th strong,
.entry-content td a,
.entry-content th a {
  font-size: 0.85rem;
}
.entry-content td {
  border: 1px solid #c4c4c4;
}
.entry-content th {
  background-color: #ecf5f7;
  border: 1px solid #c4c4c4;
}
.entry-content .table-align-center {
  text-align: center;
}
.entry-content .table-align-right {
  text-align: right;
}
.entry-content ul,
.entry-content ol,
.entry-content dl {
  margin: 3rem 0 3rem 1.6rem;
  padding: 0;
  list-style: none;
  font-size: 1rem;
}
.entry-content ul li,
.entry-content ol li,
.entry-content dl li {
  line-height: 2rem;
  position: relative;
  padding: 0;
}
.entry-content ul li p,
.entry-content ol li p,
.entry-content dl li p {
  line-height: 2rem;
  margin: 0;
}
.entry-content ul li p:not(:first-child),
.entry-content ol li p:not(:first-child),
.entry-content dl li p:not(:first-child) {
  color: #57767c;
  margin: 0.5rem;
}
.entry-content ul li ul,
.entry-content ol li ul,
.entry-content dl li ul,
.entry-content ul li ol,
.entry-content ol li ol,
.entry-content dl li ol,
.entry-content ul li dl,
.entry-content ol li dl,
.entry-content dl li dl {
  margin: 1rem;
}
.entry-content ul li {
  margin: 0.4rem 0 0.4rem 0.8rem;
}
.entry-content ul li::after {
  position: absolute;
  display: block;
  content: '';
  top: 0.75rem;
  left: -1rem;
  width: 0.5rem;
  height: 0.5rem;
  background-color: #cce4e8;
  border-radius: 100%;
}
.entry-content ol {
  counter-reset: number;
}
.entry-content ol li {
  margin: 0.4rem 0 0.4rem 2rem;
}
.entry-content ol li p:first-child {
  display: inline-block;
  line-height: 1.6rem;
  height: 1.6rem;
}
.entry-content ol li:before {
  position: absolute;
  display: inline-block;
  float: left;
  margin: 0 0.2rem 0 0;
  padding: 0;
  counter-increment: number;
  content: counter(number);
  left: -2.2rem;
  top: 0.2rem;
  background-color: #98b8be;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  color: #fff;
  text-align: center;
  font-weight: bold;
  font-size: 0.8rem;
  line-height: 1.6rem;
}
kbd {
  font-family: sans-serif;
  text-align: center;
  display: inline-block;
  color: #425a5e;
  -moz-osx-font-smoothing: grayscale;
  -webkit-border-radius: 3px;
  -webkit-box-shadow: 0 0 10px #e8e8e8 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  box-shadow: 0 0 10px #e8e8e8 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  -webkit-box-shadow: 0 0 10px #e2e2e2 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  -webkit-font-smoothing: subpixel-antialiased;
  background: #fff;
  border-left: 1px solid #fff;
  border-radius: 3px;
  border-right: 1px solid #e6e6e6;
  border-top: 1px solid #fff;
  font-size: 0.85rem;
  line-height: 1rem;
  margin: 5px;
  padding: 6px 8px 3px;
  text-shadow: 0 1px 0 #fff;
  vertical-align: baseline;
  
}
img.responsive-img {
  height: auto;
  max-width: 100%;
}
video.responsive-video {
  height: auto;
  max-width: 100%;
}
amp-instagram,
amp-vimeo,
amp-video,
amp-youtube,
amp-twitter,
.soundcloud-wrapper,
.amp-img-wrapper,
.googleAdPost,
.ad-footer {
  margin: 3rem 0.8rem;
}
code,
figure.highlight .code,
pre {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: subpixel-antialiased;
}
code,
pre,
samp {
  font-family: Menlo, Consolas, Monaco, Consolas, monospace;
}
p code {
  font-size: 1rem;
}
code,
pre {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
  background-color: #ecf5f7;
  color: #007e96;
}
code {
  margin: 0 3px;
  padding: 0.4em;
}
samp {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
}
sub,
sup {
  font-size: 0.75rem;
  line-height: 0;
  position: relative;
}
sub {
  bottom: -0.2em;
}
sup {
  top: -0.5em;
}
pre {
  font-size: 1rem;
  letter-spacing: 0.05rem;
  margin: 0 3px;
  padding: 15px;
  -webkit-background-clip: padding;
  -moz-background-clip: padding;
  background-clip: padding-box;
  border: 0;
  line-height: 1.3rem;
  overflow-x: auto;
}
pre .addition,
pre .css .tag,
pre .keyword,
pre .method,
pre .nginx .title,
pre .request,
pre .status,
pre .winutils {
  color: #66d9ef;
}
pre .attr_selector,
pre .cdata,
pre .clojure .title,
pre .diff .change,
pre .important {
  color: #9882eb;
}
pre .preprocessor {
  color: #9882eb;
}
pre .preprocessor .keyword {
  color: #9882eb;
}
pre .shebang,
pre .special,
pre .subst {
  color: #9882eb;
}
pre .symbol {
  color: #9882eb;
}
pre .symbol .string {
  color: #9882eb;
}
pre .attribute,
pre .class .title,
pre .constant,
pre .haskell .type,
pre .lisp .body,
pre .parent,
pre .smalltalk .number,
pre .variable {
  color: #a6e22e;
}
pre .built_in,
pre .chunk,
pre .decorator,
pre .id,
pre .identifier,
pre .literal,
pre .localvars,
pre .title,
pre .vhdl,
pre .deletion {
  color: #f92672;
}
pre .command,
pre .hexcolor,
pre .number,
pre .phpdoc,
pre .regexp,
pre .string,
pre .tag .value,
pre .tex .formula {
  color: #e6db74;
}
pre .comment,
pre .diff .header,
pre .doctype,
pre .javadoc,
pre .lisp .string,
pre .pi,
pre .template_comment {
  color: #75715e;
  font-weight: normal;
}
.line {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
  line-height: 2rem;
  color: #f8f8f2;
}
.line span {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
}
.gist {
  background: #fff;
  border: 1px solid color-gutter;
  color: #f8f8f2;
  line-height: 1.6rem;
  margin-top: 15px;
  overflow: auto;
  padding: 7px 15px;
}
.gist .gist-file {
  border: none;
  font-family: inherit;
  font-size: 1rem;
  letter-spacing: 0;
  margin: 0;
}
.gist .gist-file .gist-data {
  background: 0 0;
  border-bottom: none;
}
.gist .gist-file .gist-data pre {
  font-family: Menlo, Consolas, Monaco, Consolas, monospace;
  padding: 0 ;
}
.gist .gist-file .gist-meta {
  background: 0 0;
  color: #f8f8f2;
  font-size: 1rem;
  margin-top: 5px;
  padding: 0;
}
.gist .gist-file .gist-meta a {
  color: #f8f8f2;
}
.gist .gist-file .gist-meta a:visited {
  color: #f8f8f2;
}
figure.highlight {
  font-size: 0.95rem;
  margin: 3rem 0.8rem;
  background: #263338;
  border: 1px solid color-gutter;
  line-height: 2rem;
  overflow: auto;
  position: relative;
}
figure.highlight .code {
  padding: 0 1em 1em 1em;
  color: #f8f8f2;
}
figure.highlight .gutter {
  display: none;
}
figure.highlight figcaption {
  font-size: 1rem;
  font-weight: bold;
  color: #e9e9d6;
  background-color: #1e282c;
  padding: 0.6em 1em;
}
figure.highlight figcaption a {
  position: absolute;
  right: 1rem;
}
figure.highlight figcaption:before {
  content: "\f121";
  font-family: "fontawesome";
  text-align: center;
  display: inline-block;
  margin-right: 0.6em;
}
figure.highlight pre {
  background: 0 0;
  border: none;
  margin: 0;
  padding: 0.5rem;
}
figure.highlight table {
  border-spacing: 0;
  margin: 0;
}
figure.highlight th {
  border: 0;
  font-weight: 400;
  padding: 0;
}
figure.highlight td {
  border: 0;
  font-size: 1.1rem;
  padding: 0;
}
.entry-content .toc {
  background: #fff;
  padding: 0.5rem;
  margin: 3rem 0;
  border: 1px solid #cce4e8;
  border-radius: 2px;
}
.entry-content .toc ul {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
  border-top: 1px solid #5d8b93;
  border-radius: 2px;
}
.entry-content .toc ul:first-child {
  border-top: none;
}
.entry-content .toc ul ul,
.entry-content .toc ul ol {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
}
.entry-content .toc ul li {
  padding: 0;
  margin: 0;
  border-top: 1px solid #5d8b93;
}
.entry-content .toc ul li:first-child {
  border-top: none;
}
.entry-content .toc ul li::after,
.entry-content .toc ul li::before {
  content: normal;
}
.entry-content .toc ul li a {
  font-size: 1.2rem;
  font-weight: bold;
  display: block;
  padding: 1rem;
  background-color: #3d5b61;
  color: #fff;
  -webkit-transition: 0.3s;
  -ms-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -ms-transition: 0.3s;
  transition: 0.3s;
}
.entry-content .toc ul li a:hover {
  color: #fff;
  background-color: #2c4145;
}
.entry-content .toc ul li a:before {
  content: "\f02d";
  font-family: "fontawesome";
  display: inline-block;
  padding: 0;
  margin: 0;
  margin-right: 0.8rem;
}
.entry-content .toc ul li ul,
.entry-content .toc ul li ol {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
}
.entry-content .toc ul li ul li a,
.entry-content .toc ul li ol li a {
  padding: 0.5rem 0.75rem 0.5rem 2rem;
  font-size: 0.9rem;
  background-color: #416167;
}
.entry-content .toc ul li ul li a:before,
.entry-content .toc ul li ol li a:before {
  content: "\f0da";
  font-family: "fontawesome";
  display: inline-block;
  padding: 0;
  margin: 0;
  margin-right: 0.6rem;
}
.entry-content .toc ul li ul li ul li a,
.entry-content .toc ul li ol li ul li a {
  padding: 0.5rem 0.75rem 0.5rem 4rem;
}
.entry-content .toc ul li ul li ul li a:before,
.entry-content .toc ul li ol li ul li a:before {
  content: none;
}
.meta-content {
  background-color: #fff;
  margin: 1.5rem 0.8rem;
  padding: 0;
  border-top: 1px dotted #cce4e8;
  letter-spacing: 0.05rem;
}
.meta-wrapper {
  margin: 3rem 0.8rem;
  padding: 0;
  background-color: #fff;
}
h6.tag,
h6.categories {
  color: #2d3d40;
  font-size: 0.9rem;
  font-weight: bold;
}
.article-tag-list {
  padding: 0;
}
.article-tag,
.article-tag-list,
.article-categories,
.article-categories-list {
  padding: 0;
  margin: 0;
}
.article-categories {
  margin-bottom: 1.6em;
}
.article-tag-list li,
.article-categories-list li {
  list-style: none;
  display: inline-block;
  padding: 0;
  margin: 0.2rem 0.1rem;
}
.article-tag-list li a,
.article-categories-list li a {
  font-size: 0.8rem;
  font-weight: bold;
  padding: 0.4rem 0.8rem;
  margin: 0;
  background-color: #ecf5f7;
  color: #2d3d40;
  border-radius: 2px;
  display: block;
}
.article-tag-list li a:before,
.article-categories-list li a:before {
  content: "#";
}
.article-tag-list li a:hover,
.article-categories-list li a:hover {
  color: #fff;
  background-color: #2d3d40;
}
.widget {
  margin: 1.5rem 0.8rem;
  padding: 0;
}
.widget-h {
  text-align: center;
  margin: 1.6rem 0;
}
.widget-h h6 {
  color: #fff;
  background-color: #2d3d40;
  display: inline-block;
  padding: 0.4rem 1rem;
  font-size: 0.9rem;
  font-weight: bold;
}
.posts-list li {
  list-style: none;
  margin: 0.8rem 0;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.posts-list li .posts-list-link {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.posts-list li .posts-list-link a {
  color: #2d3d40;
  font-size: 1.1rem;
  font-weight: bold;
}
.posts-list li .posts-list-link a:hover {
  color: #e91e63;
}
.posts-list li .posts-list-meta {
  font-size: 0.7rem;
}
.posts-list li .flx:first-child {
  margin: 0 1rem 0 0;
}
.posts-list li amp-img {
  border-radius: 2px;
}
#footer {
  background-color: #2d3d40;
  color: #fff;
  display: block;
  font-size: 1rem;
  letter-spacing: 0.05rem;
  line-height: 2rem;
  margin: 3rem 0 0 0;
  padding: 0;
}
.site-author-info {
  margin: 0;
  padding: 3rem 1.6rem;
}
.site-author-info h6 {
  font-size: 1rem;
  color: #fff;
  font-weight: bold;
  display: inline-block;
  background-color: #222f31;
  padding: 0.4rem 0.8rem;
}
.site-author-info-wrapper {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.site-author-info-wrapper .flx:first-child {
  margin: 0 1rem 0 0;
}
.authorCap-wrapper {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.authorCap {
  font-size: 1.4rem;
  font-weight: bold;
}
.authorReading {
  font-size: 0.7rem;
}
.site-author-desc {
  font-size: 0.8rem;
  line-height: 1.6rem;
  margin: 1.4rem 0;
}
.copyright-tool {
  margin: 0;
  padding: 1.5rem 1.6rem;
  border-top: 1px solid #384b4f;
}
.copyright-notice p {
  font-size: 0.6rem;
  letter-spacing: 0.05rem;
  line-height: 1.2rem;
  color: #8ba8ae;
}
.copyright-title {
  font-size: 1rem;
  text-align: center;
  margin: 0.8rem 0 0.4rem 0;
}
.copyright-license {
  margin: 0.4rem 0 0.8rem 0;
  font-size: 0.7rem;
  text-align: center;
}
.copyright-license a {
  color: #e6e6e6;
  font-size: 0.7rem;
}
.copyright-license a:hover {
  color: #b3b3b3;
}
.sns-link {
  margin: 0;
  text-align: center;
}
.sns-link a {
  display: inline-block;
  font-size: 1.6rem;
  text-align: center;
  width: 2rem;
  height: 2rem;
  line-height: 2rem;
  padding: 0.6rem;
  margin: 0 0.1rem;
  background-color: #222f31;
  color: #fff;
  border-radius: 4px;
}
.sns-link a:hover {
  color: #ccc;
  background-color: #030404;
}
.footer-menu {
  padding: 1.5rem 0.8rem;
  border-top: 1px solid #384b4f;
}
.footer-menu ul li {
  list-style: none;
  margin: 0;
  padding: 0;
}
.footer-menu ul li a {
  display: block;
  padding: 0.6rem;
  margin: 0.2rem 1.6rem;
  font-size: 1rem;
  color: #fff;
  background-color: #222f31;
  border-radius: 4px;
  text-align: center;
  font-weight: bold;
}
.footer-menu ul li a:hover {
  color: #ccc;
  background-color: #030404;
}
.social-share {
  margin: 1.5rem 0.8rem;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.social-share amp-social-share,
.social-share .sbtn {
  margin: 5px;
}
.sbtn {
  padding: 0;
  width: 4rem;
  height: 3rem;
  line-height: 3rem;
  color: #fff;
  font-size: 1.2rem;
  text-align: center;
  border-radius: 4px;
}
.sbtn:hover {
  color: #fff;
}
.tw {
  background-color: #1cafe8;
}
.tw:hover {
  background-color: #0f6b8f;
}
.fb {
  background-color: #4f677f;
}
.fb:hover {
  background-color: #283440;
}
.ht {
  background-color: #35acda;
}
.ht:hover {
  background-color: #1a6e8f;
}
.gp {
  background-color: #d56153;
}
.gp:hover {
  background-color: #9c3326;
}
.tb {
  background-color: #465f79;
}
.tb:hover {
  background-color: #212c38;
}
.icon-hatena:before {
  content: "B";
  font-weight: bold;
  font-size: 1.2rem;
}
#totop {
  position: fixed;
  bottom: 2rem;
  right: 1.6rem;
  font-size: 1.2rem;
  z-index: 995;
}
#totop a {
  background: rgba(152,184,190,0.6);
  text-decoration: none;
  color: #fff;
  padding: 0.8rem;
  border-radius: 50%;
}
#totop a:before {
  content: "\f062";
  font-family: "fontawesome";
  font-size: 1.2rem;
}
#totop a:hover {
  text-decoration: none;
  background: #5d8b93;
  color: #fff;
  line-height: 2.3em;
}
@media (min-width: 800px) {
  .title-cover,
  .entry-content,
  .categories,
  .meta-content,
  .site-author-info {
    width: 780px;
    margin: 0 auto;
  }
  .nav-container {
    width: 800px;
    margin: 0 auto;
  }
}
@media (min-width: 0px) and (max-width: 480px) {
  .site-author-info-wrapper {
    display: block;
  }
  .gravatar-area {
    text-align: center;
  }
  .gravatar-area amp-img {
    display: inline-block;
  }
  .entry-content td,
  .entry-content th {
    line-height: 1.8em;
    padding: 0.6rem 0.6rem;
    font-size: 0.5rem;
  }
  .entry-content td em,
  .entry-content th em,
  .entry-content td strong,
  .entry-content th strong,
  .entry-content td a,
  .entry-content th a {
    font-size: 0.5rem;
  }
}

	</style>
	
  </head>
  <body>
  	
  	
  	<!-- google analytics -->
  	
  	
  	
  	<!-- menu -->
  	<header>
  		<div class="nav-container">
	  		<div class="left-nav">
	  			<div class="header-title">
	  				<a href="/">ALaDing</a>
	  			</div>
	  		</div>
	  		
	  	</div>
    </header>
  	
  	
  	<!-- sidebar -->
  	
  	
  	<!-- container -->
  	<div id="container">
	  	<div id="main">
		    <article id="post-字典/库函数集合" class="post">
		    
		   		<!-- categories and bread crumb -->
		    	
				<div class="categories-header">
					<div class="categories">
						<div class="breadcrumb inline-icon">
							<ol itemscope itemtype="http://schema.org/BreadcrumbList">
							  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
							    <a itemprop="item" href="/">
							    	<span class="sns-icon home-icon"></span>
							        <span itemprop="name"><span class="fa fa-fw fa-home"></span></span>
							    </a>
							    <meta itemprop="position" content="1" />
							  </li>

								
						    		<li itemprop="itemListElement" itemscope
									      itemtype="http://schema.org/ListItem">
									    <a itemprop="item" href="/categories/字典/">
									      
									      	<span class="sns-icon folder-icon"></span>
									      
									      <span itemprop="name">字典</span>
									    </a>
									    <meta itemprop="position" content="2" />
									</li>
								
							</ol>
						</div>
					</div>
				</div>
				
		    
		    	<!-- entry title -->
				<div class="title-cover">
					<div class="entry-header">
						
						
						
			          	<div class="header-thumb flx">
			          		<div class="thumbImg-w circle">
			          			<amp-img class="thumbImg" layout="fixed" width="128" height="100" src="/amp-dist/sample/sample-substituteTitleImage.png">
			          			</amp-img>
			          		</div>
			          	</div>
			            
			            
			            <div class="header-cap flx">
							
							  <h1 class="article-title entry-title" itemprop="name">
							    <a href="https://purethought.cn/2636.html" target="_blank" itemprop="url">库函数集合</a>
							  </h1>
							
						</div>
					</div>
					
					<!-- datePublished -->
					<div class="entry-meta-header">
						<span class="meta-elements date">
							<span class="fa fa-fw fa-clock-o"></span>
							<time datetime="2020-02-15" itemprop="datePublished">2020.02.15</time>
						</span>
					</div>
				</div>
				
				
				
				<!-- entry content -->
			    <div class="entry-content ecp">
			    	<!-- social share button -->
			    	
			    	
			    	
                    <!-- google Adsense Matched content -->
                    
                    
			    	<!-- content -->
			  		<h1 id="&#x9519;&#x8BEF;&#x5904;&#x7406;"><a href="#&#x9519;&#x8BEF;&#x5904;&#x7406;" class="headerlink" title="&#x9519;&#x8BEF;&#x5904;&#x7406;"></a>&#x9519;&#x8BEF;&#x5904;&#x7406;</h1><h2 id="&#x5E38;&#x7528;&#x5934;&#x6587;&#x4EF6;"><a href="#&#x5E38;&#x7528;&#x5934;&#x6587;&#x4EF6;" class="headerlink" title="&#x5E38;&#x7528;&#x5934;&#x6587;&#x4EF6;"></a>&#x5E38;&#x7528;&#x5934;&#x6587;&#x4EF6;</h2><h3 id="tlpi-hdr-h"><a href="#tlpi-hdr-h" class="headerlink" title="tlpi_hdr.h"></a>tlpi_hdr.h</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************\
*                  Copyright (C) Michael Kerrisk, 2019.                   *
*                                                                         *
* This program is free software. You may use, modify, and redistribute it *
* under the terms of the GNU Lesser General Public License as published   *
* by the Free Software Foundation, either version 3 or (at your option)   *
* any later version. This program is distributed without any warranty.    *
* See the files COPYING.lgpl-v3 and COPYING.gpl-v3 for details.           *
\*************************************************************************/</span>

<span class="token comment" spellcheck="true">/* tlpi_hdr.h

   Standard header file used by nearly all of our example programs.
*/</span>
<span class="token macro property">#<span class="token directive keyword">ifndef</span> TLPI_HDR_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> TLPI_HDR_H      </span><span class="token comment" spellcheck="true">/* Prevent accidental double inclusion */</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h&gt;</span>  </span><span class="token comment" spellcheck="true">/* Type definitions used by many programs */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span>      </span><span class="token comment" spellcheck="true">/* Standard I/O functions */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span>     </span><span class="token comment" spellcheck="true">/* Prototypes of commonly used library functions,
                           plus EXIT_SUCCESS and EXIT_FAILURE constants */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h&gt;</span>     </span><span class="token comment" spellcheck="true">/* Prototypes for many system calls */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;errno.h&gt;</span>      </span><span class="token comment" spellcheck="true">/* Declares errno and defines error constants */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span>     </span><span class="token comment" spellcheck="true">/* Commonly used string-handling functions */</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdbool.h&gt;</span>    </span><span class="token comment" spellcheck="true">/* &apos;bool&apos; type plus &apos;true&apos; and &apos;false&apos; constants */</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;get_num.h&quot;</span>    </span><span class="token comment" spellcheck="true">/* Declares our functions for handling numeric
                           arguments (getInt(), getLong()) */</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;error_functions.h&quot;</span>  </span><span class="token comment" spellcheck="true">/* Declares our error-handling functions */</span>

<span class="token comment" spellcheck="true">/* Unfortunately some UNIX implementations define FALSE and TRUE -
   here we&apos;ll undefine them */</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> TRUE</span>
<span class="token macro property">#<span class="token directive keyword">undef</span> TRUE</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> FALSE</span>
<span class="token macro property">#<span class="token directive keyword">undef</span> FALSE</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">enum</span> <span class="token punctuation">{</span> FALSE<span class="token punctuation">,</span> TRUE <span class="token punctuation">}</span> Boolean<span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">define</span> min(m,n) ((m) &lt; (n) ? (m) : (n))</span>
<span class="token macro property">#<span class="token directive keyword">define</span> max(m,n) ((m) &gt; (n) ? (m) : (n))</span>

<span class="token comment" spellcheck="true">/* Some systems don&apos;t define &apos;socklen_t&apos; */</span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined(__sgi)</span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> socklen_t<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined(__sun)</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/file.h&gt;</span>           </span><span class="token comment" spellcheck="true">/* Has definition of FASYNC */</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">if</span> ! defined(O_ASYNC) &amp;&amp; defined(FASYNC)</span>
<span class="token comment" spellcheck="true">/* Some systems define FASYNC instead of O_ASYNC */</span>
<span class="token macro property">#<span class="token directive keyword">define</span> O_ASYNC FASYNC</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined(MAP_ANON) &amp;&amp; ! defined(MAP_ANONYMOUS)</span>
<span class="token comment" spellcheck="true">/* BSD derivatives usually have MAP_ANON, not MAP_ANONYMOUS */</span>
<span class="token macro property">#<span class="token directive keyword">define</span> MAP_ANONYMOUS MAP_ANON</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">if</span> ! defined(O_SYNC) &amp;&amp; defined(O_FSYNC)</span>
<span class="token comment" spellcheck="true">/* Some implementations have O_FSYNC instead of O_SYNC */</span>
<span class="token macro property">#<span class="token directive keyword">define</span> O_SYNC O_FSYNC</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined(__FreeBSD__)</span>

<span class="token comment" spellcheck="true">/* FreeBSD uses these alternate names for fields in the sigval structure */</span>

<span class="token macro property">#<span class="token directive keyword">define</span> sival_int sigval_int</span>
<span class="token macro property">#<span class="token directive keyword">define</span> sival_ptr sigval_ptr</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x9519;&#x8BEF;&#x8BCA;&#x65AD;&#x51FD;&#x6570;"><a href="#&#x9519;&#x8BEF;&#x8BCA;&#x65AD;&#x51FD;&#x6570;" class="headerlink" title="&#x9519;&#x8BEF;&#x8BCA;&#x65AD;&#x51FD;&#x6570;"></a>&#x9519;&#x8BEF;&#x8BCA;&#x65AD;&#x51FD;&#x6570;</h2><p>&#x4F7F;&#x7528;errMsg()&#x3001;errExit()&#x3001;err_exit()&#x4EE5;&#x53CA;errExitEN()&#x51FD;&#x6570;&#xFF0C;&#x4EE5;&#x8BCA;&#x65AD;&#x8C03;&#x7528;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x548C;&#x5E93;&#x51FD;&#x6570;&#x65F6;&#x6240;&#x53D1;&#x751F;&#x7684;&#x9519;&#x8BEF;&#x3002;<br>&#x51FD;&#x6570;errMsg()&#x4F1A;&#x5728;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x8BBE;&#x5907;&#x4E0A;&#x6253;&#x5370;&#x6D88;&#x606F;&#x3002;&#x9664;&#x4E86;&#x5C06;&#x4E00;&#x4E2A;&#x7EC8;&#x6B62;&#x6362;&#x884C;&#x7B26;&#x81EA;&#x52A8;&#x8FFD;&#x52A0;&#x5230;&#x8F93;&#x51FA;&#x5B57;&#x7B26;&#x4E32;&#x5C3E;&#x90E8;&#x4EE5;&#x5916;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x5217;&#x8868;&#x4E0E;printf()&#x6240;&#x7528;&#x76F8;&#x540C;&#x3002;errMsg()&#x51FD;&#x6570;&#x4F1A;&#x6253;&#x5370;&#x51FA;&#x4E0E;&#x5F53;&#x524D;errno&#x503C;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x6587;&#x672C;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x62EC;&#x4E86;&#x9519;&#x8BEF;&#x540D;&#xFF08;&#x6BD4;&#x5982;&#xFF0C;EPERM&#xFF09;&#x4EE5;&#x53CA;&#x7531;strerror()&#x8FD4;&#x56DE;&#x7684;&#x9519;&#x8BEF;&#x63CF;&#x8FF0;&#xFF0C;&#x5916;&#x52A0;&#x7531;&#x53C2;&#x6570;&#x5217;&#x8868;&#x6307;&#x5B9A;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#x3002;</p>
<p>errExit()&#x51FD;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x4E0E;errMsg()&#x76F8;&#x4F3C;&#xFF0C;&#x53EA;&#x662F;&#x8FD8;&#x4F1A;&#x4EE5;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x4E4B;&#x4E00;&#x6765;&#x7EC8;&#x6B62;&#x7A0B;&#x5E8F;&#x3002;&#x5176;&#x4E00;&#xFF0C;&#x8C03;&#x7528;exit()&#x9000;&#x51FA;&#x3002;&#x5176;&#x4E8C;&#xFF0C;&#x82E5;&#x5C06;&#x73AF;&#x5883;&#x53D8;&#x91CF;EF_DUMPCORE&#x5B9A;&#x4E49;&#x4E3A;&#x975E;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5219;&#x8C03;&#x7528;abort()&#x9000;&#x51FA;&#xFF0C;&#x540C;&#x65F6;&#x751F;&#x6210;&#x6838;&#x5FC3;&#x8F6C;&#x50A8;&#xFF08;core dump&#xFF09;&#x6587;&#x4EF6;&#xFF0C;&#x4F9B;&#x8C03;&#x8BD5;&#x5668;&#x8C03;&#x8BD5;&#x4E4B;&#x7528;&#x3002;</p>
<h3 id="error-functions-h"><a href="#error-functions-h" class="headerlink" title="error_functions.h"></a>error_functions.h</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************\
*                  Copyright (C) Michael Kerrisk, 2019.                   *
*                                                                         *
* This program is free software. You may use, modify, and redistribute it *
* under the terms of the GNU Lesser General Public License as published   *
* by the Free Software Foundation, either version 3 or (at your option)   *
* any later version. This program is distributed without any warranty.    *
* See the files COPYING.lgpl-v3 and COPYING.gpl-v3 for details.           *
\*************************************************************************/</span>

<span class="token comment" spellcheck="true">/* error_functions.h

   Header file for error_functions.c.
*/</span>
<span class="token macro property">#<span class="token directive keyword">ifndef</span> ERROR_FUNCTIONS_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ERROR_FUNCTIONS_H</span>

<span class="token comment" spellcheck="true">/* Error diagnostic routines */</span>

<span class="token keyword">void</span> <span class="token function">errMsg</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __GNUC__</span>

    <span class="token comment" spellcheck="true">/* This macro stops &apos;gcc -Wall&apos; complaining that &quot;control reaches
       end of non-void function&quot; if we use the following functions to
       terminate main() or some other non-void function. */</span>

<span class="token macro property">#<span class="token directive keyword">define</span> NORETURN __attribute__ ((__noreturn__))</span>
<span class="token macro property">#<span class="token directive keyword">else</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> NORETURN</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

<span class="token keyword">void</span> <span class="token function">errExit</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> NORETURN <span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">err_exit</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> NORETURN <span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">errExitEN</span><span class="token punctuation">(</span><span class="token keyword">int</span> errnum<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> NORETURN <span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">fatal</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> NORETURN <span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">usageErr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> NORETURN <span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">cmdLineErr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> NORETURN <span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="error-functions-c"><a href="#error-functions-c" class="headerlink" title="error_functions.c"></a>error_functions.c</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************\
*                  Copyright (C) Michael Kerrisk, 2019.                   *
*                                                                         *
* This program is free software. You may use, modify, and redistribute it *
* under the terms of the GNU Lesser General Public License as published   *
* by the Free Software Foundation, either version 3 or (at your option)   *
* any later version. This program is distributed without any warranty.    *
* See the files COPYING.lgpl-v3 and COPYING.gpl-v3 for details.           *
\*************************************************************************/</span>

<span class="token comment" spellcheck="true">/* error_functions.c

   Some standard error handling routines used by various programs.
*/</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdarg.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;error_functions.h&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;tlpi_hdr.h&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;ename.c.inc&quot;</span>          </span><span class="token comment" spellcheck="true">/* Defines ename and MAX_ENAME */</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __GNUC__                 </span><span class="token comment" spellcheck="true">/* Prevent &apos;gcc -Wall&apos; complaining  */</span>
<span class="token function">__attribute__</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>__noreturn__<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">/* if we call this function as last */</span>
<span class="token macro property">#<span class="token directive keyword">endif</span>                          </span><span class="token comment" spellcheck="true">/* statement in a non-void function */</span>
<span class="token keyword">static</span> <span class="token keyword">void</span>
<span class="token function">terminate</span><span class="token punctuation">(</span>Boolean useExit3<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/* Dump core if EF_DUMPCORE environment variable is defined and
       is a nonempty string; otherwise call exit(3) or _exit(2),
       depending on the value of &apos;useExit3&apos;. */</span>

    s <span class="token operator">=</span> <span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string">&quot;EF_DUMPCORE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s <span class="token operator">!=</span> <span class="token string">&apos;\0&apos;</span><span class="token punctuation">)</span>
        <span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>useExit3<span class="token punctuation">)</span>
        <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token function">_exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Diagnose &apos;errno&apos; error by:

      * outputting a string containing the error name (if available
        in &apos;ename&apos; array) corresponding to the value in &apos;err&apos;, along
        with the corresponding error message from strerror(), and

      * outputting the caller-supplied error message specified in
        &apos;format&apos; and &apos;ap&apos;. */</span>

<span class="token keyword">static</span> <span class="token keyword">void</span>
<span class="token function">outputError</span><span class="token punctuation">(</span>Boolean useErr<span class="token punctuation">,</span> <span class="token keyword">int</span> err<span class="token punctuation">,</span> Boolean flushStdout<span class="token punctuation">,</span>
        <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> va_list ap<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token macro property">#<span class="token directive keyword">define</span> BUF_SIZE 500</span>
    <span class="token keyword">char</span> buf<span class="token punctuation">[</span>BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> userMsg<span class="token punctuation">[</span>BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> errText<span class="token punctuation">[</span>BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">vsnprintf</span><span class="token punctuation">(</span>userMsg<span class="token punctuation">,</span> BUF_SIZE<span class="token punctuation">,</span> format<span class="token punctuation">,</span> ap<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>useErr<span class="token punctuation">)</span>
        <span class="token function">snprintf</span><span class="token punctuation">(</span>errText<span class="token punctuation">,</span> BUF_SIZE<span class="token punctuation">,</span> <span class="token string">&quot; [%s %s]&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">(</span>err <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> err <span class="token operator">&lt;=</span> MAX_ENAME<span class="token punctuation">)</span> <span class="token operator">?</span>
                ename<span class="token punctuation">[</span>err<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token string">&quot;?UNKNOWN?&quot;</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token function">snprintf</span><span class="token punctuation">(</span>errText<span class="token punctuation">,</span> BUF_SIZE<span class="token punctuation">,</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> __GNUC__ &gt;= 7</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> GCC diagnostic push</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> GCC diagnostic ignored &quot;-Wformat-truncation&quot;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
    <span class="token function">snprintf</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> BUF_SIZE<span class="token punctuation">,</span> <span class="token string">&quot;ERROR%s %s\n&quot;</span><span class="token punctuation">,</span> errText<span class="token punctuation">,</span> userMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> __GNUC__ &gt;= 7</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> GCC diagnostic pop</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>flushStdout<span class="token punctuation">)</span>
        <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">/* Flush any pending stdout */</span>
    <span class="token function">fputs</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token constant">stderr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* In case stderr is not line-buffered */</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Display error message including &apos;errno&apos; diagnostic, and
   return to caller */</span>

<span class="token keyword">void</span>
<span class="token function">errMsg</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    va_list argList<span class="token punctuation">;</span>
    <span class="token keyword">int</span> savedErrno<span class="token punctuation">;</span>

    savedErrno <span class="token operator">=</span> errno<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">/* In case we change it here */</span>

    <span class="token function">va_start</span><span class="token punctuation">(</span>argList<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">outputError</span><span class="token punctuation">(</span>TRUE<span class="token punctuation">,</span> errno<span class="token punctuation">,</span> TRUE<span class="token punctuation">,</span> format<span class="token punctuation">,</span> argList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_end</span><span class="token punctuation">(</span>argList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    errno <span class="token operator">=</span> savedErrno<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Display error message including &apos;errno&apos; diagnostic, and
   terminate the process */</span>

<span class="token keyword">void</span>
<span class="token function">errExit</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    va_list argList<span class="token punctuation">;</span>

    <span class="token function">va_start</span><span class="token punctuation">(</span>argList<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">outputError</span><span class="token punctuation">(</span>TRUE<span class="token punctuation">,</span> errno<span class="token punctuation">,</span> TRUE<span class="token punctuation">,</span> format<span class="token punctuation">,</span> argList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_end</span><span class="token punctuation">(</span>argList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">terminate</span><span class="token punctuation">(</span>TRUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Display error message including &apos;errno&apos; diagnostic, and
   terminate the process by calling _exit().

   The relationship between this function and errExit() is analogous
   to that between _exit(2) and exit(3): unlike errExit(), this
   function does not flush stdout and calls _exit(2) to terminate the
   process (rather than exit(3), which would cause exit handlers to be
   invoked).

   These differences make this function especially useful in a library
   function that creates a child process that must then terminate
   because of an error: the child must terminate without flushing
   stdio buffers that were partially filled by the caller and without
   invoking exit handlers that were established by the caller. */</span>

<span class="token keyword">void</span>
<span class="token function">err_exit</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    va_list argList<span class="token punctuation">;</span>

    <span class="token function">va_start</span><span class="token punctuation">(</span>argList<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">outputError</span><span class="token punctuation">(</span>TRUE<span class="token punctuation">,</span> errno<span class="token punctuation">,</span> FALSE<span class="token punctuation">,</span> format<span class="token punctuation">,</span> argList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_end</span><span class="token punctuation">(</span>argList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">terminate</span><span class="token punctuation">(</span>FALSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* The following function does the same as errExit(), but expects
   the error number in &apos;errnum&apos; */</span>

<span class="token keyword">void</span>
<span class="token function">errExitEN</span><span class="token punctuation">(</span><span class="token keyword">int</span> errnum<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    va_list argList<span class="token punctuation">;</span>

    <span class="token function">va_start</span><span class="token punctuation">(</span>argList<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">outputError</span><span class="token punctuation">(</span>TRUE<span class="token punctuation">,</span> errnum<span class="token punctuation">,</span> TRUE<span class="token punctuation">,</span> format<span class="token punctuation">,</span> argList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_end</span><span class="token punctuation">(</span>argList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">terminate</span><span class="token punctuation">(</span>TRUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Print an error message (without an &apos;errno&apos; diagnostic) */</span>

<span class="token keyword">void</span>
<span class="token function">fatal</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    va_list argList<span class="token punctuation">;</span>

    <span class="token function">va_start</span><span class="token punctuation">(</span>argList<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">outputError</span><span class="token punctuation">(</span>FALSE<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> TRUE<span class="token punctuation">,</span> format<span class="token punctuation">,</span> argList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_end</span><span class="token punctuation">(</span>argList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">terminate</span><span class="token punctuation">(</span>TRUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Print a command usage error message and terminate the process */</span>

<span class="token keyword">void</span>
<span class="token function">usageErr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    va_list argList<span class="token punctuation">;</span>

    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* Flush any pending stdout */</span>

    <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;Usage: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_start</span><span class="token punctuation">(</span>argList<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">vfprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> format<span class="token punctuation">,</span> argList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_end</span><span class="token punctuation">(</span>argList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* In case stderr is not line-buffered */</span>
    <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Diagnose an error in command-line arguments and
   terminate the process */</span>

<span class="token keyword">void</span>
<span class="token function">cmdLineErr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    va_list argList<span class="token punctuation">;</span>

    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* Flush any pending stdout */</span>

    <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;Command-line usage error: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_start</span><span class="token punctuation">(</span>argList<span class="token punctuation">,</span> format<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">vfprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> format<span class="token punctuation">,</span> argList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">va_end</span><span class="token punctuation">(</span>argList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* In case stderr is not line-buffered */</span>
    <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x9519;&#x8BEF;&#x7801;"><a href="#&#x9519;&#x8BEF;&#x7801;" class="headerlink" title="&#x9519;&#x8BEF;&#x7801;"></a>&#x9519;&#x8BEF;&#x7801;</h2><h3 id="ename-c-inc"><a href="#ename-c-inc" class="headerlink" title="ename.c.inc"></a>ename.c.inc</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/* ename.c.inc

   Built on GNU/Linux x86_64 with glibc 2.30
*/</span>
<span class="token keyword">static</span> <span class="token keyword">char</span> <span class="token operator">*</span>ename<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/*   0 */</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*   1 */</span> <span class="token string">&quot;EPERM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOENT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ESRCH&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EINTR&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EIO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENXIO&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*   7 */</span> <span class="token string">&quot;E2BIG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOEXEC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBADF&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ECHILD&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  11 */</span> <span class="token string">&quot;EAGAIN/EWOULDBLOCK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOMEM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EACCES&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EFAULT&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  15 */</span> <span class="token string">&quot;ENOTBLK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBUSY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EEXIST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EXDEV&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENODEV&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  20 */</span> <span class="token string">&quot;ENOTDIR&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EISDIR&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EINVAL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENFILE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EMFILE&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  25 */</span> <span class="token string">&quot;ENOTTY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ETXTBSY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EFBIG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOSPC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ESPIPE&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  30 */</span> <span class="token string">&quot;EROFS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EMLINK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EPIPE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EDOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ERANGE&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  35 */</span> <span class="token string">&quot;EDEADLK/EDEADLOCK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENAMETOOLONG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOLCK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOSYS&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  39 */</span> <span class="token string">&quot;ENOTEMPTY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ELOOP&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOMSG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EIDRM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ECHRNG&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  45 */</span> <span class="token string">&quot;EL2NSYNC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EL3HLT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EL3RST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ELNRNG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EUNATCH&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  50 */</span> <span class="token string">&quot;ENOCSI&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EL2HLT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBADE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBADR&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EXFULL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOANO&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  56 */</span> <span class="token string">&quot;EBADRQC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBADSLT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBFONT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOSTR&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENODATA&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  62 */</span> <span class="token string">&quot;ETIME&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOSR&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENONET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOPKG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EREMOTE&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  67 */</span> <span class="token string">&quot;ENOLINK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EADV&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ESRMNT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ECOMM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EPROTO&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  72 */</span> <span class="token string">&quot;EMULTIHOP&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EDOTDOT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBADMSG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EOVERFLOW&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  76 */</span> <span class="token string">&quot;ENOTUNIQ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EBADFD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EREMCHG&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ELIBACC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ELIBBAD&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  81 */</span> <span class="token string">&quot;ELIBSCN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ELIBMAX&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ELIBEXEC&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EILSEQ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ERESTART&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  86 */</span> <span class="token string">&quot;ESTRPIPE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EUSERS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOTSOCK&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EDESTADDRREQ&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  90 */</span> <span class="token string">&quot;EMSGSIZE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EPROTOTYPE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOPROTOOPT&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  93 */</span> <span class="token string">&quot;EPROTONOSUPPORT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ESOCKTNOSUPPORT&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  95 */</span> <span class="token string">&quot;EOPNOTSUPP/ENOTSUP&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EPFNOSUPPORT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EAFNOSUPPORT&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/*  98 */</span> <span class="token string">&quot;EADDRINUSE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EADDRNOTAVAIL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENETDOWN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENETUNREACH&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 102 */</span> <span class="token string">&quot;ENETRESET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ECONNABORTED&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ECONNRESET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOBUFS&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 106 */</span> <span class="token string">&quot;EISCONN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOTCONN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ESHUTDOWN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ETOOMANYREFS&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 110 */</span> <span class="token string">&quot;ETIMEDOUT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ECONNREFUSED&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EHOSTDOWN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EHOSTUNREACH&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 114 */</span> <span class="token string">&quot;EALREADY&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EINPROGRESS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ESTALE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EUCLEAN&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 118 */</span> <span class="token string">&quot;ENOTNAM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENAVAIL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EISNAM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EREMOTEIO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EDQUOT&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 123 */</span> <span class="token string">&quot;ENOMEDIUM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EMEDIUMTYPE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ECANCELED&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOKEY&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 127 */</span> <span class="token string">&quot;EKEYEXPIRED&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EKEYREVOKED&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EKEYREJECTED&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment" spellcheck="true">/* 130 */</span> <span class="token string">&quot;EOWNERDEAD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ENOTRECOVERABLE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ERFKILL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;EHWPOISON&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">define</span> MAX_ENAME 133</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x547D;&#x4EE4;&#x884C;&#x5904;&#x7406;&#x51FD;&#x6570;"><a href="#&#x547D;&#x4EE4;&#x884C;&#x5904;&#x7406;&#x51FD;&#x6570;" class="headerlink" title="&#x547D;&#x4EE4;&#x884C;&#x5904;&#x7406;&#x51FD;&#x6570;"></a>&#x547D;&#x4EE4;&#x884C;&#x5904;&#x7406;&#x51FD;&#x6570;</h2><h3 id="get-num-h"><a href="#get-num-h" class="headerlink" title="get_num.h"></a>get_num.h</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************\
*                  Copyright (C) Michael Kerrisk, 2019.                   *
*                                                                         *
* This program is free software. You may use, modify, and redistribute it *
* under the terms of the GNU Lesser General Public License as published   *
* by the Free Software Foundation, either version 3 or (at your option)   *
* any later version. This program is distributed without any warranty.    *
* See the files COPYING.lgpl-v3 and COPYING.gpl-v3 for details.           *
\*************************************************************************/</span>

<span class="token comment" spellcheck="true">/* get_num.h

   Header file for get_num.c.
*/</span>
<span class="token macro property">#<span class="token directive keyword">ifndef</span> GET_NUM_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> GET_NUM_H</span>

<span class="token macro property">#<span class="token directive keyword">define</span> GN_NONNEG       01      </span><span class="token comment" spellcheck="true">/* Value must be &gt;= 0 */</span>
<span class="token macro property">#<span class="token directive keyword">define</span> GN_GT_0         02      </span><span class="token comment" spellcheck="true">/* Value must be &gt; 0 */</span>

                                <span class="token comment" spellcheck="true">/* By default, integers are decimal */</span>
<span class="token macro property">#<span class="token directive keyword">define</span> GN_ANY_BASE   0100      </span><span class="token comment" spellcheck="true">/* Can use any base - like strtol(3) */</span>
<span class="token macro property">#<span class="token directive keyword">define</span> GN_BASE_8     0200      </span><span class="token comment" spellcheck="true">/* Value is expressed in octal */</span>
<span class="token macro property">#<span class="token directive keyword">define</span> GN_BASE_16    0400      </span><span class="token comment" spellcheck="true">/* Value is expressed in hexadecimal */</span>

<span class="token keyword">long</span> <span class="token function">getLong</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="get-num-c"><a href="#get-num-c" class="headerlink" title="get_num.c"></a>get_num.c</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************\
*                  Copyright (C) Michael Kerrisk, 2019.                   *
*                                                                         *
* This program is free software. You may use, modify, and redistribute it *
* under the terms of the GNU Lesser General Public License as published   *
* by the Free Software Foundation, either version 3 or (at your option)   *
* any later version. This program is distributed without any warranty.    *
* See the files COPYING.lgpl-v3 and COPYING.gpl-v3 for details.           *
\*************************************************************************/</span>

<span class="token comment" spellcheck="true">/* get_num.c

   Functions to process numeric command-line arguments.
*/</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;limits.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;errno.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;get_num.h&quot;</span></span>

<span class="token comment" spellcheck="true">/* Print a diagnostic message that contains a function name (&apos;fname&apos;),
   the value of a command-line argument (&apos;arg&apos;), the name of that
   command-line argument (&apos;name&apos;), and a diagnostic error message (&apos;msg&apos;). */</span>

<span class="token keyword">static</span> <span class="token keyword">void</span>
<span class="token function">gnFail</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>fname<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>msg<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;%s error&quot;</span><span class="token punctuation">,</span> fname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot; (in %s)&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;: %s\n&quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>arg <span class="token operator">!=</span> <span class="token string">&apos;\0&apos;</span><span class="token punctuation">)</span>
        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">&quot;        offending text: %s\n&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Convert a numeric command-line argument (&apos;arg&apos;) into a long integer,
   returned as the function result. &apos;flags&apos; is a bit mask of flags controlling
   how the conversion is done and what diagnostic checks are performed on the
   numeric result; see get_num.h for details.

   &apos;fname&apos; is the name of our caller, and &apos;name&apos; is the name associated with
   the command-line argument &apos;arg&apos;. &apos;fname&apos; and &apos;name&apos; are used to print a
   diagnostic message in case an error is detected when processing &apos;arg&apos;. */</span>

<span class="token keyword">static</span> <span class="token keyword">long</span>
<span class="token function">getNum</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>fname<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">long</span> res<span class="token punctuation">;</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>endptr<span class="token punctuation">;</span>
    <span class="token keyword">int</span> base<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> <span class="token operator">*</span>arg <span class="token operator">==</span> <span class="token string">&apos;\0&apos;</span><span class="token punctuation">)</span>
        <span class="token function">gnFail</span><span class="token punctuation">(</span>fname<span class="token punctuation">,</span> <span class="token string">&quot;null or empty string&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    base <span class="token operator">=</span> <span class="token punctuation">(</span>flags <span class="token operator">&amp;</span> GN_ANY_BASE<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>flags <span class="token operator">&amp;</span> GN_BASE_8<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">8</span> <span class="token punctuation">:</span>
                        <span class="token punctuation">(</span>flags <span class="token operator">&amp;</span> GN_BASE_16<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">16</span> <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">;</span>

    errno <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    res <span class="token operator">=</span> <span class="token function">strtol</span><span class="token punctuation">(</span>arg<span class="token punctuation">,</span> <span class="token operator">&amp;</span>endptr<span class="token punctuation">,</span> base<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>errno <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">gnFail</span><span class="token punctuation">(</span>fname<span class="token punctuation">,</span> <span class="token string">&quot;strtol() failed&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>endptr <span class="token operator">!=</span> <span class="token string">&apos;\0&apos;</span><span class="token punctuation">)</span>
        <span class="token function">gnFail</span><span class="token punctuation">(</span>fname<span class="token punctuation">,</span> <span class="token string">&quot;nonnumeric characters&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>flags <span class="token operator">&amp;</span> GN_NONNEG<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> res <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">gnFail</span><span class="token punctuation">(</span>fname<span class="token punctuation">,</span> <span class="token string">&quot;negative value not allowed&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>flags <span class="token operator">&amp;</span> GN_GT_0<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> res <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">gnFail</span><span class="token punctuation">(</span>fname<span class="token punctuation">,</span> <span class="token string">&quot;value must be &gt; 0&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Convert a numeric command-line argument string to a long integer. See the
   comments for getNum() for a description of the arguments to this function. */</span>

<span class="token keyword">long</span>
<span class="token function">getLong</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token string">&quot;getLong&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> flags<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* Convert a numeric command-line argument string to an integer. See the
   comments for getNum() for a description of the arguments to this function. */</span>

<span class="token keyword">int</span>
<span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">long</span> res<span class="token punctuation">;</span>

    res <span class="token operator">=</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token string">&quot;getInt&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> flags<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">&gt;</span> INT_MAX <span class="token operator">||</span> res <span class="token operator">&lt;</span> INT_MIN<span class="token punctuation">)</span>
        <span class="token function">gnFail</span><span class="token punctuation">(</span><span class="token string">&quot;getInt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;integer out of range&quot;</span><span class="token punctuation">,</span> arg<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x53EF;&#x79FB;&#x690D;&#x6027;&#x51FD;&#x6570;"><a href="#&#x53EF;&#x79FB;&#x690D;&#x6027;&#x51FD;&#x6570;" class="headerlink" title="&#x53EF;&#x79FB;&#x690D;&#x6027;&#x51FD;&#x6570;"></a>&#x53EF;&#x79FB;&#x690D;&#x6027;&#x51FD;&#x6570;</h2><h3 id="ALT-functions-c"><a href="#ALT-functions-c" class="headerlink" title="ALT_functions.c"></a>ALT_functions.c</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************\
*                  Copyright (C) Michael Kerrisk, 2019.                   *
*                                                                         *
* This program is free software. You may use, modify, and redistribute it *
* under the terms of the GNU Lesser General Public License as published   *
* by the Free Software Foundation, either version 3 or (at your option)   *
* any later version. This program is distributed without any warranty.    *
* See the files COPYING.lgpl-v3 and COPYING.gpl-v3 for details.           *
\*************************************************************************/</span>

<span class="token comment" spellcheck="true">/* ALT_functions.c

   Some library functions on Linux are not available on other UNIX
   implementations. Below are some implementations (in some cases quite
   minimal) of those functions used by our programs.

   Each of these functions has a name of the form ALT_xxx() where xxx() is the
   function being replaced. (#defines are used elsewhere to convert the
   standard names into these alternate forms.)
*/</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;alt_functions.h&quot;</span></span>

<span class="token comment" spellcheck="true">/* A very minimal implementation of strsignal()... */</span>

<span class="token macro property">#<span class="token directive keyword">define</span> BUF_SIZE 100</span>

<span class="token keyword">char</span> <span class="token operator">*</span>
<span class="token function">ALT_strsignal</span><span class="token punctuation">(</span><span class="token keyword">int</span> sig<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span>BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">/* Not thread-safe */</span>

    <span class="token function">snprintf</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> BUF_SIZE<span class="token punctuation">,</span> <span class="token string">&quot;SIG-%d&quot;</span><span class="token punctuation">,</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> buf<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* A very minimal implementation of hstrerror()... */</span>

<span class="token keyword">char</span> <span class="token operator">*</span>
<span class="token function">ALT_hstrerror</span><span class="token punctuation">(</span><span class="token keyword">int</span> err<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span>BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">/* Not thread-safe */</span>

    <span class="token function">snprintf</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> BUF_SIZE<span class="token punctuation">,</span> <span class="token string">&quot;hstrerror-%d&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> buf<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* posix_openpt() is simple to implement */</span>

<span class="token keyword">int</span>
<span class="token function">ALT_posix_openpt</span><span class="token punctuation">(</span><span class="token keyword">int</span> flags<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;/dev/ptmx&quot;</span><span class="token punctuation">,</span> flags<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="alt-functions-h"><a href="#alt-functions-h" class="headerlink" title="alt_functions.h"></a>alt_functions.h</h3><pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************\
*                  Copyright (C) Michael Kerrisk, 2019.                   *
*                                                                         *
* This program is free software. You may use, modify, and redistribute it *
* under the terms of the GNU Lesser General Public License as published   *
* by the Free Software Foundation, either version 3 or (at your option)   *
* any later version. This program is distributed without any warranty.    *
* See the files COPYING.lgpl-v3 and COPYING.gpl-v3 for details.           *
\*************************************************************************/</span>

<span class="token comment" spellcheck="true">/* alt_functions.h

   Header file for alt_functions.c.
*/</span>
<span class="token macro property">#<span class="token directive keyword">ifndef</span> ALT_FUNCTIONS_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ALT_FUNCTIONS_H         </span><span class="token comment" spellcheck="true">/* Prevent accidental double inclusion */</span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined(__osf__) || defined(__hpux) || defined(_AIX) || \
        defined(__sgi) || defined(__APPLE__)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> strsignal(sig) ALT_strsignal(sig)</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">ALT_strsignal</span><span class="token punctuation">(</span><span class="token keyword">int</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined(__hpux) || defined(__osf__)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> hstrerror(err) ALT_hstrerror(err)</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">ALT_hstrerror</span><span class="token punctuation">(</span><span class="token keyword">int</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined(__hpux) || defined(__osf__)</span>
<span class="token macro property">#<span class="token directive keyword">define</span> posix_openpt(flags) ALT_posix_openpt(flags)</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>
<span class="token keyword">int</span> <span class="token function">ALT_posix_openpt</span><span class="token punctuation">(</span><span class="token keyword">int</span> flags<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css">
			  		
			  		<!-- google Adsense -->
			  		
					
					
					
					
			    	
					
					<!-- google Adsense Matched content -->
			  		
			  	</div>
				
		  	</article>
		  	
		  	
		  	<!-- TAGS -->
		  	
		  	<div class="meta-content">
				
				<div class="widget">
				  	<h6 class="tag"><span class="fa fa-fw fa-tag"></span>TAGS</h6>
				  	<div class="article-tag">
						<ul class="article-tag-list">
							
					    		<li class="article-tag-list-item">
					    			<a class="article-tag-list-link" href="/tags/c/">
					    				c
					    			</a>
					    		</li>
							
						</ul>
					</div>
				</div>
				
			</div>
		  	
		  	
		  	<!-- Categories posts -->
		  	
		  	
		  	
		  	<!-- Detailed categories  posts -->
		  	
		  	
		  	
		  	<!-- Latests -->
		  	
			
		</div>
		
		
		<footer id="footer">
		
			
			
			
			
			<div class="copyright-tool">
				
				
				
				<div class="copyright-title">
					<span>
					&copy; 2020&nbsp;ALaDing
					</span>
				</div>
				
				<div class="copyright-license">
					<aside>
						Powered by <a href="https://hexo.io/">Hexo</a>. <a href="https://github.com/tea3/hexo-generator-amp">AMP-Theme</a> designed by <a href="https://github.com/tea3/">tea</a>.
					</aside>
				</div>
			</div>
			
		</footer>


  	<div id="totop"><a href="#"></a></div>


  </body>
</html>
