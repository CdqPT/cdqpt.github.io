<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href="https://purethought.cn/6415.html" >
    <title>cmake笔记 - ALaDing</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
    <meta property="og:title" content="cmake笔记">
	<meta property="og:type" content="article">
	<meta property="og:url" content="https://purethought.cn/6415.html">
	
		<meta property="og:image" content="/amp-dist/sample/sample-substituteTitleImage.png">
	
	<meta property="og:site_name" content="ALaDing">
	
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="ALaDing">
	<meta name="twitter:url" content="https://purethought.cn/6415.html">
	<meta name="twitter:title" content="cmake笔记 - ALaDing">
	
    
    	<meta name="twitter:image" content="/amp-dist/sample/sample-substituteTitleImage.png">
	
	
	
    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
    <!--
  	<script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>
    -->
    
    
    
    
    
    
    
    
    
    
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "BlogPosting",
			"headline": "cmake笔记",
			
			"mainEntityOfPage":{
			    "@type":"WebPage",
			    "@id":"https://purethought.cn/6415.html"
			},
			"datePublished": "2019-12-12T08:36:00.000Z",
			"dateModified": "2020-02-24T16:00:10.613Z",
			
			"image": {
				"@type": "ImageObject",
				"url": "/amp-dist/sample/sample-substituteTitleImage.png",
				"width" : "1024",
				"height" : "800"
			},
			
			"author": {
			    "@type": "Person",
			    "name": "陈德强"
			},
			"publisher": {
			    "@type": "Organization",
			    "name": "ALaDing"
			    
			    ,
			    "logo": {
			      "@type": "ImageObject",
			      "url": "https://purethought.cn/amp-dist/sample/sample-logo.png",
			      "width": 600,
			      "height": 60
			    }
			    
			}
		}
	</script>
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	
	<style amp-custom>
		
abbr,
acronym,
address,
applet,
big,
blockquote,
body,
caption,
cite,
code,
dd,
del,
dfn,
div,
dl,
dt,
em,
fieldset,
form,
h1,
h2,
h3,
h4,
h5,
h6,
html,
iframe,
img,
ins,
kbd,
label,
legend,
li,
object,
ol,
p,
pre,
q,
s,
samp,
small,
span,
strike,
strong,
sub,
sup,
table,
tbody,
td,
tfoot,
th,
thead,
tr,
tt,
ul,
var {
  border: 0;
  font-family: inherit;
  font-size: 1rem;
  font-style: inherit;
  font-weight: inherit;
  margin: 0;
  outline: 0;
  padding: 0;
  vertical-align: baseline;
}
abbr {
  cursor: help;
  border-bottom: 1px dotted;
  font-variant: normal;
}
acronym {
  border-bottom: 1px dotted;
  font-variant: normal;
}
body {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  -webkit-text-size-adjust: 100%;
  background: #fff;
  color: #2d3d40;
  font-family: sans-serif;
  font-size: 1rem;
  font-weight: 500;
  line-height: 2rem;
  text-rendering: optimizelegibility;
}
button::-moz-focus-inner,
input::-moz-focus-inner,
figure.highlight td,
.post .entry-content figure.highlight th {
  border: 0;
  padding: 0;
}
caption,
table,
td,
th {
  vertical-align: middle;
}
caption,
td,
th,
.table-align-left {
  text-align: left;
}
del {
  text-decoration: line-through;
}
html {
  font-size: 14px;
}
:root sub,
:root sup {
  vertical-align: baseline;
}
table {
  border-collapse: separate;
  border-spacing: 0;
}
a {
  color: #e91e63;
  text-decoration: none;
  -webkit-transition: 0.7s;
  -ms-transition: 0.7s;
  -moz-transition: 0.7s;
  -o-transition: 0.7s;
  -webkit-transition: 0.7s;
  -moz-transition: 0.7s;
  -o-transition: 0.7s;
  -ms-transition: 0.7s;
  transition: 0.7s;
  border: 0;
  font-family: inherit;
  font-size: 1rem;
  font-style: inherit;
  font-weight: inherit;
  margin: 0;
  outline: 0;
  padding: 0;
  vertical-align: baseline;
}
a img {
  border: none;
}
a:hover {
  -webkit-transition: 0.2s;
  -ms-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -webkit-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -ms-transition: 0.2s;
  transition: 0.2s;
  color: #930e3b;
}
@media (min-width: 481px) {
  html {
    font-size: 16px;
  }
}
@media (min-width: 0px) and (max-width: 480px) {
  html {
    font-size: 14px;
  }
}
.clearfix:after {
  clear: both;
  visibility: hidden;
  content: ".";
  display: block;
  height: 0;
}
.left {
  float: left;
}
.right {
  float: right;
}
.circle {
  -webkit-border-radius: 50%;
  border-radius: 50%;
}
.thumbImg-w {
  width: 100px;
  height: 100px;
  display: inline-block;
  position: relative;
  overflow: hidden;
}
.thumbImg {
  top: 50%;
  left: 50%;
  position: absolute;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.__web-inspector-hide-shortcut__ {
  visibility: hidden ;
}
button {
  -webkit-box-align: start;
  -moz-box-align: start;
  -o-box-align: start;
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
  text-align: center;
  cursor: default;
  color: buttontext;
  background-color: buttonface;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 2px 6px 3px;
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  -webkit-border-image: initial;
  -moz-border-image: initial;
  -o-border-image: initial;
  border-image: initial;
  text-rendering: auto;
  color: initial;
  letter-spacing: normal;
  word-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
  display: inline-block;
  text-align: start;
  margin: 0em 0em 0em 0em;
  font: 11px system-ui;
  -webkit-writing-mode: horizontal-tb;
  -webkit-appearance: button;
}
.hamburger {
  display: inline-block;
  background-color: transparent;
  background-image: url("data:image/svg+xmlutf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#4A4A4A\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");
  background-repeat: no-repeat;
  -webkit-background-size: 30px 24px;
  -moz-background-size: 30px 24px;
  background-size: 30px 24px;
  background-position: center center;
  border: none;
  margin: 0;
  padding: 0;
  width: 60px;
  height: 60px;
  cursor: pointer;
  -ms-flex-item-align: center;
  -ms-grid-row-align: center;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
}
.nav ul:after {
  clear: both;
  visibility: hidden;
}
.nav,
.nav-icon {
  position: relative;
}
.nav ul {
  display: block;
}
.nav ul li {
  display: block;
}
.nav ul li a {
  display: block;
}
.tab {
  position: relative;
  color: #424242;
  padding: 6px;
  margin: 0 4px;
  text-decoration: none;
  text-transform: uppercase;
  font-weight: 400;
  -webkit-transition: 0.1s ease color;
  -webkit-transition: 0.1s ease color;
  -moz-transition: 0.1s ease color;
  -o-transition: 0.1s ease color;
  -ms-transition: 0.1s ease color;
  transition: 0.1s ease color;
}
amp-sidebar {
  width: 200px;
}
amp-sidebar ul {
  padding: 10px 0;
}
amp-sidebar li a {
  display: block;
  padding: 10px 20px;
}
header {
  height: 60px;
  background-color: #222f31;
  -webkit-box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
  box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
  -webkit-box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
}
header .header-title a {
  padding: 0 0 0 20px;
  height: 60px;
  line-height: 60px;
  font-size: 20px;
  color: #fff;
  letter-spacing: 0.2em;
}
header .nav-container {
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: justify;
  -ms-flex-pack: justify;
  -webkit-box-pack: justify;
  -moz-box-pack: justify;
  -o-box-pack: justify;
  -ms-flex-pack: justify;
  -webkit-justify-content: space-between;
  justify-content: space-between;
}
header .left-nav {
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -ms-flex-align: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  -webkit-box-pack: start;
  -ms-flex-pack: start;
  -webkit-box-pack: start;
  -moz-box-pack: start;
  -o-box-pack: start;
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
  font-size: 20px;
  margin-left: 0;
  font-weight: 300;
  -webkit-box-pack: start;
  -ms-flex-pack: start;
  -webkit-box-pack: start;
  -moz-box-pack: start;
  -o-box-pack: start;
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
  -webkit-box-flex: 1;
  -ms-flex: 1 1 auto;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1 1 auto;
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  text-align: left;
  width: auto;
  font-size: 15px;
}
header .right {
  font-size: 15px;
}
header .alt {
  padding: 0;
  text-align: right;
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  -o-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-align-items: stretch;
  align-items: stretch;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.blog-title a {
  position: relative;
}
button {
  -webkit-box-align: start;
  -moz-box-align: start;
  -o-box-align: start;
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
  text-align: center;
  cursor: default;
  color: buttontext;
  background-color: buttonface;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 2px 6px 3px;
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  -webkit-border-image: initial;
  -moz-border-image: initial;
  -o-border-image: initial;
  border-image: initial;
  text-rendering: auto;
  color: initial;
  letter-spacing: normal;
  word-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
  display: inline-block;
  text-align: start;
  margin: 0em 0em 0em 0em;
  font: 11px system-ui;
  -webkit-writing-mode: horizontal-tb;
  -webkit-appearance: button;
}
.__web-inspector-hide-shortcut__ {
  visibility: hidden ;
}
.hamburger {
  display: inline-block;
  background-color: transparent;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#FFF\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");
  background-repeat: no-repeat;
  -webkit-background-size: 30px 24px;
  -moz-background-size: 30px 24px;
  background-size: 30px 24px;
  background-position: center center;
  border: none;
  margin: 0;
  padding: 0;
  width: 60px;
  height: 60px;
  cursor: pointer;
  -ms-flex-item-align: center;
  -ms-grid-row-align: center;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
}
.tab {
  position: relative;
  color: #2d3d40;
  padding: 6px;
  margin: 0 4px;
  text-decoration: none;
  text-transform: uppercase;
  font-weight: 400;
  -webkit-transition: 0.1s ease color;
  -webkit-transition: 0.1s ease color;
  -moz-transition: 0.1s ease color;
  -o-transition: 0.1s ease color;
  -ms-transition: 0.1s ease color;
  transition: 0.1s ease color;
}
amp-sidebar {
  width: 250px;
  background-color: #182022;
}
amp-sidebar ul {
  padding: 10px 0;
}
amp-sidebar li {
  border-top: 1px solid #2f4043;
}
amp-sidebar li:last-child {
  border-bottom: 1px solid #2f4043;
}
amp-sidebar li a {
  color: #fff;
  font-weight: bold;
  display: block;
  padding: 10px 20px;
}
amp-sidebar li a:hover {
  color: #ccc;
  background-color: #030404;
}
.categories-header {
  background-color: #2d3d40;
  padding: 0rem 0.8rem;
}
.categories-header a {
  color: #fff;
}
.categories-header a:hover {
  color: #fff;
}
.categories-header .breadcrumb ol li {
  list-style: none;
  display: inline-block;
  margin: 0;
}
.categories-header .breadcrumb ol li span {
  font-size: 0.8rem;
  font-weight: bold;
}
.categories-header .breadcrumb ol li:after {
  content: "/";
  color: #fff;
  display: inline-block;
  margin: 0 0.4rem;
}
.categories-header .breadcrumb ol li:last-child:after {
  content: "";
  margin: 0;
}
.entry-header {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.entry-header .flx:first-child {
  margin: 0 1rem 0 0;
}
.header-cap {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.title-cover {
  background-color: #fff;
  color: #2d3d40;
  padding: 1.5rem 0.8rem 0 0.8rem;
}
.title-cover a {
  font-size: 1.2rem;
  color: #2d3d40;
  text-align: left;
  font-weight: bold;
}
.entry-title {
  margin: 0;
}
.entry-meta-header {
  font-size: 0.85rem;
  text-align: center;
}
.entry-meta-header .date {
  font-family: sans-serif;
}
h1 a,
h2 a,
h3 a,
h4 a,
h5 a,
h6 a {
  color: #2d3d40;
  text-decoration: none;
}
h1 a:hover,
h2 a:hover,
h3 a:hover,
h4 a:hover,
h5 a:hover,
h6 a:hover {
  color: #e91e63;
}
#container {
  margin-left: auto;
  margin-right: auto;
}
#main {
  margin-bottom: 3em;
  padding-left: 0;
}
.post {
  margin-bottom: 3rem;
  position: relative;
}
.entry-content {
  margin: 0 0.6rem;
  font-size: 1rem;
}
.entry-content h1 {
  font-size: 1.7rem;
  line-height: 1.5;
  margin: 1em 0 0.8em;
}
.entry-content h2,
.entry-content h3,
.entry-content h4,
.entry-content h5,
.entry-content h6,
.entry-content h2 span,
.entry-content h3 span,
.entry-content h4 span,
.entry-content h5 span,
.entry-content h6 span {
  color: #98b8be;
  font-weight: bold;
}
.entry-content h2,
.entry-content h2 span {
  font-size: 1.8rem;
  line-height: 2.6rem;
  text-align: center;
}
.entry-content h2 {
  border-bottom: 2px solid #cce4e8;
  margin: 4.5rem 0 0.5em;
  padding: 0.8em 0;
}
.entry-content h3,
.entry-content h3 span {
  font-size: 1.6rem;
  line-height: 2.2rem;
  text-align: center;
}
.entry-content h3 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h4,
.entry-content h4 span {
  font-size: 1.4rem;
  line-height: 2rem;
  text-align: center;
}
.entry-content h4 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h5,
.entry-content h5 span {
  font-size: 1.2rem;
  line-height: 1.8rem;
  text-align: center;
}
.entry-content h5 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h6,
.entry-content h6 span {
  font-size: 1.1rem;
  line-height: 1.6rem;
  text-align: center;
}
.entry-content h6 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content p {
  font-size: 1rem;
  letter-spacing: 0.05rem;
  line-height: 2.2rem;
  margin: 3rem 0.8rem;
}
.entry-content p a {
  word-wrap: break-word;
  overflow-wrap: break-word;
  display: inline;
  border-bottom: 1px dashed #f1729d;
  padding-bottom: 0.3rem;
}
.entry-content p a:hover {
  border-bottom: 1px dashed #9c0f3f;
  padding-bottom: 0.4rem;
}
.entry-content em {
  background-color: #f9f5d1;
  color: #886d00;
  font-style: normal;
  margin: 0 2px;
  padding: 0.4em;
}
.entry-content strong {
  color: #871c1c;
  font-style: normal;
  margin: 0 2px;
  padding: 0.4em;
  background-color: #fadcdc;
}
.entry-content hr {
  border: 0;
  border-top: 3px solid #cce4e8;
  margin: 3rem auto;
  width: 20%;
}
.entry-content img,
.entry-content video {
  display: block;
  height: auto;
  margin: auto;
  max-width: 100%;
}
.entry-content iframe {
  width: 100% ;
}
.entry-content blockquote {
  margin: 3rem 0.8rem;
  padding: 1rem 1.8rem;
  position: relative;
  background-color: none;
  border-left: 3px solid #98b8be;
  font-style: italic;
}
.entry-content blockquote p {
  margin: 0.5rem 0;
}
.entry-content blockquote blockquote {
  border-left: none;
}
.entry-content .table-wrapper {
  margin: 3rem 0.8rem;
}
.entry-content table {
  border-collapse: collapse;
  border-spacing: 0;
  overflow: auto;
  display: block;
  font-size: 0.85rem;
  margin: 0 auto;
  width: auto;
}
.entry-content td,
.entry-content th {
  line-height: 1.8em;
  padding: 0.8rem 0.8rem;
  font-size: 0.85rem;
}
.entry-content td em,
.entry-content th em,
.entry-content td strong,
.entry-content th strong,
.entry-content td a,
.entry-content th a {
  font-size: 0.85rem;
}
.entry-content td {
  border: 1px solid #c4c4c4;
}
.entry-content th {
  background-color: #ecf5f7;
  border: 1px solid #c4c4c4;
}
.entry-content .table-align-center {
  text-align: center;
}
.entry-content .table-align-right {
  text-align: right;
}
.entry-content ul,
.entry-content ol,
.entry-content dl {
  margin: 3rem 0 3rem 1.6rem;
  padding: 0;
  list-style: none;
  font-size: 1rem;
}
.entry-content ul li,
.entry-content ol li,
.entry-content dl li {
  line-height: 2rem;
  position: relative;
  padding: 0;
}
.entry-content ul li p,
.entry-content ol li p,
.entry-content dl li p {
  line-height: 2rem;
  margin: 0;
}
.entry-content ul li p:not(:first-child),
.entry-content ol li p:not(:first-child),
.entry-content dl li p:not(:first-child) {
  color: #57767c;
  margin: 0.5rem;
}
.entry-content ul li ul,
.entry-content ol li ul,
.entry-content dl li ul,
.entry-content ul li ol,
.entry-content ol li ol,
.entry-content dl li ol,
.entry-content ul li dl,
.entry-content ol li dl,
.entry-content dl li dl {
  margin: 1rem;
}
.entry-content ul li {
  margin: 0.4rem 0 0.4rem 0.8rem;
}
.entry-content ul li::after {
  position: absolute;
  display: block;
  content: '';
  top: 0.75rem;
  left: -1rem;
  width: 0.5rem;
  height: 0.5rem;
  background-color: #cce4e8;
  border-radius: 100%;
}
.entry-content ol {
  counter-reset: number;
}
.entry-content ol li {
  margin: 0.4rem 0 0.4rem 2rem;
}
.entry-content ol li p:first-child {
  display: inline-block;
  line-height: 1.6rem;
  height: 1.6rem;
}
.entry-content ol li:before {
  position: absolute;
  display: inline-block;
  float: left;
  margin: 0 0.2rem 0 0;
  padding: 0;
  counter-increment: number;
  content: counter(number);
  left: -2.2rem;
  top: 0.2rem;
  background-color: #98b8be;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  color: #fff;
  text-align: center;
  font-weight: bold;
  font-size: 0.8rem;
  line-height: 1.6rem;
}
kbd {
  font-family: sans-serif;
  text-align: center;
  display: inline-block;
  color: #425a5e;
  -moz-osx-font-smoothing: grayscale;
  -webkit-border-radius: 3px;
  -webkit-box-shadow: 0 0 10px #e8e8e8 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  box-shadow: 0 0 10px #e8e8e8 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  -webkit-box-shadow: 0 0 10px #e2e2e2 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  -webkit-font-smoothing: subpixel-antialiased;
  background: #fff;
  border-left: 1px solid #fff;
  border-radius: 3px;
  border-right: 1px solid #e6e6e6;
  border-top: 1px solid #fff;
  font-size: 0.85rem;
  line-height: 1rem;
  margin: 5px;
  padding: 6px 8px 3px;
  text-shadow: 0 1px 0 #fff;
  vertical-align: baseline;
  
}
img.responsive-img {
  height: auto;
  max-width: 100%;
}
video.responsive-video {
  height: auto;
  max-width: 100%;
}
amp-instagram,
amp-vimeo,
amp-video,
amp-youtube,
amp-twitter,
.soundcloud-wrapper,
.amp-img-wrapper,
.googleAdPost,
.ad-footer {
  margin: 3rem 0.8rem;
}
code,
figure.highlight .code,
pre {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: subpixel-antialiased;
}
code,
pre,
samp {
  font-family: Menlo, Consolas, Monaco, Consolas, monospace;
}
p code {
  font-size: 1rem;
}
code,
pre {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
  background-color: #ecf5f7;
  color: #007e96;
}
code {
  margin: 0 3px;
  padding: 0.4em;
}
samp {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
}
sub,
sup {
  font-size: 0.75rem;
  line-height: 0;
  position: relative;
}
sub {
  bottom: -0.2em;
}
sup {
  top: -0.5em;
}
pre {
  font-size: 1rem;
  letter-spacing: 0.05rem;
  margin: 0 3px;
  padding: 15px;
  -webkit-background-clip: padding;
  -moz-background-clip: padding;
  background-clip: padding-box;
  border: 0;
  line-height: 1.3rem;
  overflow-x: auto;
}
pre .addition,
pre .css .tag,
pre .keyword,
pre .method,
pre .nginx .title,
pre .request,
pre .status,
pre .winutils {
  color: #66d9ef;
}
pre .attr_selector,
pre .cdata,
pre .clojure .title,
pre .diff .change,
pre .important {
  color: #9882eb;
}
pre .preprocessor {
  color: #9882eb;
}
pre .preprocessor .keyword {
  color: #9882eb;
}
pre .shebang,
pre .special,
pre .subst {
  color: #9882eb;
}
pre .symbol {
  color: #9882eb;
}
pre .symbol .string {
  color: #9882eb;
}
pre .attribute,
pre .class .title,
pre .constant,
pre .haskell .type,
pre .lisp .body,
pre .parent,
pre .smalltalk .number,
pre .variable {
  color: #a6e22e;
}
pre .built_in,
pre .chunk,
pre .decorator,
pre .id,
pre .identifier,
pre .literal,
pre .localvars,
pre .title,
pre .vhdl,
pre .deletion {
  color: #f92672;
}
pre .command,
pre .hexcolor,
pre .number,
pre .phpdoc,
pre .regexp,
pre .string,
pre .tag .value,
pre .tex .formula {
  color: #e6db74;
}
pre .comment,
pre .diff .header,
pre .doctype,
pre .javadoc,
pre .lisp .string,
pre .pi,
pre .template_comment {
  color: #75715e;
  font-weight: normal;
}
.line {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
  line-height: 2rem;
  color: #f8f8f2;
}
.line span {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
}
.gist {
  background: #fff;
  border: 1px solid color-gutter;
  color: #f8f8f2;
  line-height: 1.6rem;
  margin-top: 15px;
  overflow: auto;
  padding: 7px 15px;
}
.gist .gist-file {
  border: none;
  font-family: inherit;
  font-size: 1rem;
  letter-spacing: 0;
  margin: 0;
}
.gist .gist-file .gist-data {
  background: 0 0;
  border-bottom: none;
}
.gist .gist-file .gist-data pre {
  font-family: Menlo, Consolas, Monaco, Consolas, monospace;
  padding: 0 ;
}
.gist .gist-file .gist-meta {
  background: 0 0;
  color: #f8f8f2;
  font-size: 1rem;
  margin-top: 5px;
  padding: 0;
}
.gist .gist-file .gist-meta a {
  color: #f8f8f2;
}
.gist .gist-file .gist-meta a:visited {
  color: #f8f8f2;
}
figure.highlight {
  font-size: 0.95rem;
  margin: 3rem 0.8rem;
  background: #263338;
  border: 1px solid color-gutter;
  line-height: 2rem;
  overflow: auto;
  position: relative;
}
figure.highlight .code {
  padding: 0 1em 1em 1em;
  color: #f8f8f2;
}
figure.highlight .gutter {
  display: none;
}
figure.highlight figcaption {
  font-size: 1rem;
  font-weight: bold;
  color: #e9e9d6;
  background-color: #1e282c;
  padding: 0.6em 1em;
}
figure.highlight figcaption a {
  position: absolute;
  right: 1rem;
}
figure.highlight figcaption:before {
  content: "\f121";
  font-family: "fontawesome";
  text-align: center;
  display: inline-block;
  margin-right: 0.6em;
}
figure.highlight pre {
  background: 0 0;
  border: none;
  margin: 0;
  padding: 0.5rem;
}
figure.highlight table {
  border-spacing: 0;
  margin: 0;
}
figure.highlight th {
  border: 0;
  font-weight: 400;
  padding: 0;
}
figure.highlight td {
  border: 0;
  font-size: 1.1rem;
  padding: 0;
}
.entry-content .toc {
  background: #fff;
  padding: 0.5rem;
  margin: 3rem 0;
  border: 1px solid #cce4e8;
  border-radius: 2px;
}
.entry-content .toc ul {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
  border-top: 1px solid #5d8b93;
  border-radius: 2px;
}
.entry-content .toc ul:first-child {
  border-top: none;
}
.entry-content .toc ul ul,
.entry-content .toc ul ol {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
}
.entry-content .toc ul li {
  padding: 0;
  margin: 0;
  border-top: 1px solid #5d8b93;
}
.entry-content .toc ul li:first-child {
  border-top: none;
}
.entry-content .toc ul li::after,
.entry-content .toc ul li::before {
  content: normal;
}
.entry-content .toc ul li a {
  font-size: 1.2rem;
  font-weight: bold;
  display: block;
  padding: 1rem;
  background-color: #3d5b61;
  color: #fff;
  -webkit-transition: 0.3s;
  -ms-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -ms-transition: 0.3s;
  transition: 0.3s;
}
.entry-content .toc ul li a:hover {
  color: #fff;
  background-color: #2c4145;
}
.entry-content .toc ul li a:before {
  content: "\f02d";
  font-family: "fontawesome";
  display: inline-block;
  padding: 0;
  margin: 0;
  margin-right: 0.8rem;
}
.entry-content .toc ul li ul,
.entry-content .toc ul li ol {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
}
.entry-content .toc ul li ul li a,
.entry-content .toc ul li ol li a {
  padding: 0.5rem 0.75rem 0.5rem 2rem;
  font-size: 0.9rem;
  background-color: #416167;
}
.entry-content .toc ul li ul li a:before,
.entry-content .toc ul li ol li a:before {
  content: "\f0da";
  font-family: "fontawesome";
  display: inline-block;
  padding: 0;
  margin: 0;
  margin-right: 0.6rem;
}
.entry-content .toc ul li ul li ul li a,
.entry-content .toc ul li ol li ul li a {
  padding: 0.5rem 0.75rem 0.5rem 4rem;
}
.entry-content .toc ul li ul li ul li a:before,
.entry-content .toc ul li ol li ul li a:before {
  content: none;
}
.meta-content {
  background-color: #fff;
  margin: 1.5rem 0.8rem;
  padding: 0;
  border-top: 1px dotted #cce4e8;
  letter-spacing: 0.05rem;
}
.meta-wrapper {
  margin: 3rem 0.8rem;
  padding: 0;
  background-color: #fff;
}
h6.tag,
h6.categories {
  color: #2d3d40;
  font-size: 0.9rem;
  font-weight: bold;
}
.article-tag-list {
  padding: 0;
}
.article-tag,
.article-tag-list,
.article-categories,
.article-categories-list {
  padding: 0;
  margin: 0;
}
.article-categories {
  margin-bottom: 1.6em;
}
.article-tag-list li,
.article-categories-list li {
  list-style: none;
  display: inline-block;
  padding: 0;
  margin: 0.2rem 0.1rem;
}
.article-tag-list li a,
.article-categories-list li a {
  font-size: 0.8rem;
  font-weight: bold;
  padding: 0.4rem 0.8rem;
  margin: 0;
  background-color: #ecf5f7;
  color: #2d3d40;
  border-radius: 2px;
  display: block;
}
.article-tag-list li a:before,
.article-categories-list li a:before {
  content: "#";
}
.article-tag-list li a:hover,
.article-categories-list li a:hover {
  color: #fff;
  background-color: #2d3d40;
}
.widget {
  margin: 1.5rem 0.8rem;
  padding: 0;
}
.widget-h {
  text-align: center;
  margin: 1.6rem 0;
}
.widget-h h6 {
  color: #fff;
  background-color: #2d3d40;
  display: inline-block;
  padding: 0.4rem 1rem;
  font-size: 0.9rem;
  font-weight: bold;
}
.posts-list li {
  list-style: none;
  margin: 0.8rem 0;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.posts-list li .posts-list-link {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.posts-list li .posts-list-link a {
  color: #2d3d40;
  font-size: 1.1rem;
  font-weight: bold;
}
.posts-list li .posts-list-link a:hover {
  color: #e91e63;
}
.posts-list li .posts-list-meta {
  font-size: 0.7rem;
}
.posts-list li .flx:first-child {
  margin: 0 1rem 0 0;
}
.posts-list li amp-img {
  border-radius: 2px;
}
#footer {
  background-color: #2d3d40;
  color: #fff;
  display: block;
  font-size: 1rem;
  letter-spacing: 0.05rem;
  line-height: 2rem;
  margin: 3rem 0 0 0;
  padding: 0;
}
.site-author-info {
  margin: 0;
  padding: 3rem 1.6rem;
}
.site-author-info h6 {
  font-size: 1rem;
  color: #fff;
  font-weight: bold;
  display: inline-block;
  background-color: #222f31;
  padding: 0.4rem 0.8rem;
}
.site-author-info-wrapper {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.site-author-info-wrapper .flx:first-child {
  margin: 0 1rem 0 0;
}
.authorCap-wrapper {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.authorCap {
  font-size: 1.4rem;
  font-weight: bold;
}
.authorReading {
  font-size: 0.7rem;
}
.site-author-desc {
  font-size: 0.8rem;
  line-height: 1.6rem;
  margin: 1.4rem 0;
}
.copyright-tool {
  margin: 0;
  padding: 1.5rem 1.6rem;
  border-top: 1px solid #384b4f;
}
.copyright-notice p {
  font-size: 0.6rem;
  letter-spacing: 0.05rem;
  line-height: 1.2rem;
  color: #8ba8ae;
}
.copyright-title {
  font-size: 1rem;
  text-align: center;
  margin: 0.8rem 0 0.4rem 0;
}
.copyright-license {
  margin: 0.4rem 0 0.8rem 0;
  font-size: 0.7rem;
  text-align: center;
}
.copyright-license a {
  color: #e6e6e6;
  font-size: 0.7rem;
}
.copyright-license a:hover {
  color: #b3b3b3;
}
.sns-link {
  margin: 0;
  text-align: center;
}
.sns-link a {
  display: inline-block;
  font-size: 1.6rem;
  text-align: center;
  width: 2rem;
  height: 2rem;
  line-height: 2rem;
  padding: 0.6rem;
  margin: 0 0.1rem;
  background-color: #222f31;
  color: #fff;
  border-radius: 4px;
}
.sns-link a:hover {
  color: #ccc;
  background-color: #030404;
}
.footer-menu {
  padding: 1.5rem 0.8rem;
  border-top: 1px solid #384b4f;
}
.footer-menu ul li {
  list-style: none;
  margin: 0;
  padding: 0;
}
.footer-menu ul li a {
  display: block;
  padding: 0.6rem;
  margin: 0.2rem 1.6rem;
  font-size: 1rem;
  color: #fff;
  background-color: #222f31;
  border-radius: 4px;
  text-align: center;
  font-weight: bold;
}
.footer-menu ul li a:hover {
  color: #ccc;
  background-color: #030404;
}
.social-share {
  margin: 1.5rem 0.8rem;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.social-share amp-social-share,
.social-share .sbtn {
  margin: 5px;
}
.sbtn {
  padding: 0;
  width: 4rem;
  height: 3rem;
  line-height: 3rem;
  color: #fff;
  font-size: 1.2rem;
  text-align: center;
  border-radius: 4px;
}
.sbtn:hover {
  color: #fff;
}
.tw {
  background-color: #1cafe8;
}
.tw:hover {
  background-color: #0f6b8f;
}
.fb {
  background-color: #4f677f;
}
.fb:hover {
  background-color: #283440;
}
.ht {
  background-color: #35acda;
}
.ht:hover {
  background-color: #1a6e8f;
}
.gp {
  background-color: #d56153;
}
.gp:hover {
  background-color: #9c3326;
}
.tb {
  background-color: #465f79;
}
.tb:hover {
  background-color: #212c38;
}
.icon-hatena:before {
  content: "B";
  font-weight: bold;
  font-size: 1.2rem;
}
#totop {
  position: fixed;
  bottom: 2rem;
  right: 1.6rem;
  font-size: 1.2rem;
  z-index: 995;
}
#totop a {
  background: rgba(152,184,190,0.6);
  text-decoration: none;
  color: #fff;
  padding: 0.8rem;
  border-radius: 50%;
}
#totop a:before {
  content: "\f062";
  font-family: "fontawesome";
  font-size: 1.2rem;
}
#totop a:hover {
  text-decoration: none;
  background: #5d8b93;
  color: #fff;
  line-height: 2.3em;
}
@media (min-width: 800px) {
  .title-cover,
  .entry-content,
  .categories,
  .meta-content,
  .site-author-info {
    width: 780px;
    margin: 0 auto;
  }
  .nav-container {
    width: 800px;
    margin: 0 auto;
  }
}
@media (min-width: 0px) and (max-width: 480px) {
  .site-author-info-wrapper {
    display: block;
  }
  .gravatar-area {
    text-align: center;
  }
  .gravatar-area amp-img {
    display: inline-block;
  }
  .entry-content td,
  .entry-content th {
    line-height: 1.8em;
    padding: 0.6rem 0.6rem;
    font-size: 0.5rem;
  }
  .entry-content td em,
  .entry-content th em,
  .entry-content td strong,
  .entry-content th strong,
  .entry-content td a,
  .entry-content th a {
    font-size: 0.5rem;
  }
}

	</style>
	
  </head>
  <body>
  	
  	
  	<!-- google analytics -->
  	
  	
  	
  	<!-- menu -->
  	<header>
  		<div class="nav-container">
	  		<div class="left-nav">
	  			<div class="header-title">
	  				<a href="/">ALaDing</a>
	  			</div>
	  		</div>
	  		
	  	</div>
    </header>
  	
  	
  	<!-- sidebar -->
  	
  	
  	<!-- container -->
  	<div id="container">
	  	<div id="main">
		    <article id="post-字典/cmake字典" class="post">
		    
		   		<!-- categories and bread crumb -->
		    	
				<div class="categories-header">
					<div class="categories">
						<div class="breadcrumb inline-icon">
							<ol itemscope itemtype="http://schema.org/BreadcrumbList">
							  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
							    <a itemprop="item" href="/">
							    	<span class="sns-icon home-icon"></span>
							        <span itemprop="name"><span class="fa fa-fw fa-home"></span></span>
							    </a>
							    <meta itemprop="position" content="1" />
							  </li>

								
						    		<li itemprop="itemListElement" itemscope
									      itemtype="http://schema.org/ListItem">
									    <a itemprop="item" href="/categories/字典/">
									      
									      	<span class="sns-icon folder-icon"></span>
									      
									      <span itemprop="name">字典</span>
									    </a>
									    <meta itemprop="position" content="2" />
									</li>
								
							</ol>
						</div>
					</div>
				</div>
				
		    
		    	<!-- entry title -->
				<div class="title-cover">
					<div class="entry-header">
						
						
						
			          	<div class="header-thumb flx">
			          		<div class="thumbImg-w circle">
			          			<amp-img class="thumbImg" layout="fixed" width="128" height="100" src="/amp-dist/sample/sample-substituteTitleImage.png">
			          			</amp-img>
			          		</div>
			          	</div>
			            
			            
			            <div class="header-cap flx">
							
							  <h1 class="article-title entry-title" itemprop="name">
							    <a href="https://purethought.cn/6415.html" target="_blank" itemprop="url">cmake笔记</a>
							  </h1>
							
						</div>
					</div>
					
					<!-- datePublished -->
					<div class="entry-meta-header">
						<span class="meta-elements date">
							<span class="fa fa-fw fa-clock-o"></span>
							<time datetime="2019-12-12" itemprop="datePublished">2019.12.12</time>
						</span>
					</div>
				</div>
				
				
				
				<!-- entry content -->
			    <div class="entry-content ecp">
			    	<!-- social share button -->
			    	
			    	
			    	
                    <!-- google Adsense Matched content -->
                    
                    
			    	<!-- content -->
			  		<h1 id="CMake"><a href="#CMake" class="headerlink" title="CMake"></a>CMake</h1><p>CMake&#x662F;&#x4E00;&#x4E2A;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x6784;&#x5EFA;&#x7CFB;&#x7EDF;&#x751F;&#x6210;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x4F7F;&#x7528;&#x5E73;&#x53F0;&#x65E0;&#x5173;&#x7684;CMake&#x6E05;&#x5355;&#x6587;&#x4EF6;CMakeLists.txt&#x6765;&#x63CF;&#x8FF0;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;,&#x53EF;&#x4EE5;&#x4EA7;&#x751F;&#x6807;&#x51C6;&#x7684;&#x6784;&#x5EFA;&#x6587;&#x4EF6;,&#x5982; Unix &#x7684; Makefile &#x6216;Windows Visual C++ &#x7684; projects/workspaces &#x3002;&#x6587;&#x4EF6; CMakeLists.txt &#x9700;&#x8981;&#x624B;&#x5DE5;&#x7F16;&#x5199;,&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F16;&#x5199;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x534A;&#x81EA;&#x52A8;&#x7684;&#x751F;&#x6210;.</p>
<p>&#x4E86;&#x89E3;CMake&#x524D;&#x9700;&#x8981;&#x5148;&#x4E86;&#x89E3;linux&#x4E0B;&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x6D41;&#x7A0B;&#xFF1A;<a href="https://purethought.cn/28950.html">https://purethought.cn/28950.html</a></p>
<blockquote>
<p>&#x5728; linux &#x5E73;&#x53F0;&#x4E0B;&#x4F7F;&#x7528; CMake &#x751F;&#x6210; Makefile &#x5E76;&#x7F16;&#x8BD1;&#x7684;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;<br>1.&#x7F16;&#x5199; CMake &#x914D;&#x7F6E;&#x6587;&#x4EF6; <code>CMakeLists.txt</code> &#x3002;<br>2.<code>cmake PATH</code> &#x751F;&#x6210;makefile<br>3.<code>make</code> &#x7F16;&#x8BD1;&#x6E90;&#x7801;&#x3002;<br>4.<code>make install</code> &#x5B89;&#x88C5;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x3002;</p>
</blockquote>
<h1 id="&#x5B89;&#x88C5;CMake"><a href="#&#x5B89;&#x88C5;CMake" class="headerlink" title="&#x5B89;&#x88C5;CMake"></a>&#x5B89;&#x88C5;CMake</h1><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p>&#x5B89;&#x88C5;cmake</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> apt <span class="token function">install</span> cmake<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>&#x5B89;&#x88C5;ccmake:</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> apt <span class="token function">install</span> cmake-curses-gui<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h2><p>&#x5B89;&#x88C5;&#x5305;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<br><a href="https://cmake.org/download/" target="_blank" rel="noopener">https://cmake.org/download/</a></p>
<h1 id="&#x751F;&#x6210;&#x5668;"><a href="#&#x751F;&#x6210;&#x5668;" class="headerlink" title="&#x751F;&#x6210;&#x5668;"></a>&#x751F;&#x6210;&#x5668;</h1><p>&#x663E;&#x793A;&#x6240;&#x6709;&#x7684;&#x9009;&#x9879;&#x548C;&#x751F;&#x6210;&#x5668;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">cmake --help<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>&#x5728;CMake 2.8.3&#x5E73;&#x53F0;&#x4E0A;&#xFF0C;CMake&#x652F;&#x6301;&#x4E0B;&#x5217;&#x751F;&#x6210;&#x5668;&#xFF1A;</p>
<p>Borland Makefiles: &#x751F;&#x6210;Borland makefile&#x3002;<br>MSYS Makefiles: &#x751F;&#x6210;MSYS makefile&#x3002;</p>
<p>&#x751F;&#x6210;&#x7684;makefile&#x7528;use /bin/sh&#x4F5C;&#x4E3A;&#x5B83;&#x7684;shell&#x3002;&#x5728;&#x8FD0;&#x884C;CMake&#x7684;&#x673A;&#x5668;&#x4E0A;&#x9700;&#x8981;&#x5B89;&#x88C5;msys&#x3002;<br>MinGW Makefiles: &#x751F;&#x6210;&#x4F9B;mingw32-make&#x4F7F;&#x7528;&#x7684;make file&#x3002;</p>
<p>&#x751F;&#x6210;&#x7684;makefile&#x4F7F;&#x7528;cmd.exe&#x4F5C;&#x4E3A;&#x5B83;&#x7684;shell&#x3002;&#x751F;&#x6210;&#x5B83;&#x4EEC;&#x4E0D;&#x9700;&#x8981;msys&#x6216;&#x8005;unix shell&#x3002;<br>NMake Makefiles: &#x751F;&#x6210;NMake makefile&#x3002;<br>NMake Makefiles JOM: &#x751F;&#x6210;JOM makefile&#x3002;<br>Unix Makefiles: &#x751F;&#x6210;&#x6807;&#x51C6;&#x7684;UNIX makefile&#x3002;</p>
<p>&#x5728;&#x6784;&#x5EFA;&#x6811;&#x4E0A;&#x751F;&#x6210;&#x5206;&#x5C42;&#x7684;UNIX makefile&#x3002;&#x4EFB;&#x4F55;&#x6807;&#x51C6;&#x7684;UNIX&#x98CE;&#x683C;&#x7684;make&#x7A0B;&#x5E8F;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9ED8;&#x8BA4;&#x7684;make&#x76EE;&#x6807;&#x6784;&#x5EFA;&#x5DE5;&#x7A0B;&#x3002;&#x751F;&#x6210;&#x7684;makefile&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;install&#x76EE;&#x6807;&#x3002;<br>Visual Studio 10: &#x751F;&#x6210;Visual Studio 10 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 10 Win64: &#x751F;&#x6210;Visual Studio 10 Win64 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 6: &#x751F;&#x6210;Visual Studio 6 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 7: &#x751F;&#x6210;Visual Studio .NET 2002 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 7 .NET 2003: &#x751F;&#x6210;Visual Studio .NET 2003&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 8 2005: &#x751F;&#x6210;Visual Studio .NET 2005 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 8 2005 Win64: &#x751F;&#x6210;Visual Studio .NET 2005 Win64&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 9 2008: &#x751F;&#x6210;Visual Studio 9 2008 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Visual Studio 9 2008 Win64: &#x751F;&#x6210;Visual Studio 9 2008 Win64&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>Watcom WMake: &#x751F;&#x6210;Watcom WMake makefiles&#x3002;</p>
<p>CodeBlocks - MinGW Makefiles: &#x751F;&#x6210;CodeBlock&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>&#x5728;&#x9876;&#x5C42;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x6BCF;&#x5C42;&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x4E3A;CodeBlocks&#x751F;&#x6210;&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#xFF0C;&#x751F;&#x6210;&#x7684;CMakeList.txt&#x7684;&#x7279;&#x70B9;&#x662F;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;PROJECT()&#x8C03;&#x7528;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x8FD8;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x6811;&#x4E0A;&#x751F;&#x6210;&#x4E00;&#x5957;&#x5C42;&#x6B21;&#x6027;&#x7684;makefile&#x3002;&#x901A;&#x8FC7;&#x9ED8;&#x8BA4;&#x7684;make&#x76EE;&#x6807;&#xFF0C;&#x6B63;&#x786E;&#x7684;make&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6784;&#x5EFA;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x3002;makefile&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;install&#x76EE;&#x6807;&#x3002;</p>
<p>CodeBlocks - NMake Makefiles: &#x751F;&#x6210;CodeBlocks&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>&#x5728;&#x9876;&#x5C42;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x6BCF;&#x5C42;&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x4E3A;CodeBlocks&#x751F;&#x6210;&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#xFF0C;&#x751F;&#x6210;&#x7684;CMakeList.txt&#x7684;&#x7279;&#x70B9;&#x662F;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;PROJECT()&#x8C03;&#x7528;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x8FD8;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x6811;&#x4E0A;&#x751F;&#x6210;&#x4E00;&#x5957;&#x5C42;&#x6B21;&#x6027;&#x7684;makefile&#x3002;&#x901A;&#x8FC7;&#x9ED8;&#x8BA4;&#x7684;make&#x76EE;&#x6807;&#xFF0C;&#x6B63;&#x786E;&#x7684;make&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6784;&#x5EFA;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x3002;makefile&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;install&#x76EE;&#x6807;&#x3002;</p>
<p>CodeBlocks - Unix Makefiles: &#x751F;&#x6210;CodeBlocks&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>&#x5728;&#x9876;&#x5C42;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x6BCF;&#x5C42;&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x4E3A;CodeBlocks&#x751F;&#x6210;&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#xFF0C;&#x751F;&#x6210;&#x7684;CMakeList.txt&#x7684;&#x7279;&#x70B9;&#x662F;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;PROJECT()&#x8C03;&#x7528;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x8FD8;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x6811;&#x4E0A;&#x751F;&#x6210;&#x4E00;&#x5957;&#x5C42;&#x6B21;&#x6027;&#x7684;makefile&#x3002;&#x901A;&#x8FC7;&#x9ED8;&#x8BA4;&#x7684;make&#x76EE;&#x6807;&#xFF0C;&#x6B63;&#x786E;&#x7684;make&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6784;&#x5EFA;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x3002;makefile&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;install&#x76EE;&#x6807;&#x3002;</p>
<p>Eclipse CDT4 - MinGW Makefiles: &#x751F;&#x6210;Eclipse CDT 4.0 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>&#x5728;&#x9876;&#x5C42;&#x76EE;&#x5F55;&#x4E0B;&#x4E3A;Eclipse&#x751F;&#x6210;&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;&#x5728;&#x8FD0;&#x884C;&#x6E90;&#x7801;&#x5916;&#x6784;&#x5EFA;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x5230;&#x9876;&#x5C42;&#x6E90;&#x7801;&#x8DEF;&#x5F84;&#x7684;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x521B;&#x5EFA;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x8FD8;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x6811;&#x4E0A;&#x751F;&#x6210;&#x4E00;&#x5957;&#x5C42;&#x6B21;&#x6027;&#x7684;makefile&#x3002;&#x901A;&#x8FC7;&#x9ED8;&#x8BA4;&#x7684;make&#x76EE;&#x6807;&#xFF0C;&#x6B63;&#x786E;&#x7684;make&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6784;&#x5EFA;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x3002;makefile&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;install&#x76EE;&#x6807;&#x3002;</p>
<p>Eclipse CDT4 - NMake Makefiles: &#x751F;&#x6210;Eclipse CDT 4.0 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>&#x5728;&#x9876;&#x5C42;&#x76EE;&#x5F55;&#x4E0B;&#x4E3A;Eclipse&#x751F;&#x6210;&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;&#x5728;&#x8FD0;&#x884C;&#x6E90;&#x7801;&#x5916;&#x6784;&#x5EFA;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x5230;&#x9876;&#x5C42;&#x6E90;&#x7801;&#x8DEF;&#x5F84;&#x7684;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x521B;&#x5EFA;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x8FD8;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x6811;&#x4E0A;&#x751F;&#x6210;&#x4E00;&#x5957;&#x5C42;&#x6B21;&#x6027;&#x7684;makefile&#x3002;&#x901A;&#x8FC7;&#x9ED8;&#x8BA4;&#x7684;make&#x76EE;&#x6807;&#xFF0C;&#x6B63;&#x786E;&#x7684;make&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6784;&#x5EFA;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x3002;makefile&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;install&#x76EE;&#x6807;&#x3002;</p>
<p>Eclipse CDT4 - Unix Makefiles: &#x751F;&#x6210;Eclipse CDT 4.0 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;<br>&#x5728;&#x9876;&#x5C42;&#x76EE;&#x5F55;&#x4E0B;&#x4E3A;Eclipse&#x751F;&#x6210;&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;&#x5728;&#x8FD0;&#x884C;&#x6E90;&#x7801;&#x5916;&#x6784;&#x5EFA;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x5230;&#x9876;&#x5C42;&#x6E90;&#x7801;&#x8DEF;&#x5F84;&#x7684;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x521B;&#x5EFA;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x8FD8;&#x4F1A;&#x5728;&#x6784;&#x5EFA;&#x6811;&#x4E0A;&#x751F;&#x6210;&#x4E00;&#x5957;&#x5C42;&#x6B21;&#x6027;&#x7684;makefile&#x3002;&#x901A;&#x8FC7;&#x9ED8;&#x8BA4;&#x7684;make&#x76EE;&#x6807;&#xFF0C;&#x6B63;&#x786E;&#x7684;make&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6784;&#x5EFA;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x3002;makefile&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;install&#x76EE;&#x6807;&#x3002;</p>
<h1 id="&#x8BED;&#x6CD5;"><a href="#&#x8BED;&#x6CD5;" class="headerlink" title="&#x8BED;&#x6CD5;"></a>&#x8BED;&#x6CD5;</h1><h2 id="&#x6307;&#x5B9A;-cmake-&#x7684;&#x6700;&#x5C0F;&#x7248;&#x672C;"><a href="#&#x6307;&#x5B9A;-cmake-&#x7684;&#x6700;&#x5C0F;&#x7248;&#x672C;" class="headerlink" title="&#x6307;&#x5B9A; cmake &#x7684;&#x6700;&#x5C0F;&#x7248;&#x672C;"></a>&#x6307;&#x5B9A; cmake &#x7684;&#x6700;&#x5C0F;&#x7248;&#x672C;</h2><pre class="line-numbers language-bash"><code class="language-bash">cmake_minimum_required<span class="token punctuation">(</span>VERSION 3.4.1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="&#x8BBE;&#x7F6E;&#x9879;&#x76EE;&#x540D;&#x79F0;"><a href="#&#x8BBE;&#x7F6E;&#x9879;&#x76EE;&#x540D;&#x79F0;" class="headerlink" title="&#x8BBE;&#x7F6E;&#x9879;&#x76EE;&#x540D;&#x79F0;"></a>&#x8BBE;&#x7F6E;&#x9879;&#x76EE;&#x540D;&#x79F0;</h2><pre class="line-numbers language-bash"><code class="language-bash">project<span class="token punctuation">(</span>demo<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="&#x6307;&#x5B9A;&#x751F;&#x6210;&#x7C7B;&#x578B;"><a href="#&#x6307;&#x5B9A;&#x751F;&#x6210;&#x7C7B;&#x578B;" class="headerlink" title="&#x6307;&#x5B9A;&#x751F;&#x6210;&#x7C7B;&#x578B;"></a>&#x6307;&#x5B9A;&#x751F;&#x6210;&#x7C7B;&#x578B;</h2><pre class="line-numbers language-bash"><code class="language-bash">add_executable<span class="token punctuation">(</span>demo demo.cpp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x751F;&#x6210;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;</span>
add_library<span class="token punctuation">(</span>common util.cpp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x751F;&#x6210;&#x9759;&#x6001;&#x5E93;</span>
add_library<span class="token punctuation">(</span>common STATIC util.cpp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x751F;&#x6210;&#x9759;&#x6001;&#x5E93;</span>
add_library<span class="token punctuation">(</span>common SHARED util.cpp<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x751F;&#x6210;&#x52A8;&#x6001;&#x5E93;&#x6216;&#x5171;&#x4EAB;&#x5E93;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x5728; <code>Linux</code> &#x4E0B;&#x662F;&#xFF1A;</p>
<ul>
<li>demo</li>
<li>libcommon.a</li>
<li>libcommon.so</li>
</ul>
<p>&#x5728; <code>Windows</code> &#x4E0B;&#x662F;&#xFF1A;</p>
<ul>
<li>demo.exe</li>
<li>common.lib</li>
<li>common.dll</li>
</ul>
<h2 id="&#x6307;&#x5B9A;&#x7F16;&#x8BD1;&#x5305;&#x542B;&#x7684;&#x6E90;&#x6587;&#x4EF6;"><a href="#&#x6307;&#x5B9A;&#x7F16;&#x8BD1;&#x5305;&#x542B;&#x7684;&#x6E90;&#x6587;&#x4EF6;" class="headerlink" title="&#x6307;&#x5B9A;&#x7F16;&#x8BD1;&#x5305;&#x542B;&#x7684;&#x6E90;&#x6587;&#x4EF6;"></a>&#x6307;&#x5B9A;&#x7F16;&#x8BD1;&#x5305;&#x542B;&#x7684;&#x6E90;&#x6587;&#x4EF6;</h2><p>aux_source_directory(dir VAR) &#x67E5;&#x627E;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x5E76;&#x5C06;&#x5217;&#x8868;&#x5B58;&#x50A8;&#x5728;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x4E2D;&#x3002;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#@1&#x6307;&#x5B9A;&#x6E90;&#x6587;&#x4EF6;</span>
add_library<span class="token punctuation">(</span>demo demo.cpp test.cpp util.cpp<span class="token punctuation">)</span> 

<span class="token comment" spellcheck="true">#@2&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x6240;&#x6709;&#x6E90;&#x6587;&#x4EF6;</span>
aux_source_directory<span class="token punctuation">(</span>. SRC_LIST<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x641C;&#x7D22; &#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B; &#x7684;&#x6240;&#x6709;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x50A8;&#x5B58;&#x5230;&#x53D8;&#x91CF; SRC_LIST &#x4E2D;</span>
add_library<span class="token punctuation">(</span>demo <span class="token variable">${SRC_LIST}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@3&#x81EA;&#x5B9A;&#x4E49;&#x641C;&#x7D22;&#x89C4;&#x5219;</span>
file<span class="token punctuation">(</span>GLOB SRC_LIST <span class="token string">&quot;*.cpp&quot;</span> <span class="token string">&quot;protocol/*.cpp&quot;</span><span class="token punctuation">)</span>
add_library<span class="token punctuation">(</span>demo <span class="token variable">${SRC_LIST}</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#or</span>
file<span class="token punctuation">(</span>GLOB SRC_LIST <span class="token string">&quot;*.cpp&quot;</span><span class="token punctuation">)</span>
file<span class="token punctuation">(</span>GLOB SRC_PROTOCOL_LIST <span class="token string">&quot;protocol/*.cpp&quot;</span><span class="token punctuation">)</span>
add_library<span class="token punctuation">(</span>demo <span class="token variable">${SRC_LIST}</span> <span class="token variable">${SRC_PROTOCOL_LIST}</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#or</span>
aux_source_directory<span class="token punctuation">(</span>. SRC_LIST<span class="token punctuation">)</span>
aux_source_directory<span class="token punctuation">(</span>protocol SRC_PROTOCOL_LIST<span class="token punctuation">)</span>
add_library<span class="token punctuation">(</span>demo <span class="token variable">${SRC_LIST}</span> <span class="token variable">${SRC_PROTOCOL_LIST}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x67E5;&#x627E;&#x6307;&#x5B9A;&#x7684;&#x5E93;&#x6587;&#x4EF6;"><a href="#&#x67E5;&#x627E;&#x6307;&#x5B9A;&#x7684;&#x5E93;&#x6587;&#x4EF6;" class="headerlink" title="&#x67E5;&#x627E;&#x6307;&#x5B9A;&#x7684;&#x5E93;&#x6587;&#x4EF6;"></a>&#x67E5;&#x627E;&#x6307;&#x5B9A;&#x7684;&#x5E93;&#x6587;&#x4EF6;</h2><p>find_library(VAR name path)&#x67E5;&#x627E;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x9884;&#x7F16;&#x8BD1;&#x5E93;&#xFF0C;&#x5E76;&#x5C06;&#x5B83;&#x7684;&#x8DEF;&#x5F84;&#x5B58;&#x50A8;&#x5728;&#x53D8;&#x91CF;&#x4E2D;&#x3002;<br>&#x9ED8;&#x8BA4;&#x7684;&#x641C;&#x7D22;&#x8DEF;&#x5F84;&#x4E3A; cmake &#x5305;&#x542B;&#x7684;&#x7CFB;&#x7EDF;&#x5E93;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x662F; NDK &#x7684;&#x516C;&#x5171;&#x5E93;&#x53EA;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x5E93;&#x7684; name &#x5373;&#x53EF;&#x3002;</p>
<pre class="line-numbers language-bash"><code class="language-bash">find_library<span class="token punctuation">(</span> <span class="token comment" spellcheck="true"># Sets the name of the path variable.</span>
              log-lib

              <span class="token comment" spellcheck="true"># Specifies the name of the NDK library that</span>
              <span class="token comment" spellcheck="true"># you want CMake to locate.</span>
              log <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x8BBE;&#x7F6E;&#x5305;&#x542B;&#x7684;&#x76EE;&#x5F55;"><a href="#&#x8BBE;&#x7F6E;&#x5305;&#x542B;&#x7684;&#x76EE;&#x5F55;" class="headerlink" title="&#x8BBE;&#x7F6E;&#x5305;&#x542B;&#x7684;&#x76EE;&#x5F55;"></a>&#x8BBE;&#x7F6E;&#x5305;&#x542B;&#x7684;&#x76EE;&#x5F55;</h2><pre class="line-numbers language-bash"><code class="language-bash">include_directories<span class="token punctuation">(</span>
    <span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>
    <span class="token variable">${CMAKE_CURRENT_BINARY_DIR}</span>
    <span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/include
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Linux &#x4E0B;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x65B9;&#x5F0F;&#x8BBE;&#x7F6E;&#x5305;&#x542B;&#x7684;&#x76EE;&#x5F55;</p>
<pre class="line-numbers language-bash"><code class="language-bash">set<span class="token punctuation">(</span>CMAKE_CXX_FLAGS <span class="token string">&quot;<span class="token variable">${CMAKE_CXX_FLAGS}</span> -I<span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>&quot;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="&#x8BBE;&#x7F6E;&#x94FE;&#x63A5;&#x5E93;&#x641C;&#x7D22;&#x76EE;&#x5F55;"><a href="#&#x8BBE;&#x7F6E;&#x94FE;&#x63A5;&#x5E93;&#x641C;&#x7D22;&#x76EE;&#x5F55;" class="headerlink" title="&#x8BBE;&#x7F6E;&#x94FE;&#x63A5;&#x5E93;&#x641C;&#x7D22;&#x76EE;&#x5F55;"></a>&#x8BBE;&#x7F6E;&#x94FE;&#x63A5;&#x5E93;&#x641C;&#x7D22;&#x76EE;&#x5F55;</h2><pre class="line-numbers language-bash"><code class="language-bash">link_directories<span class="token punctuation">(</span>
    <span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/libs
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Linux &#x4E0B;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x65B9;&#x5F0F;&#x8BBE;&#x7F6E;&#x5305;&#x542B;&#x7684;&#x76EE;&#x5F55;</p>
<pre class="line-numbers language-bash"><code class="language-bash">set<span class="token punctuation">(</span>CMAKE_CXX_FLAGS <span class="token string">&quot;<span class="token variable">${CMAKE_CXX_FLAGS}</span> -L<span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/libs&quot;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="&#x8BBE;&#x7F6E;-target-&#x5DE5;&#x7A0B;&#x9700;&#x8981;&#x94FE;&#x63A5;&#x7684;&#x5E93;"><a href="#&#x8BBE;&#x7F6E;-target-&#x5DE5;&#x7A0B;&#x9700;&#x8981;&#x94FE;&#x63A5;&#x7684;&#x5E93;" class="headerlink" title="&#x8BBE;&#x7F6E; target &#x5DE5;&#x7A0B;&#x9700;&#x8981;&#x94FE;&#x63A5;&#x7684;&#x5E93;"></a>&#x8BBE;&#x7F6E; target &#x5DE5;&#x7A0B;&#x9700;&#x8981;&#x94FE;&#x63A5;&#x7684;&#x5E93;</h2><pre class="line-numbers language-bash"><code class="language-bash">target_link_libraries<span class="token punctuation">(</span> <span class="token comment" spellcheck="true"># &#x76EE;&#x6807;&#x5E93;</span>
                       demo

                       <span class="token comment" spellcheck="true"># &#x76EE;&#x6807;&#x5E93;&#x9700;&#x8981;&#x94FE;&#x63A5;&#x7684;&#x5E93;</span>
                       <span class="token comment" spellcheck="true"># log-lib &#x662F;&#x4E0A;&#x9762; find_library &#x6307;&#x5B9A;&#x7684;&#x53D8;&#x91CF;&#x540D;</span>
                       <span class="token variable">${log-lib}</span> <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x5728; Windows &#x4E0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x6839;&#x636E;&#x94FE;&#x63A5;&#x5E93;&#x76EE;&#x5F55;&#xFF0C;&#x641C;&#x7D22;xxx.lib &#x6587;&#x4EF6;&#xFF0C;Linux &#x4E0B;&#x4F1A;&#x641C;&#x7D22; xxx.so &#x6216;&#x8005; xxx.a &#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x90FD;&#x5B58;&#x5728;&#x4F1A;&#x4F18;&#x5148;&#x94FE;&#x63A5;&#x52A8;&#x6001;&#x5E93;&#xFF08;so &#x540E;&#x7F00;&#xFF09;&#x3002;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#@1&#x6307;&#x5B9A;&#x94FE;&#x63A5;&#x52A8;&#x6001;&#x5E93;&#x6216;&#x9759;&#x6001;&#x5E93;</span>
target_link_libraries<span class="token punctuation">(</span>demo libface.a<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x94FE;&#x63A5;libface.a</span>
target_link_libraries<span class="token punctuation">(</span>demo libface.so<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x94FE;&#x63A5;libface.so</span>

<span class="token comment" spellcheck="true">#@2&#x6307;&#x5B9A;&#x5168;&#x8DEF;&#x5F84;</span>
target_link_libraries<span class="token punctuation">(</span>demo <span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/libs/libface.a<span class="token punctuation">)</span>
target_link_libraries<span class="token punctuation">(</span>demo <span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/libs/libface.so<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@3&#x6307;&#x5B9A;&#x94FE;&#x63A5;&#x591A;&#x4E2A;&#x5E93;</span>
target_link_libraries<span class="token punctuation">(</span>demo
    <span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/libs/libface.a
    boost_system.a
    boost_thread
    pthread<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x8BBE;&#x7F6E;&#x53D8;&#x91CF;"><a href="#&#x8BBE;&#x7F6E;&#x53D8;&#x91CF;" class="headerlink" title="&#x8BBE;&#x7F6E;&#x53D8;&#x91CF;"></a>&#x8BBE;&#x7F6E;&#x53D8;&#x91CF;</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#@1set &#x76F4;&#x63A5;&#x8BBE;&#x7F6E;&#x53D8;&#x91CF;&#x7684;&#x503C;</span>
set<span class="token punctuation">(</span>SRC_LIST main.cpp test.cpp<span class="token punctuation">)</span>
add_executable<span class="token punctuation">(</span>demo <span class="token variable">${SRC_LIST}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@2set &#x8FFD;&#x52A0;&#x8BBE;&#x7F6E;&#x53D8;&#x91CF;&#x7684;&#x503C;</span>
set<span class="token punctuation">(</span>SRC_LIST main.cpp<span class="token punctuation">)</span>
set<span class="token punctuation">(</span>SRC_LIST <span class="token variable">${SRC_LIST}</span> test.cpp<span class="token punctuation">)</span>
add_executable<span class="token punctuation">(</span>demo <span class="token variable">${SRC_LIST}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@3list &#x8FFD;&#x52A0;&#x6216;&#x8005;&#x5220;&#x9664;&#x53D8;&#x91CF;&#x7684;&#x503C;</span>
set<span class="token punctuation">(</span>SRC_LIST main.cpp<span class="token punctuation">)</span>
list<span class="token punctuation">(</span>APPEND SRC_LIST test.cpp<span class="token punctuation">)</span>
list<span class="token punctuation">(</span>REMOVE_ITEM SRC_LIST main.cpp<span class="token punctuation">)</span>
add_executable<span class="token punctuation">(</span>demo <span class="token variable">${SRC_LIST}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x6761;&#x4EF6;&#x63A7;&#x5236;"><a href="#&#x6761;&#x4EF6;&#x63A7;&#x5236;" class="headerlink" title="&#x6761;&#x4EF6;&#x63A7;&#x5236;"></a>&#x6761;&#x4EF6;&#x63A7;&#x5236;</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#@1&#x903B;&#x8F91;&#x5224;&#x65AD;&#x548C;&#x6BD4;&#x8F83;&#xFF1A;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span>&#xFF1A;expression &#x4E0D;&#x4E3A;&#x7A7A;&#xFF08;0,N,NO,OFF,FALSE,NOTFOUND&#xFF09;&#x65F6;&#x4E3A;&#x771F;
<span class="token keyword">if</span> <span class="token punctuation">(</span>not exp<span class="token punctuation">)</span>&#xFF1A;&#x4E0E;&#x4E0A;&#x9762;&#x76F8;&#x53CD;
<span class="token keyword">if</span> <span class="token punctuation">(</span>var1 AND var2<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>var1 OR var2<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>COMMAND cmd<span class="token punctuation">)</span>&#xFF1A;&#x5982;&#x679C; cmd &#x786E;&#x5B9E;&#x662F;&#x547D;&#x4EE4;&#x5E76;&#x53EF;&#x8C03;&#x7528;&#x4E3A;&#x771F;
<span class="token keyword">if</span> <span class="token punctuation">(</span>EXISTS dir<span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>EXISTS file<span class="token punctuation">)</span>&#xFF1A;&#x5982;&#x679C;&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#x4E3A;&#x771F;
<span class="token keyword">if</span> <span class="token punctuation">(</span>file1 IS_NEWER_THAN file2<span class="token punctuation">)</span>&#xFF1A;&#x5F53; file1 &#x6BD4; file2 &#x65B0;&#xFF0C;&#x6216; file1/file2 &#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x4E3A;&#x771F;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#x9700;&#x4F7F;&#x7528;&#x5168;&#x8DEF;&#x5F84;
<span class="token keyword">if</span> <span class="token punctuation">(</span>IS_DIRECTORY dir<span class="token punctuation">)</span>&#xFF1A;&#x5F53; <span class="token function">dir</span> &#x662F;&#x76EE;&#x5F55;&#x65F6;&#x4E3A;&#x771F;
<span class="token keyword">if</span> <span class="token punctuation">(</span>DEFINED var<span class="token punctuation">)</span>&#xFF1A;&#x5982;&#x679C;&#x53D8;&#x91CF;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x771F;
<span class="token keyword">if</span> <span class="token punctuation">(</span>var MATCHES regex<span class="token punctuation">)</span>&#xFF1A;&#x7ED9;&#x5B9A;&#x7684;&#x53D8;&#x91CF;&#x6216;&#x8005;&#x5B57;&#x7B26;&#x4E32;&#x80FD;&#x591F;&#x5339;&#x914D;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; regex &#x65F6;&#x4E3A;&#x771F;&#xFF0C;&#x6B64;&#x5904; var &#x53EF;&#x4EE5;&#x7528; var &#x540D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528; <span class="token variable">${var}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>string MATCHES regex<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@2&#x6570;&#x5B57;&#x6BD4;&#x8F83;&#xFF1A;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>variable LESS number<span class="token punctuation">)</span>&#xFF1A;LESS &#x5C0F;&#x4E8E;
<span class="token keyword">if</span> <span class="token punctuation">(</span>string LESS number<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>variable GREATER number<span class="token punctuation">)</span>&#xFF1A;GREATER &#x5927;&#x4E8E;
<span class="token keyword">if</span> <span class="token punctuation">(</span>string GREATER number<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>variable EQUAL number<span class="token punctuation">)</span>&#xFF1A;EQUAL &#x7B49;&#x4E8E;
<span class="token keyword">if</span> <span class="token punctuation">(</span>string EQUAL number<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@3</span>
&#x5B57;&#x6BCD;&#x8868;&#x987A;&#x5E8F;&#x6BD4;&#x8F83;&#xFF1A;
<span class="token keyword">if</span> <span class="token punctuation">(</span>variable STRLESS string<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>string STRLESS string<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>variable STRGREATER string<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>string STRGREATER string<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>variable STREQUAL string<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>string STREQUAL string<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@4 while&#x2026;endwhile</span>
while<span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
    <span class="token punctuation">..</span>.
endwhile<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#@5 foreach&#x2026;endforeach</span>

foreach<span class="token punctuation">(</span>loop_var RANGE start stop <span class="token punctuation">[</span>step<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">..</span>.
endforeach<span class="token punctuation">(</span>loop_var<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x8F93;&#x51FA;"><a href="#&#x8F93;&#x51FA;" class="headerlink" title="&#x8F93;&#x51FA;"></a>&#x8F93;&#x51FA;</h2><pre class="line-numbers language-bash"><code class="language-bash">message<span class="token punctuation">(</span><span class="token variable">${PROJECT_SOURCE_DIR}</span><span class="token punctuation">)</span>
message<span class="token punctuation">(</span><span class="token string">&quot;build with debug mode&quot;</span><span class="token punctuation">)</span>
message<span class="token punctuation">(</span>WARNING <span class="token string">&quot;this is warnning message&quot;</span><span class="token punctuation">)</span>
message<span class="token punctuation">(</span>FATAL_ERROR <span class="token string">&quot;this build has many error&quot;</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># FATAL_ERROR &#x4F1A;&#x5BFC;&#x81F4;&#x7F16;&#x8BD1;&#x5931;&#x8D25;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x5305;&#x542B;&#x5176;&#x5B83;-cmake-&#x6587;&#x4EF6;"><a href="#&#x5305;&#x542B;&#x5176;&#x5B83;-cmake-&#x6587;&#x4EF6;" class="headerlink" title="&#x5305;&#x542B;&#x5176;&#x5B83; cmake &#x6587;&#x4EF6;"></a>&#x5305;&#x542B;&#x5176;&#x5B83; cmake &#x6587;&#x4EF6;</h2><pre class="line-numbers language-bash"><code class="language-bash">include<span class="token punctuation">(</span>./common.cmake<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x6307;&#x5B9A;&#x5305;&#x542B;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x8DEF;&#x5F84;</span>
include<span class="token punctuation">(</span>def<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x5728;&#x641C;&#x7D22;&#x8DEF;&#x5F84;&#x4E2D;&#x641C;&#x7D22;def.cmake&#x6587;&#x4EF6;</span>
set<span class="token punctuation">(</span>CMAKE_MODULE_PATH <span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/cmake<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x8BBE;&#x7F6E;include&#x7684;&#x641C;&#x7D22;&#x8DEF;&#x5F84;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h1 id="&#x53D8;&#x91CF;"><a href="#&#x53D8;&#x91CF;" class="headerlink" title="&#x53D8;&#x91CF;"></a>&#x53D8;&#x91CF;</h1><h2 id="&#x9884;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;"><a href="#&#x9884;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;" class="headerlink" title="&#x9884;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;"></a>&#x9884;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;</h2><pre class="line-numbers language-bash"><code class="language-bash">PROJECT_SOURCE_DIR <span class="token comment" spellcheck="true">#&#x5DE5;&#x7A0B;&#x7684;&#x6839;&#x76EE;&#x5F55;</span>
PROJECT_BINARY_DIR <span class="token comment" spellcheck="true">#&#x8FD0;&#x884C; cmake &#x547D;&#x4EE4;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x901A;&#x5E38;&#x662F; ${PROJECT_SOURCE_DIR}/build</span>
PROJECT_NAME <span class="token comment" spellcheck="true">#&#x8FD4;&#x56DE;&#x901A;&#x8FC7; project &#x547D;&#x4EE4;&#x5B9A;&#x4E49;&#x7684;&#x9879;&#x76EE;&#x540D;&#x79F0;</span>
CMAKE_CURRENT_SOURCE_DIR <span class="token comment" spellcheck="true">#&#x5F53;&#x524D;&#x5904;&#x7406;&#x7684; CMakeLists.txt &#x6240;&#x5728;&#x7684;&#x8DEF;&#x5F84;</span>
CMAKE_CURRENT_BINARY_DIR <span class="token comment" spellcheck="true">#target &#x7F16;&#x8BD1;&#x76EE;&#x5F55;</span>
CMAKE_CURRENT_LIST_DIR <span class="token comment" spellcheck="true">#CMakeLists.txt &#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;</span>
CMAKE_CURRENT_LIST_LINE <span class="token comment" spellcheck="true">#&#x5F53;&#x524D;&#x6240;&#x5728;&#x7684;&#x884C;</span>
CMAKE_MODULE_PATH <span class="token comment" spellcheck="true">#&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684; cmake &#x6A21;&#x5757;&#x6240;&#x5728;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;SET(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x7528;INCLUDE&#x547D;&#x4EE4;&#x6765;&#x8C03;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x6A21;&#x5757;</span>
EXECUTABLE_OUTPUT_PATH <span class="token comment" spellcheck="true">#&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x76EE;&#x6807;&#x4E8C;&#x8FDB;&#x5236;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;</span>
LIBRARY_OUTPUT_PATH <span class="token comment" spellcheck="true">#&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x76EE;&#x6807;&#x94FE;&#x63A5;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x73AF;&#x5883;&#x53D8;&#x91CF;"><a href="#&#x73AF;&#x5883;&#x53D8;&#x91CF;" class="headerlink" title="&#x73AF;&#x5883;&#x53D8;&#x91CF;"></a>&#x73AF;&#x5883;&#x53D8;&#x91CF;</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#&#x4F7F;&#x7528;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span>
<span class="token variable">$ENV</span><span class="token punctuation">{</span>Name<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">#&#x5199;&#x5165;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span>
set<span class="token punctuation">(</span>ENV<span class="token punctuation">{</span>Name<span class="token punctuation">}</span> value<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;"><a href="#&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;"></a>&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;</h2><pre class="line-numbers language-bash"><code class="language-bash">&#xAD;CMAKE_MAJOR_VERSION <span class="token comment" spellcheck="true">#cmake &#x4E3B;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x6BD4;&#x5982; 3.4.1 &#x4E2D;&#x7684; 3</span>
&#xAD;CMAKE_MINOR_VERSION <span class="token comment" spellcheck="true">#cmake &#x6B21;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x6BD4;&#x5982; 3.4.1 &#x4E2D;&#x7684; 4</span>
&#xAD;CMAKE_PATCH_VERSION <span class="token comment" spellcheck="true">#cmake &#x8865;&#x4E01;&#x7B49;&#x7EA7;&#xFF0C;&#x6BD4;&#x5982; 3.4.1 &#x4E2D;&#x7684; 1</span>
&#xAD;CMAKE_SYSTEM <span class="token comment" spellcheck="true">#&#x7CFB;&#x7EDF;&#x540D;&#x79F0;&#xFF0C;&#x6BD4;&#x5982; Linux-&#xAD;2.6.22</span>
&#xAD;CMAKE_SYSTEM_NAME <span class="token comment" spellcheck="true">#&#x4E0D;&#x5305;&#x542B;&#x7248;&#x672C;&#x7684;&#x7CFB;&#x7EDF;&#x540D;&#xFF0C;&#x6BD4;&#x5982; Linux</span>
&#xAD;CMAKE_SYSTEM_VERSION <span class="token comment" spellcheck="true">#&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#xFF0C;&#x6BD4;&#x5982; 2.6.22</span>
&#xAD;CMAKE_SYSTEM_PROCESSOR <span class="token comment" spellcheck="true">#&#x5904;&#x7406;&#x5668;&#x540D;&#x79F0;&#xFF0C;&#x6BD4;&#x5982; i686</span>
&#xAD;UNIX <span class="token comment" spellcheck="true">#&#x5728;&#x6240;&#x6709;&#x7684;&#x7C7B; UNIX &#x5E73;&#x53F0;&#x4E0B;&#x8BE5;&#x503C;&#x4E3A; TRUE&#xFF0C;&#x5305;&#x62EC; OS X &#x548C; cygwin</span>
&#xAD;WIN32 <span class="token comment" spellcheck="true">#&#x5728;&#x6240;&#x6709;&#x7684; win32 &#x5E73;&#x53F0;&#x4E0B;&#x8BE5;&#x503C;&#x4E3A; TRUE&#xFF0C;&#x5305;&#x62EC; cygwin</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x4E3B;&#x8981;&#x5F00;&#x5173;&#x9009;&#x9879;"><a href="#&#x4E3B;&#x8981;&#x5F00;&#x5173;&#x9009;&#x9879;" class="headerlink" title="&#x4E3B;&#x8981;&#x5F00;&#x5173;&#x9009;&#x9879;"></a>&#x4E3B;&#x8981;&#x5F00;&#x5173;&#x9009;&#x9879;</h2><pre class="line-numbers language-bash"><code class="language-bash">BUILD_SHARED_LIBS <span class="token comment" spellcheck="true">#&#x8FD9;&#x4E2A;&#x5F00;&#x5173;&#x7528;&#x6765;&#x63A7;&#x5236;&#x9ED8;&#x8BA4;&#x7684;&#x5E93;&#x7F16;&#x8BD1;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF0C;&#x4F7F;&#x7528; add_library &#x53C8;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x5E93;&#x7C7B;&#x578B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9ED8;&#x8BA4;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#x7684;&#x5E93;&#x90FD;&#x662F;&#x9759;&#x6001;&#x5E93;&#x3002;&#x5982;&#x679C; set(BUILD_SHARED_LIBS ON) &#x540E;&#xFF0C;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x7684;&#x4E3A;&#x52A8;&#x6001;&#x5E93;</span>
CMAKE_C_FLAGS <span class="token comment" spellcheck="true">#&#x8BBE;&#x7F6E; C &#x7F16;&#x8BD1;&#x9009;&#x9879;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6307;&#x4EE4; add_definitions() &#x6DFB;&#x52A0;</span>
CMAKE_CXX_FLAGS <span class="token comment" spellcheck="true">#&#x8BBE;&#x7F6E; C++ &#x7F16;&#x8BD1;&#x9009;&#x9879;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6307;&#x4EE4; add_definitions() &#x6DFB;&#x52A0;</span>

add_definitions<span class="token punctuation">(</span>-DENABLE_DEBUG -DABC<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># &#x53C2;&#x6570;&#x4E4B;&#x95F4;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="&#x4F8B;&#x7A0B;"><a href="#&#x4F8B;&#x7A0B;" class="headerlink" title="&#x4F8B;&#x7A0B;"></a>&#x4F8B;&#x7A0B;</h1><h2 id="&#x5355;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;"><a href="#&#x5355;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;" class="headerlink" title="&#x5355;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;"></a>&#x5355;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;</h2><p>&#x5355;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;&#x6839;&#x672C;&#x4E0D;&#x9700;&#x8981;makefile&#xFF0C;&#x76F4;&#x63A5;&#x5C31;&#x80FD;&#x7F16;&#x8BD1;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x94FE;&#x63A5;&#x5176;&#x4ED6;&#x4EE3;&#x7801;&#x3002;&#x56E0;&#x6B64;&#x8FD9;&#x91CC;&#x7684;&#x76EE;&#x7684;&#x662F;&#x7531;&#x6D45;&#x5165;&#x6DF1;&#x7684;&#x4ECB;&#x7ECD;cmake&#x3002;<br>&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x9636;&#x4E58;&#x7684;&#x6587;&#x4EF6;&#x3002;<br>main.cc</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token comment" spellcheck="true">/**
 * power - Calculate the power of number.
 * @param base: Base value.
 * @param exponent: Exponent value.
 *
 * @return base raised to the power exponent.
 */</span>
<span class="token keyword">double</span> <span class="token function">power</span><span class="token punctuation">(</span><span class="token keyword">double</span> base<span class="token punctuation">,</span> <span class="token keyword">int</span> exponent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> result <span class="token operator">=</span> base<span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>exponent <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> exponent<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
        result <span class="token operator">=</span> result <span class="token operator">*</span> base<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Usage: %s base exponent \n&quot;</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">double</span> base <span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> exponent <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token function">power</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%g ^ %d is %g\n&quot;</span><span class="token punctuation">,</span> base<span class="token punctuation">,</span> exponent<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>CMakeLists.txt</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># CMake &#x6700;&#x4F4E;&#x7248;&#x672C;&#x53F7;&#x8981;&#x6C42;</span>
cmake_minimum_required <span class="token punctuation">(</span>VERSION 2.8<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x9879;&#x76EE;&#x540D;&#x79F0;</span>
project <span class="token punctuation">(</span>Demo1<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6307;&#x5B9A;&#x751F;&#x6210;&#x76EE;&#x6807;,Demo&#x4E3A;&#x76EE;&#x6807;&#x540D;&#x79F0;&#xFF0C;main.cc&#x4E3A;&#x6E90;&#x6587;&#x4EF6;&#x540D;&#x79F0;</span>
add_executable<span class="token punctuation">(</span>Demo main.cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x7F16;&#x8BD1;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">cmake <span class="token keyword">.</span>
<span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>&#x6700;&#x540E;&#x53EF;&#x5F97;&#x5230; Demo1 &#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;</p>
<pre class="line-numbers language-bash"><code class="language-bash">./Demo1 5 4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>5 ^ 4 is 625</code></pre><h2 id="&#x7F16;&#x8BD1;&#x591A;&#x6587;&#x4EF6;&#x591A;&#x76EE;&#x5F55;"><a href="#&#x7F16;&#x8BD1;&#x591A;&#x6587;&#x4EF6;&#x591A;&#x76EE;&#x5F55;" class="headerlink" title="&#x7F16;&#x8BD1;&#x591A;&#x6587;&#x4EF6;&#x591A;&#x76EE;&#x5F55;"></a>&#x7F16;&#x8BD1;&#x591A;&#x6587;&#x4EF6;&#x591A;&#x76EE;&#x5F55;</h2><p>&#x672C;&#x5C0F;&#x8282;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;<a href="https://github.com/CdqPT/Demo/tree/master/cmake-demo/Demo3" target="_blank" rel="noopener">Demo3</a>&#x3002;</p>
<p>&#x76EE;&#x5F55;&#x7ED3;&#x6784;</p>
<pre><code>./Demo3
    |
    +--- main.cc
    |
    +--- math/
          |
          +--- MathFunctions.cc
          |
          +--- MathFunctions.h</code></pre><p>&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x9700;&#x8981;&#x5206;&#x522B;&#x5728;&#x9879;&#x76EE;&#x6839;&#x76EE;&#x5F55; Demo3 &#x548C; math &#x76EE;&#x5F55;&#x91CC;&#x5404;&#x7F16;&#x5199;&#x4E00;&#x4E2A; CMakeLists.txt &#x6587;&#x4EF6;&#x3002;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x5C06; math &#x76EE;&#x5F55;&#x91CC;&#x7684;&#x6587;&#x4EF6;&#x7F16;&#x8BD1;&#x6210;&#x9759;&#x6001;&#x5E93;&#x518D;&#x7531; main &#x51FD;&#x6570;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x6839;&#x76EE;&#x5F55;&#x4E2D;&#x7684; CMakeLists.txt &#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># CMake &#x6700;&#x4F4E;&#x7248;&#x672C;&#x53F7;&#x8981;&#x6C42;</span>
cmake_minimum_required <span class="token punctuation">(</span>VERSION 2.8<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x9879;&#x76EE;&#x4FE1;&#x606F;</span>
project <span class="token punctuation">(</span>Demo3<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x67E5;&#x627E;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6E90;&#x6587;&#x4EF6;</span>
<span class="token comment" spellcheck="true"># &#x5E76;&#x5C06;&#x540D;&#x79F0;&#x4FDD;&#x5B58;&#x5230; DIR_SRCS &#x53D8;&#x91CF;</span>
aux_source_directory<span class="token punctuation">(</span>. DIR_SRCS<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6DFB;&#x52A0; math &#x5B50;&#x76EE;&#x5F55;</span>
add_subdirectory<span class="token punctuation">(</span>math<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6307;&#x5B9A;&#x751F;&#x6210;&#x76EE;&#x6807; </span>
add_executable<span class="token punctuation">(</span>Demo main.cc<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6DFB;&#x52A0;&#x94FE;&#x63A5;&#x5E93;</span>
target_link_libraries<span class="token punctuation">(</span>Demo MathFunctions<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x8BE5;&#x6587;&#x4EF6;&#x6DFB;&#x52A0;&#x4E86;&#x4E0B;&#x9762;&#x7684;&#x5185;&#x5BB9;: &#x7B2C;3&#x884C;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4; add_subdirectory &#x6307;&#x660E;&#x672C;&#x9879;&#x76EE;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5B50;&#x76EE;&#x5F55; math&#xFF0C;&#x8FD9;&#x6837; math &#x76EE;&#x5F55;&#x4E0B;&#x7684; CMakeLists.txt &#x6587;&#x4EF6;&#x548C;&#x6E90;&#x4EE3;&#x7801;&#x4E5F;&#x4F1A;&#x88AB;&#x5904;&#x7406; &#x3002;&#x7B2C;6&#x884C;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4; target_link_libraries &#x6307;&#x660E;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6; main &#x9700;&#x8981;&#x8FDE;&#x63A5;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; MathFunctions &#x7684;&#x94FE;&#x63A5;&#x5E93; &#x3002;</p>
<p>&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x7684; CMakeLists.txt&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># &#x67E5;&#x627E;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6E90;&#x6587;&#x4EF6;</span>
<span class="token comment" spellcheck="true"># &#x5E76;&#x5C06;&#x540D;&#x79F0;&#x4FDD;&#x5B58;&#x5230; DIR_LIB_SRCS &#x53D8;&#x91CF;</span>
aux_source_directory<span class="token punctuation">(</span>. DIR_LIB_SRCS<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x751F;&#x6210;&#x94FE;&#x63A5;&#x5E93;</span>
add_library <span class="token punctuation">(</span>MathFunctions <span class="token variable">${DIR_LIB_SRCS}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x4E2D;&#x4F7F;&#x7528;&#x547D;&#x4EE4; add_library &#x5C06; src &#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6E90;&#x6587;&#x4EF6;&#x7F16;&#x8BD1;&#x4E3A;&#x9759;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x3002;</p>
<h2 id="&#x8BBE;&#x7F6E;&#x53EF;&#x9009;&#x5E93;"><a href="#&#x8BBE;&#x7F6E;&#x53EF;&#x9009;&#x5E93;" class="headerlink" title="&#x8BBE;&#x7F6E;&#x53EF;&#x9009;&#x5E93;"></a>&#x8BBE;&#x7F6E;&#x53EF;&#x9009;&#x5E93;</h2><p>&#x4F8B;&#x5982;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06; MathFunctions &#x5E93;&#x8BBE;&#x4E3A;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5E93;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x9009;&#x9879;&#x4E3A; ON &#xFF0C;&#x5C31;&#x4F7F;&#x7528;&#x8BE5;&#x5E93;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x5B66;&#x51FD;&#x6570;&#x6765;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#x3002;&#x5426;&#x5219;&#x5C31;&#x8C03;&#x7528;&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x5B66;&#x51FD;&#x6570;&#x5E93;&#x3002;</p>
<p>&#x672C;&#x8282;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;<a href="https://github.com/CdqPT/Demo/tree/master/cmake-demo/Demo4" target="_blank" rel="noopener">Demo4</a>&#x3002;<br>CMake &#x5141;&#x8BB8;&#x4E3A;&#x9879;&#x76EE;&#x589E;&#x52A0;&#x7F16;&#x8BD1;&#x9009;&#x9879;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x73AF;&#x5883;&#x548C;&#x9700;&#x6C42;&#x9009;&#x62E9;&#x6700;&#x5408;&#x9002;&#x7684;&#x7F16;&#x8BD1;&#x65B9;&#x6848;&#x3002;<br>&#x4F8B;&#x5982;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06; MathFunctions &#x5E93;&#x8BBE;&#x4E3A;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5E93;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x9009;&#x9879;&#x4E3A; ON &#xFF0C;&#x5C31;&#x4F7F;&#x7528;&#x8BE5;&#x5E93;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x5B66;&#x51FD;&#x6570;&#x6765;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#x3002;&#x5426;&#x5219;&#x5C31;&#x8C03;&#x7528;&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x5B66;&#x51FD;&#x6570;&#x5E93;&#x3002;</p>
<h2 id="&#x4FEE;&#x6539;-CMakeLists-&#x6587;&#x4EF6;"><a href="#&#x4FEE;&#x6539;-CMakeLists-&#x6587;&#x4EF6;" class="headerlink" title="&#x4FEE;&#x6539; CMakeLists &#x6587;&#x4EF6;"></a>&#x4FEE;&#x6539; CMakeLists &#x6587;&#x4EF6;</h2><p>&#x6211;&#x4EEC;&#x8981;&#x505A;&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#x662F;&#x5728;&#x9876;&#x5C42;&#x7684; CMakeLists.txt &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x8BE5;&#x9009;&#x9879;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># CMake &#x6700;&#x4F4E;&#x7248;&#x672C;&#x53F7;&#x8981;&#x6C42;</span>
cmake_minimum_required <span class="token punctuation">(</span>VERSION 2.8<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x9879;&#x76EE;&#x4FE1;&#x606F;</span>
project <span class="token punctuation">(</span>Demo4<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x52A0;&#x5165;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x5934;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x4E8E;&#x5904;&#x7406; CMake &#x5BF9;&#x6E90;&#x7801;&#x7684;&#x8BBE;&#x7F6E;</span>
configure_file <span class="token punctuation">(</span>
  <span class="token string">&quot;<span class="token variable">${PROJECT_SOURCE_DIR}</span>/config.h.in&quot;</span>
  <span class="token string">&quot;<span class="token variable">${PROJECT_BINARY_DIR}</span>/config.h&quot;</span>
  <span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x662F;&#x5426;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684; MathFunctions &#x5E93;</span>
option <span class="token punctuation">(</span>USE_MYMATH
       <span class="token string">&quot;Use provided math implementation&quot;</span> ON<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x662F;&#x5426;&#x52A0;&#x5165; MathFunctions &#x5E93;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>USE_MYMATH<span class="token punctuation">)</span>
  include_directories <span class="token punctuation">(</span><span class="token string">&quot;<span class="token variable">${PROJECT_SOURCE_DIR}</span>/math&quot;</span><span class="token punctuation">)</span>
  add_subdirectory <span class="token punctuation">(</span>math<span class="token punctuation">)</span>  
  <span class="token keyword">set</span> <span class="token punctuation">(</span>EXTRA_LIBS <span class="token variable">${EXTRA_LIBS}</span> MathFunctions<span class="token punctuation">)</span>
endif <span class="token punctuation">(</span>USE_MYMATH<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x67E5;&#x627E;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6E90;&#x6587;&#x4EF6;</span>
<span class="token comment" spellcheck="true"># &#x5E76;&#x5C06;&#x540D;&#x79F0;&#x4FDD;&#x5B58;&#x5230; DIR_SRCS &#x53D8;&#x91CF;</span>
aux_source_directory<span class="token punctuation">(</span>. DIR_SRCS<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6307;&#x5B9A;&#x751F;&#x6210;&#x76EE;&#x6807;</span>
add_executable<span class="token punctuation">(</span>Demo <span class="token variable">${DIR_SRCS}</span><span class="token punctuation">)</span>
target_link_libraries <span class="token punctuation">(</span>Demo  <span class="token variable">${EXTRA_LIBS}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x5176;&#x4E2D;&#xFF1A;</p>
<p>1.&#x7B2C;7&#x884C;&#x7684; configure_file &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x52A0;&#x5165;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x5934;&#x6587;&#x4EF6; config.h &#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7531; CMake &#x4ECE; config.h.in &#x751F;&#x6210;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x6837;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5C06;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9884;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#x548C;&#x53D8;&#x91CF;&#x6765;&#x63A7;&#x5236;&#x4EE3;&#x7801;&#x7684;&#x751F;&#x6210;&#x3002;<br>2.&#x7B2C;13&#x884C;&#x7684; option &#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A; USE_MYMATH &#x9009;&#x9879;&#xFF0C;&#x5E76;&#x4E14;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A; ON &#x3002;<br>3.&#x7B2C;17&#x884C;&#x6839;&#x636E; USE_MYMATH &#x53D8;&#x91CF;&#x7684;&#x503C;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x7684; MathFunctions &#x5E93;&#x3002;</p>
<h2 id="&#x4FEE;&#x6539;-main-cc-&#x6587;&#x4EF6;"><a href="#&#x4FEE;&#x6539;-main-cc-&#x6587;&#x4EF6;" class="headerlink" title="&#x4FEE;&#x6539; main.cc &#x6587;&#x4EF6;"></a>&#x4FEE;&#x6539; main.cc &#x6587;&#x4EF6;</h2><p>&#x4E4B;&#x540E;&#x4FEE;&#x6539; main.cc &#x6587;&#x4EF6;&#xFF0C;&#x8BA9;&#x5176;&#x6839;&#x636E; USE_MYMATH &#x7684;&#x9884;&#x5B9A;&#x4E49;&#x503C;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x8C03;&#x7528;&#x6807;&#x51C6;&#x5E93;&#x8FD8;&#x662F; MathFunctions &#x5E93;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#include </span>
<span class="token comment" spellcheck="true">#include </span>
<span class="token comment" spellcheck="true">#include &quot;config.h&quot;</span>
<span class="token comment" spellcheck="true">#ifdef USE_MYMATH</span>
  <span class="token comment" spellcheck="true">#include &quot;math/MathFunctions.h&quot;</span>
<span class="token comment" spellcheck="true">#else</span>
  <span class="token comment" spellcheck="true">#include </span>
<span class="token comment" spellcheck="true">#endif</span>
int main<span class="token punctuation">(</span>int argc, char *argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> 3<span class="token punctuation">)</span><span class="token punctuation">{</span>
        printf<span class="token punctuation">(</span><span class="token string">&quot;Usage: %s base exponent \n&quot;</span>, argv<span class="token punctuation">[</span>0<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> 1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    double base <span class="token operator">=</span> atof<span class="token punctuation">(</span>argv<span class="token punctuation">[</span>1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    int exponent <span class="token operator">=</span> atoi<span class="token punctuation">(</span>argv<span class="token punctuation">[</span>2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">#ifdef USE_MYMATH</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;Now we use our own Math library. \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    double result <span class="token operator">=</span> power<span class="token punctuation">(</span>base, exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#else</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;Now we use the standard library. \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    double result <span class="token operator">=</span> pow<span class="token punctuation">(</span>base, exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#endif</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;%g ^ %d is %g\n&quot;</span>, base, exponent, result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x7F16;&#x5199;-config-h-in-&#x6587;&#x4EF6;"><a href="#&#x7F16;&#x5199;-config-h-in-&#x6587;&#x4EF6;" class="headerlink" title="&#x7F16;&#x5199; config.h.in &#x6587;&#x4EF6;"></a>&#x7F16;&#x5199; config.h.in &#x6587;&#x4EF6;</h2><p>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x7B2C;2&#x884C;&#xFF0C;&#x8FD9;&#x91CC;&#x5F15;&#x7528;&#x4E86;&#x4E00;&#x4E2A; config.h &#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x9884;&#x5B9A;&#x4E49;&#x4E86; USE_MYMATH &#x7684;&#x503C;&#x3002;&#x4F46;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x76F4;&#x63A5;&#x7F16;&#x5199;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x4ECE; CMakeLists.txt &#x4E2D;&#x5BFC;&#x5165;&#x914D;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x7F16;&#x5199;&#x4E00;&#x4E2A; config.h.in &#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#cmakedefine USE_MYMATH</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>&#x8FD9;&#x6837; CMake &#x4F1A;&#x81EA;&#x52A8;&#x6839;&#x636E; CMakeLists &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x8BBE;&#x7F6E;&#x81EA;&#x52A8;&#x751F;&#x6210; config.h &#x6587;&#x4EF6;&#x3002;</p>
<h2 id="&#x7F16;&#x8BD1;&#x9879;&#x76EE;"><a href="#&#x7F16;&#x8BD1;&#x9879;&#x76EE;" class="headerlink" title="&#x7F16;&#x8BD1;&#x9879;&#x76EE;"></a>&#x7F16;&#x8BD1;&#x9879;&#x76EE;</h2><p>&#x73B0;&#x5728;&#x7F16;&#x8BD1;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x4EA4;&#x4E92;&#x5F0F;&#x7684;&#x9009;&#x62E9;&#x8BE5;&#x53D8;&#x91CF;&#x7684;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ccmake &#x547D;&#x4EE4;.</p>
<pre class="line-numbers language-bash"><code class="language-bash">ccmake <span class="token keyword">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>&#x4ECE;&#x4E2D;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x521A;&#x521A;&#x5B9A;&#x4E49;&#x7684; USE_MYMATH &#x9009;&#x9879;&#xFF0C;&#x6309;&#x952E;&#x76D8;&#x7684;&#x65B9;&#x5411;&#x952E;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x9009;&#x9879;&#x7A97;&#x53E3;&#x95F4;&#x8DF3;&#x8F6C;&#xFF0C;&#x6309;&#x4E0B; enter &#x952E;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x8BE5;&#x9009;&#x9879;&#x3002;&#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x6309;&#x4E0B; c &#x9009;&#x9879;&#x5B8C;&#x6210;&#x914D;&#x7F6E;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x6309; g &#x952E;&#x786E;&#x8BA4;&#x751F;&#x6210; Makefile &#x3002;ccmake &#x7684;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7A97;&#x53E3;&#x4E0B;&#x65B9;&#x7ED9;&#x51FA;&#x7684;&#x6307;&#x4EE4;&#x63D0;&#x793A;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BD5;&#x8BD5;&#x5206;&#x522B;&#x5C06; USE_MYMATH &#x8BBE;&#x4E3A; ON &#x548C; OFF &#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p>
<p>USE_MYMATH &#x4E3A; ON<br>&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">./Demo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>Now we use our own MathFunctions library. 
 7 ^ 3 = 343.000000
 10 ^ 5 = 100000.000000
 2 ^ 10 = 1024.000000</code></pre><p>&#x6B64;&#x65F6; config.h &#x7684;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> USE_MYMATH</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>USE_MYMATH &#x4E3A; OFF<br>&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">./Demo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>Now we use the standard library. 
 7 ^ 3 = 343.000000
 10 ^ 5 = 100000.000000
 2 ^ 10 = 1024.000000</code></pre><p>&#x6B64;&#x65F6; config.h &#x7684;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">/* #undef USE_MYMATH */</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="&#x5B89;&#x88C5;&#x548C;&#x6D4B;&#x8BD5;"><a href="#&#x5B89;&#x88C5;&#x548C;&#x6D4B;&#x8BD5;" class="headerlink" title="&#x5B89;&#x88C5;&#x548C;&#x6D4B;&#x8BD5;"></a>&#x5B89;&#x88C5;&#x548C;&#x6D4B;&#x8BD5;</h1><p>&#x672C;&#x8282;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;<a href="https://github.com/CdqPT/Demo/tree/master/cmake-demo/Demo5" target="_blank" rel="noopener">Demo5</a>&#x3002;</p>
<p>CMake &#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5B89;&#x88C5;&#x89C4;&#x5219;&#xFF0C;&#x4EE5;&#x53CA;&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x529F;&#x80FD;&#x5206;&#x522B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x4EA7;&#x751F; Makefile &#x540E;&#x4F7F;&#x7528; make install &#x548C; make test &#x6765;&#x6267;&#x884C;&#x3002;&#x5728;&#x4EE5;&#x524D;&#x7684; GNU Makefile &#x91CC;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4E3A;&#x6B64;&#x7F16;&#x5199; install &#x548C; test &#x4E24;&#x4E2A;&#x4F2A;&#x76EE;&#x6807;&#x548C;&#x76F8;&#x5E94;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x4F46;&#x5728; CMake &#x91CC;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5DE5;&#x4F5C;&#x540C;&#x6837;&#x53EA;&#x9700;&#x8981;&#x7B80;&#x5355;&#x7684;&#x8C03;&#x7528;&#x51E0;&#x6761;&#x547D;&#x4EE4;&#x3002;</p>
<h2 id="&#x5B9A;&#x5236;&#x5B89;&#x88C5;&#x89C4;&#x5219;"><a href="#&#x5B9A;&#x5236;&#x5B89;&#x88C5;&#x89C4;&#x5219;" class="headerlink" title="&#x5B9A;&#x5236;&#x5B89;&#x88C5;&#x89C4;&#x5219;"></a>&#x5B9A;&#x5236;&#x5B89;&#x88C5;&#x89C4;&#x5219;</h2><p>&#x9996;&#x5148;&#x5148;&#x5728; math/CMakeLists.txt &#x6587;&#x4EF6;&#x91CC;&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x4E24;&#x884C;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># &#x6307;&#x5B9A; MathFunctions &#x5E93;&#x7684;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;</span>
<span class="token function">install</span> <span class="token punctuation">(</span>TARGETS MathFunctions DESTINATION bin<span class="token punctuation">)</span>
<span class="token function">install</span> <span class="token punctuation">(</span>FILES MathFunctions.h DESTINATION include<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>&#x6307;&#x660E; MathFunctions &#x5E93;&#x7684;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;&#x3002;&#x4E4B;&#x540E;&#x540C;&#x6837;&#x4FEE;&#x6539;&#x6839;&#x76EE;&#x5F55;&#x7684; CMakeLists &#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x51E0;&#x884C;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># &#x6307;&#x5B9A;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;</span>
<span class="token function">install</span> <span class="token punctuation">(</span>TARGETS Demo DESTINATION bin<span class="token punctuation">)</span>
<span class="token function">install</span> <span class="token punctuation">(</span>FILES <span class="token string">&quot;<span class="token variable">${PROJECT_BINARY_DIR}</span>/config.h&quot;</span>
         DESTINATION include<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x5B9A;&#x5236;&#xFF0C;&#x751F;&#x6210;&#x7684; Demo &#x6587;&#x4EF6;&#x548C; MathFunctions &#x51FD;&#x6570;&#x5E93; libMathFunctions.o &#x6587;&#x4EF6;&#x5C06;&#x4F1A;&#x88AB;&#x590D;&#x5236;&#x5230; /usr/local/bin &#x4E2D;&#xFF0C;&#x800C; MathFunctions.h &#x548C;&#x751F;&#x6210;&#x7684; config.h &#x6587;&#x4EF6;&#x5219;&#x4F1A;&#x88AB;&#x590D;&#x5236;&#x5230; /usr/local/include &#x4E2D;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;:</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>ehome@xman Demo5<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token punctuation">[</span> 50%<span class="token punctuation">]</span> Built target MathFunctions
<span class="token punctuation">[</span>100%<span class="token punctuation">]</span> Built target Demo
Install the project<span class="token punctuation">..</span>.
-- Install configuration: <span class="token string">&quot;&quot;</span>
-- Installing: /usr/local/bin/Demo
-- Installing: /usr/local/include/config.h
-- Installing: /usr/local/bin/libMathFunctions.a
-- Up-to-date: /usr/local/include/MathFunctions.h
<span class="token punctuation">[</span>ehome@xman Demo5<span class="token punctuation">]</span>$ <span class="token function">ls</span> /usr/local/bin
Demo  libMathFunctions.a
<span class="token punctuation">[</span>ehome@xman Demo5<span class="token punctuation">]</span>$ <span class="token function">ls</span> /usr/local/include
config.h  MathFunctions.h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;"><a href="#&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;" class="headerlink" title="&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;"></a>&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;</h2><p>&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#x540C;&#x6837;&#x5F88;&#x7B80;&#x5355;&#x3002;CMake &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x79F0;&#x4E3A; CTest &#x7684;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x3002;&#x6211;&#x4EEC;&#x8981;&#x505A;&#x7684;&#x53EA;&#x662F;&#x5728;&#x9879;&#x76EE;&#x6839;&#x76EE;&#x5F55;&#x7684; CMakeLists &#x6587;&#x4EF6;&#x4E2D;&#x8C03;&#x7528;&#x4E00;&#x7CFB;&#x5217;&#x7684; add_test &#x547D;&#x4EE4;&#x3002;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># &#x542F;&#x7528;&#x6D4B;&#x8BD5;</span>
enable_testing<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;&#x662F;&#x5426;&#x6210;&#x529F;&#x8FD0;&#x884C;</span>
add_test <span class="token punctuation">(</span>test_run Demo 5 2<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6D4B;&#x8BD5;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x63D0;&#x793A;</span>
add_test <span class="token punctuation">(</span>test_usage Demo<span class="token punctuation">)</span>
set_tests_properties <span class="token punctuation">(</span>test_usage
  PROPERTIES PASS_REGULAR_EXPRESSION <span class="token string">&quot;Usage: .* base exponent&quot;</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6D4B;&#x8BD5; 5 &#x7684;&#x5E73;&#x65B9;</span>
add_test <span class="token punctuation">(</span>test_5_2 Demo 5 2<span class="token punctuation">)</span>
set_tests_properties <span class="token punctuation">(</span>test_5_2
 PROPERTIES PASS_REGULAR_EXPRESSION <span class="token string">&quot;is 25&quot;</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6D4B;&#x8BD5; 10 &#x7684; 5 &#x6B21;&#x65B9;</span>
add_test <span class="token punctuation">(</span>test_10_5 Demo 10 5<span class="token punctuation">)</span>
set_tests_properties <span class="token punctuation">(</span>test_10_5
 PROPERTIES PASS_REGULAR_EXPRESSION <span class="token string">&quot;is 100000&quot;</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># &#x6D4B;&#x8BD5; 2 &#x7684; 10 &#x6B21;&#x65B9;</span>
add_test <span class="token punctuation">(</span>test_2_10 Demo 2 10<span class="token punctuation">)</span>
set_tests_properties <span class="token punctuation">(</span>test_2_10
 PROPERTIES PASS_REGULAR_EXPRESSION <span class="token string">&quot;is 1024&quot;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5305;&#x542B;&#x4E86;&#x56DB;&#x4E2A;&#x6D4B;&#x8BD5;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5; test_run &#x7528;&#x6765;&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;&#x662F;&#x5426;&#x6210;&#x529F;&#x8FD0;&#x884C;&#x5E76;&#x8FD4;&#x56DE; 0 &#x503C;&#x3002;&#x5269;&#x4E0B;&#x7684;&#x4E09;&#x4E2A;&#x6D4B;&#x8BD5;&#x5206;&#x522B;&#x7528;&#x6765;&#x6D4B;&#x8BD5; 5 &#x7684; &#x5E73;&#x65B9;&#x3001;10 &#x7684; 5 &#x6B21;&#x65B9;&#x3001;2 &#x7684; 10 &#x6B21;&#x65B9;&#x662F;&#x5426;&#x90FD;&#x80FD;&#x5F97;&#x5230;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x5176;&#x4E2D; PASS_REGULAR_EXPRESSION &#x7528;&#x6765;&#x6D4B;&#x8BD5;&#x8F93;&#x51FA;&#x662F;&#x5426;&#x5305;&#x542B;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x770B;&#x6D4B;&#x8BD5;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>ehome@xman Demo5<span class="token punctuation">]</span>$ <span class="token function">make</span> <span class="token function">test</span>
Running tests<span class="token punctuation">..</span>.
Test project /home/ehome/Documents/programming/C/power/Demo5
    Start 1: test_run
1/4 Test <span class="token comment" spellcheck="true">#1: test_run .........................   Passed    0.00 sec</span>
    Start 2: test_5_2
2/4 Test <span class="token comment" spellcheck="true">#2: test_5_2 .........................   Passed    0.00 sec</span>
    Start 3: test_10_5
3/4 Test <span class="token comment" spellcheck="true">#3: test_10_5 ........................   Passed    0.00 sec</span>
    Start 4: test_2_10
4/4 Test <span class="token comment" spellcheck="true">#4: test_2_10 ........................   Passed    0.00 sec</span>
100% tests passed, 0 tests failed out of 4
Total Test <span class="token function">time</span> <span class="token punctuation">(</span>real<span class="token punctuation">)</span> <span class="token operator">=</span>   0.01 sec<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x5982;&#x679C;&#x8981;&#x6D4B;&#x8BD5;&#x66F4;&#x591A;&#x7684;&#x8F93;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x50CF;&#x4E0A;&#x9762;&#x90A3;&#x6837;&#x4E00;&#x4E2A;&#x4E2A;&#x5199;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x672A;&#x514D;&#x592A;&#x7E41;&#x7410;&#x3002;&#x8FD9;&#x65F6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F16;&#x5199;&#x5B8F;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5B8F;&#xFF0C;&#x7528;&#x6765;&#x7B80;&#x5316;&#x6D4B;&#x8BD5;&#x5DE5;&#x4F5C;</span>
macro <span class="token punctuation">(</span>do_test arg1 arg2 result<span class="token punctuation">)</span>
  add_test <span class="token punctuation">(</span>test_<span class="token variable">${arg1}</span>_<span class="token variable">${arg2}</span> Demo <span class="token variable">${arg1}</span> <span class="token variable">${arg2}</span><span class="token punctuation">)</span>
  set_tests_properties <span class="token punctuation">(</span>test_<span class="token variable">${arg1}</span>_<span class="token variable">${arg2}</span>
    PROPERTIES PASS_REGULAR_EXPRESSION <span class="token variable">${result}</span><span class="token punctuation">)</span>
endmacro <span class="token punctuation">(</span>do_test<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># &#x4F7F;&#x7528;&#x8BE5;&#x5B8F;&#x8FDB;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6570;&#x636E;&#x6D4B;&#x8BD5;</span>
do_test <span class="token punctuation">(</span>5 2 <span class="token string">&quot;is 25&quot;</span><span class="token punctuation">)</span>
do_test <span class="token punctuation">(</span>10 5 <span class="token string">&quot;is 100000&quot;</span><span class="token punctuation">)</span>
do_test <span class="token punctuation">(</span>2 10 <span class="token string">&quot;is 1024&quot;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x5173;&#x4E8E; CTest &#x7684;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x7528;&#x6CD5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; man 1 ctest &#x53C2;&#x8003; CTest &#x7684;&#x6587;&#x6863;&#x3002;</p>
<h1 id="&#x652F;&#x6301;-gdb"><a href="#&#x652F;&#x6301;-gdb" class="headerlink" title="&#x652F;&#x6301; gdb"></a>&#x652F;&#x6301; gdb</h1><p>&#x8BA9; CMake &#x652F;&#x6301; gdb &#x7684;&#x8BBE;&#x7F6E;&#x4E5F;&#x5F88;&#x5BB9;&#x6613;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6307;&#x5B9A; Debug &#x6A21;&#x5F0F;&#x4E0B;&#x5F00;&#x542F; -g &#x9009;&#x9879;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">set<span class="token punctuation">(</span>CMAKE_BUILD_TYPE <span class="token string">&quot;Debug&quot;</span><span class="token punctuation">)</span>
set<span class="token punctuation">(</span>CMAKE_CXX_FLAGS_DEBUG <span class="token string">&quot;<span class="token variable">$ENV</span>{CXXFLAGS} -O0 -Wall -g -ggdb&quot;</span><span class="token punctuation">)</span>
set<span class="token punctuation">(</span>CMAKE_CXX_FLAGS_RELEASE <span class="token string">&quot;<span class="token variable">$ENV</span>{CXXFLAGS} -O3 -Wall&quot;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5BF9;&#x751F;&#x6210;&#x7684;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528; gdb &#x6765;&#x8C03;&#x8BD5;&#x3002;</p>
<h1 id="&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x68C0;&#x67E5;"><a href="#&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x68C0;&#x67E5;" class="headerlink" title="&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x68C0;&#x67E5;"></a>&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x68C0;&#x67E5;</h1><p>&#x672C;&#x8282;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;[Demo6[(<a href="https://github.com/CdqPT/Demo/tree/master/cmake-demo/Demo6)&#x3002;" target="_blank" rel="noopener">https://github.com/CdqPT/Demo/tree/master/cmake-demo/Demo6)&#x3002;</a></p>
<p>&#x6709;&#x65F6;&#x5019;&#x53EF;&#x80FD;&#x8981;&#x5BF9;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x505A;&#x70B9;&#x68C0;&#x67E5;&#xFF0C;&#x4F8B;&#x5982;&#x8981;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5E73;&#x53F0;&#x76F8;&#x5173;&#x7684;&#x7279;&#x6027;&#x7684;&#x65F6;&#x5019;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x81EA;&#x5E26; pow &#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x5E26;&#x6709; pow &#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x4F7F;&#x7528;&#x5B83;&#xFF1B;&#x5426;&#x5219;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x7684; power &#x51FD;&#x6570;&#x3002;</p>
<h2 id="&#x6DFB;&#x52A0;-CheckFunctionExists-&#x5B8F;"><a href="#&#x6DFB;&#x52A0;-CheckFunctionExists-&#x5B8F;" class="headerlink" title="&#x6DFB;&#x52A0; CheckFunctionExists &#x5B8F;"></a>&#x6DFB;&#x52A0; CheckFunctionExists &#x5B8F;</h2><p>&#x9996;&#x5148;&#x5728;&#x9876;&#x5C42; CMakeLists &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; CheckFunctionExists.cmake &#x5B8F;&#xFF0C;&#x5E76;&#x8C03;&#x7528; check_function_exists &#x547D;&#x4EE4;&#x6D4B;&#x8BD5;&#x94FE;&#x63A5;&#x5668;&#x662F;&#x5426;&#x80FD;&#x591F;&#x5728;&#x94FE;&#x63A5;&#x9636;&#x6BB5;&#x627E;&#x5230; pow &#x51FD;&#x6570;&#x3002;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># &#x68C0;&#x67E5;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x652F;&#x6301; pow &#x51FD;&#x6570;</span>
include <span class="token punctuation">(</span><span class="token variable">${CMAKE_ROOT}</span>/Modules/CheckFunctionExists.cmake<span class="token punctuation">)</span>
check_function_exists <span class="token punctuation">(</span>pow HAVE_POW<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>&#x5C06;&#x4E0A;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x653E;&#x5728; configure_file &#x547D;&#x4EE4;&#x524D;&#x3002;</p>
<h2 id="&#x9884;&#x5B9A;&#x4E49;&#x76F8;&#x5173;&#x5B8F;&#x53D8;&#x91CF;"><a href="#&#x9884;&#x5B9A;&#x4E49;&#x76F8;&#x5173;&#x5B8F;&#x53D8;&#x91CF;" class="headerlink" title="&#x9884;&#x5B9A;&#x4E49;&#x76F8;&#x5173;&#x5B8F;&#x53D8;&#x91CF;"></a>&#x9884;&#x5B9A;&#x4E49;&#x76F8;&#x5173;&#x5B8F;&#x53D8;&#x91CF;</h2><p>&#x63A5;&#x4E0B;&#x6765;&#x4FEE;&#x6539; config.h.in &#x6587;&#x4EF6;&#xFF0C;&#x9884;&#x5B9A;&#x4E49;&#x76F8;&#x5173;&#x7684;&#x5B8F;&#x53D8;&#x91CF;&#x3002;</p>
<pre class="line-numbers language-bash"><code class="language-bash">// does the platform provide pow function?
<span class="token comment" spellcheck="true">#cmakedefine HAVE_POW</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x5B8F;&#x548C;&#x51FD;&#x6570;"><a href="#&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x5B8F;&#x548C;&#x51FD;&#x6570;" class="headerlink" title="&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x5B8F;&#x548C;&#x51FD;&#x6570;"></a>&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x5B8F;&#x548C;&#x51FD;&#x6570;</h2><p>&#x6700;&#x540E;&#x4E00;&#x6B65;&#x662F;&#x4FEE;&#x6539; main.cc &#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x5B8F;&#x548C;&#x51FD;&#x6570;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#ifdef HAVE_POW</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;Now we use the standard library. \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    double result <span class="token operator">=</span> pow<span class="token punctuation">(</span>base, exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#else</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;Now we use our own Math library. \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    double result <span class="token operator">=</span> power<span class="token punctuation">(</span>base, exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#endif</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="&#x6DFB;&#x52A0;&#x7248;&#x672C;&#x53F7;"><a href="#&#x6DFB;&#x52A0;&#x7248;&#x672C;&#x53F7;" class="headerlink" title="&#x6DFB;&#x52A0;&#x7248;&#x672C;&#x53F7;"></a>&#x6DFB;&#x52A0;&#x7248;&#x672C;&#x53F7;</h1><p>&#x672C;&#x8282;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;<a href="https://github.com/CdqPT/Demo/tree/master/cmake-demo/Demo7" target="_blank" rel="noopener">Demo7</a>&#x3002;<br>&#x7ED9;&#x9879;&#x76EE;&#x6DFB;&#x52A0;&#x548C;&#x7EF4;&#x62A4;&#x7248;&#x672C;&#x53F7;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x4E60;&#x60EF;&#xFF0C;&#x8FD9;&#x6837;&#x6709;&#x5229;&#x4E8E;&#x7528;&#x6237;&#x4E86;&#x89E3;&#x6BCF;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x7EF4;&#x62A4;&#x60C5;&#x51B5;&#xFF0C;&#x5E76;&#x53CA;&#x65F6;&#x4E86;&#x89E3;&#x5F53;&#x524D;&#x6240;&#x7528;&#x7684;&#x7248;&#x672C;&#x662F;&#x5426;&#x8FC7;&#x65F6;&#xFF0C;&#x6216;&#x662F;&#x5426;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<p>&#x9996;&#x5148;&#x4FEE;&#x6539;&#x9876;&#x5C42; CMakeLists &#x6587;&#x4EF6;&#xFF0C;&#x5728; project &#x547D;&#x4EE4;&#x4E4B;&#x540E;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x4E24;&#x884C;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">set</span> <span class="token punctuation">(</span>Demo_VERSION_MAJOR 1<span class="token punctuation">)</span>
<span class="token keyword">set</span> <span class="token punctuation">(</span>Demo_VERSION_MINOR 0<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>&#x5206;&#x522B;&#x6307;&#x5B9A;&#x5F53;&#x524D;&#x7684;&#x9879;&#x76EE;&#x7684;&#x4E3B;&#x7248;&#x672C;&#x53F7;&#x548C;&#x526F;&#x7248;&#x672C;&#x53F7;&#x3002;</p>
<p>&#x4E4B;&#x540E;&#xFF0C;&#x4E3A;&#x4E86;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x83B7;&#x53D6;&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4FEE;&#x6539; config.h.in &#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x4E24;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">// the configured options and settings <span class="token keyword">for</span> Tutorial
<span class="token comment" spellcheck="true">#define Demo_VERSION_MAJOR @Demo_VERSION_MAJOR@</span>
<span class="token comment" spellcheck="true">#define Demo_VERSION_MINOR @Demo_VERSION_MINOR@</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x6253;&#x5370;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x4E86;&#xFF1A;</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;config.h&quot;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&quot;math/MathFunctions.h&quot;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// print version info</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s Version %d.%d\n&quot;</span><span class="token punctuation">,</span>
            argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            Demo_VERSION_MAJOR<span class="token punctuation">,</span>
            Demo_VERSION_MINOR<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Usage: %s base exponent \n&quot;</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">double</span> base <span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> exponent <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> defined (HAVE_POW)</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Now we use the standard library. \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span></span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Now we use our own Math library. \n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token function">power</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%g ^ %d is %g\n&quot;</span><span class="token punctuation">,</span> base<span class="token punctuation">,</span> exponent<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="&#x751F;&#x6210;&#x5B89;&#x88C5;&#x5305;"><a href="#&#x751F;&#x6210;&#x5B89;&#x88C5;&#x5305;" class="headerlink" title="&#x751F;&#x6210;&#x5B89;&#x88C5;&#x5305;"></a>&#x751F;&#x6210;&#x5B89;&#x88C5;&#x5305;</h1><p>&#x672C;&#x8282;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;<a href="https://github.com/CdqPT/Demo/tree/master/cmake-demo/Demo8" target="_blank" rel="noopener">Demo8</a>&#x3002;</p>
<p>&#x672C;&#x8282;&#x5C06;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x914D;&#x7F6E;&#x751F;&#x6210;&#x5404;&#x79CD;&#x5E73;&#x53F0;&#x4E0A;&#x7684;&#x5B89;&#x88C5;&#x5305;&#xFF0C;&#x5305;&#x62EC;&#x4E8C;&#x8FDB;&#x5236;&#x5B89;&#x88C5;&#x5305;&#x548C;&#x6E90;&#x7801;&#x5B89;&#x88C5;&#x5305;&#x3002;&#x4E3A;&#x4E86;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7528;&#x5230; CPack &#xFF0C;&#x5B83;&#x540C;&#x6837;&#x4E5F;&#x662F;&#x7531; CMake &#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x6253;&#x5305;&#x3002;</p>
<p>&#x9996;&#x5148;&#x5728;&#x9876;&#x5C42;&#x7684; CMakeLists.txt &#x6587;&#x4EF6;&#x5C3E;&#x90E8;&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x51E0;&#x884C;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># &#x6784;&#x5EFA;&#x4E00;&#x4E2A; CPack &#x5B89;&#x88C5;&#x5305;</span>
include <span class="token punctuation">(</span>InstallRequiredSystemLibraries<span class="token punctuation">)</span>
<span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_RESOURCE_FILE_LICENSE
  <span class="token string">&quot;<span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>/License.txt&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_PACKAGE_VERSION_MAJOR <span class="token string">&quot;<span class="token variable">${Demo_VERSION_MAJOR}</span>&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_PACKAGE_VERSION_MINOR <span class="token string">&quot;<span class="token variable">${Demo_VERSION_MINOR}</span>&quot;</span><span class="token punctuation">)</span>
include <span class="token punctuation">(</span>CPack<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x505A;&#x4E86;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x5DE5;&#x4F5C;&#xFF1A;<br>1.&#x5BFC;&#x5165; InstallRequiredSystemLibraries &#x6A21;&#x5757;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E4B;&#x540E;&#x5BFC;&#x5165; CPack &#x6A21;&#x5757;&#xFF1B;<br>2.&#x8BBE;&#x7F6E;&#x4E00;&#x4E9B; CPack &#x76F8;&#x5173;&#x53D8;&#x91CF;&#xFF0C;&#x5305;&#x62EC;&#x7248;&#x6743;&#x4FE1;&#x606F;&#x548C;&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4E2D;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x7528;&#x4E86;&#x4E0A;&#x4E00;&#x8282;&#x5B9A;&#x4E49;&#x7684;&#x7248;&#x672C;&#x53F7;&#xFF1B;<br>3.&#x5BFC;&#x5165; CPack &#x6A21;&#x5757;&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x5DE5;&#x4F5C;&#x662F;&#x50CF;&#x5F80;&#x5E38;&#x4E00;&#x6837;&#x6784;&#x5EFA;&#x5DE5;&#x7A0B;&#xFF0C;&#x5E76;&#x6267;&#x884C; cpack &#x547D;&#x4EE4;&#x3002;<br><code>&#x751F;&#x6210;&#x4E8C;&#x8FDB;&#x5236;&#x5B89;&#x88C5;&#x5305;&#xFF1A;</code></p>
<pre class="line-numbers language-bash"><code class="language-bash">cpack -C CPackConfig.cmake<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><code>&#x751F;&#x6210;&#x6E90;&#x7801;&#x5B89;&#x88C5;&#x5305;</code></p>
<pre class="line-numbers language-bash"><code class="language-bash">cpack -C CPackSourceConfig.cmake<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BD5;&#x4E00;&#x4E0B;&#x3002;&#x5728;&#x751F;&#x6210;&#x9879;&#x76EE;&#x540E;&#xFF0C;&#x6267;&#x884C; cpack -C CPackConfig.cmake &#x547D;&#x4EE4;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>ehome@xman Demo8<span class="token punctuation">]</span>$ cpack -C CPackSourceConfig.cmake
CPack: Create package using STGZ
CPack: Install projects
CPack: - Run preinstall target for: Demo8
CPack: - Install project: Demo8
CPack: Create package
CPack: - package: /home/ehome/Documents/programming/C/power/Demo8/Demo8-1.0.1-Linux.sh generated.
CPack: Create package using TGZ
CPack: Install projects
CPack: - Run preinstall target for: Demo8
CPack: - Install project: Demo8
CPack: Create package
CPack: - package: /home/ehome/Documents/programming/C/power/Demo8/Demo8-1.0.1-Linux.tar.gz generated.
CPack: Create package using TZ
CPack: Install projects
CPack: - Run preinstall target for: Demo8
CPack: - Install project: Demo8
CPack: Create package
CPack: - package: /home/ehome/Documents/programming/C/power/Demo8/Demo8-1.0.1-Linux.tar.Z generated.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x6B64;&#x65F6;&#x4F1A;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA; 3 &#x4E2A;&#x4E0D;&#x540C;&#x683C;&#x5F0F;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x5305;&#x6587;&#x4EF6;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>ehome@xman Demo8<span class="token punctuation">]</span>$ <span class="token function">ls</span> Demo8-*
Demo8-1.0.1-Linux.sh  Demo8-1.0.1-Linux.tar.gz  Demo8-1.0.1-Linux.tar.Z<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>&#x8FD9; 3 &#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x5305;&#x6587;&#x4EF6;&#x6240;&#x5305;&#x542B;&#x7684;&#x5185;&#x5BB9;&#x662F;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x3002;&#x6B64;&#x65F6;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;&#x7531; CPack &#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4EA4;&#x4E92;&#x5F0F;&#x5B89;&#x88C5;&#x754C;&#x9762;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>ehome@xman Demo8<span class="token punctuation">]</span>$ sh Demo8-1.0.1-Linux.sh 
Demo8 Installer Version: 1.0.1, Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> Humanity
This is a self-extracting archive.
The archive will be extracted to: /home/ehome/Documents/programming/C/power/Demo8
If you want to stop extracting, please press <span class="token operator">&lt;</span>ctrl-C<span class="token operator">&gt;</span>.
The MIT License <span class="token punctuation">(</span>MIT<span class="token punctuation">)</span>
Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> 2013 Joseph Pan<span class="token punctuation">(</span>https://hahack.com<span class="token punctuation">)</span>
Permission is hereby granted, <span class="token function">free</span> of charge, to any person obtaining a copy of
this software and associated documentation files <span class="token punctuation">(</span>the <span class="token string">&quot;Software&quot;</span><span class="token punctuation">)</span>, to deal <span class="token keyword">in</span>
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to <span class="token keyword">do</span> so,
subject to the following conditions:
The above copyright notice and this permission notice shall be included <span class="token keyword">in</span> all
copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED <span class="token string">&quot;AS IS&quot;</span>, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
Do you accept the license? <span class="token punctuation">[</span>yN<span class="token punctuation">]</span>: 
y
By default the Demo8 will be installed in:
  <span class="token string">&quot;/home/ehome/Documents/programming/C/power/Demo8/Demo8-1.0.1-Linux&quot;</span>
Do you want to include the subdirectory Demo8-1.0.1-Linux?
Saying no will <span class="token function">install</span> in: <span class="token string">&quot;/home/ehome/Documents/programming/C/power/Demo8&quot;</span> <span class="token punctuation">[</span>Yn<span class="token punctuation">]</span>: 
y
Using target directory: /home/ehome/Documents/programming/C/power/Demo8/Demo8-1.0.1-Linux
Extracting, please wait<span class="token punctuation">..</span>.
Unpacking finished successfully<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>&#x5B8C;&#x6210;&#x540E;&#x63D0;&#x793A;&#x5B89;&#x88C5;&#x5230;&#x4E86; Demo8-1.0.1-Linux &#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FDB;&#x53BB;&#x6267;&#x884C;&#x8BE5;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>ehome@xman Demo8<span class="token punctuation">]</span>$ ./Demo8-1.0.1-Linux/bin/Demo 5 2
Now we use our own Math library. 
5 ^ 2 is 25<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>&#x5173;&#x4E8E; CPack &#x7684;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x7528;&#x6CD5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; man 1 cpack &#x53C2;&#x8003; CPack &#x7684;&#x6587;&#x6863;&#x3002;</p>
<h1 id="&#x5C06;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#x7684;&#x9879;&#x76EE;&#x8FC1;&#x79FB;&#x5230;-CMake"><a href="#&#x5C06;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#x7684;&#x9879;&#x76EE;&#x8FC1;&#x79FB;&#x5230;-CMake" class="headerlink" title="&#x5C06;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#x7684;&#x9879;&#x76EE;&#x8FC1;&#x79FB;&#x5230; CMake"></a>&#x5C06;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#x7684;&#x9879;&#x76EE;&#x8FC1;&#x79FB;&#x5230; CMake</h1><p>CMake &#x53EF;&#x4EE5;&#x5F88;&#x8F7B;&#x677E;&#x5730;&#x6784;&#x5EFA;&#x51FA;&#x5728;&#x9002;&#x5408;&#x5404;&#x4E2A;&#x5E73;&#x53F0;&#x6267;&#x884C;&#x7684;&#x5DE5;&#x7A0B;&#x73AF;&#x5883;&#x3002;&#x800C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x7684;&#x5DE5;&#x7A0B;&#x73AF;&#x5883;&#x4E0D;&#x662F; CMake &#xFF0C;&#x800C;&#x662F;&#x57FA;&#x4E8E;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5E73;&#x53F0;&#xFF0C;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x8FC1;&#x79FB;&#x5230; CMake &#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#x53EF;&#x80FD;&#x7684;&#x3002;&#x4E0B;&#x9762;&#x9488;&#x5BF9;&#x51E0;&#x4E2A;&#x5E38;&#x7528;&#x7684;&#x5E73;&#x53F0;&#xFF0C;&#x5217;&#x51FA;&#x4E86;&#x5B83;&#x4EEC;&#x5BF9;&#x5E94;&#x7684;&#x8FC1;&#x79FB;&#x65B9;&#x6848;&#x3002;</p>
<p><code>autotools</code><br>am2cmake &#x53EF;&#x4EE5;&#x5C06; autotools &#x7CFB;&#x7684;&#x9879;&#x76EE;&#x8F6C;&#x6362;&#x5230; CMake&#xFF0C;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x7684;&#x4E00;&#x4E2A;&#x6210;&#x529F;&#x6848;&#x4F8B;&#x662F; KDE &#x3002;<br>Alternative Automake2CMake &#x53EF;&#x4EE5;&#x8F6C;&#x6362;&#x4F7F;&#x7528; automake &#x7684; KDevelop &#x5DE5;&#x7A0B;&#x9879;&#x76EE;&#x3002;<br>Converting autoconf tests</p>
<p><code>qmake</code><br>qmake converter &#x53EF;&#x4EE5;&#x8F6C;&#x6362;&#x4F7F;&#x7528; QT &#x7684; qmake &#x7684;&#x5DE5;&#x7A0B;&#x3002;</p>
<p><code>Visual Studio</code><br>vcproj2cmake.rb &#x53EF;&#x4EE5;&#x6839;&#x636E; Visual Studio &#x7684;&#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#xFF08;&#x540E;&#x7F00;&#x540D;&#x662F; .vcproj &#x6216; .vcxproj&#xFF09;&#x751F;&#x6210; CMakeLists.txt &#x6587;&#x4EF6;&#x3002;<br>vcproj2cmake.ps1 vcproj2cmake &#x7684; PowerShell &#x7248;&#x672C;&#x3002;<br>folders4cmake &#x6839;&#x636E; Visual Studio &#x9879;&#x76EE;&#x6587;&#x4EF6;&#x751F;&#x6210;&#x76F8;&#x5E94;&#x7684; &#x201C;source_group&#x201D; &#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x5728; CMake &#x811A;&#x672C;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x652F;&#x6301; Visual Studio 9/10 &#x5DE5;&#x7A0B;&#x6587;&#x4EF6;&#x3002;</p>
<p><code>CMakeLists.txt &#x81EA;&#x52A8;&#x63A8;&#x5BFC;</code><br>gencmake &#x6839;&#x636E;&#x73B0;&#x6709;&#x6587;&#x4EF6;&#x63A8;&#x5BFC; CMakeLists.txt &#x6587;&#x4EF6;&#x3002;<br>CMakeListGenerator &#x5E94;&#x7528;&#x4E00;&#x5957;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x5206;&#x6790;&#x521B;&#x5EFA;&#x51FA;&#x5B8C;&#x6574;&#x7684; CMakeLists.txt &#x6587;&#x4EF6;&#x3002;&#x4EC5;&#x652F;&#x6301; Win32 &#x5E73;&#x53F0;&#x3002;</p>
<h1 id="debug-&#x7248;&#x548C;-release-&#x7248;"><a href="#debug-&#x7248;&#x548C;-release-&#x7248;" class="headerlink" title="debug &#x7248;&#x548C; release &#x7248;"></a>debug &#x7248;&#x548C; release &#x7248;</h1><p>&#x5728; Visual Studio &#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x751F;&#x6210; debug &#x7248;&#x548C; release &#x7248;&#x7684;&#x7A0B;&#x5E8F;,&#x4F7F;&#x7528; CMake &#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x4E0A;&#x8FF0;&#x6548;&#x679C;&#x3002;debug &#x7248;&#x7684;&#x9879;&#x76EE;&#x751F;&#x6210;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x6709;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x5E76;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4F18;&#x5316;,&#x800C; release &#x7248;&#x7684;&#x4E0D;&#x9700;&#x8981;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x4F46;&#x9700;&#x8981;&#x4F18;&#x5316;&#x3002;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x5728; gcc/g++&#x4E2D;&#x662F;&#x901A;&#x8FC7;&#x7F16;&#x8BD1;&#x65F6;&#x7684;&#x53C2;&#x6570;&#x6765;&#x51B3;&#x5B9A;&#x7684;,&#x5982;&#x679C;&#x5C06;&#x4F18;&#x5316;&#x7A0B;&#x5EA6;&#x8C03;&#x5230;&#x6700;&#x9AD8;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;-O3,&#x6700;&#x4F4E;&#x662F; -O0 &#x5373;&#x4E0D;&#x505A;&#x4F18;&#x5316;;&#x6DFB;&#x52A0;&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x7684;&#x53C2;&#x6570;&#x662F; -g -ggdb,&#x5982;&#x679C;&#x4E0D;&#x6DFB;&#x52A0;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;,&#x8C03;&#x8BD5;&#x4FE1;&#x606F;&#x5C31;&#x4E0D;&#x4F1A;&#x88AB;&#x5305;&#x542B;&#x5728;&#x751F;&#x6210;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4E2D;&#x3002; </p>
<p>CMake &#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x53D8;&#x91CF; CMAKE_BUILD_TYPE ,&#x53EF;&#x4EE5;&#x7684;&#x53D6;&#x503C;&#x662F; Debug Release RelWithDebInfo &#x548C; MinSizeRel&#x3002;&#x5F53;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x503C;&#x4E3A; Debug &#x7684;&#x65F6;&#x5019;,CMake &#x4F1A;&#x4F7F;&#x7528;&#x53D8;&#x91CF; CMAKE_CXX_FLAGS_DEBUG &#x548C; CMAKE_C_FLAGS_DEBUG &#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x7F16;&#x8BD1;&#x9009;&#x9879;&#x751F;&#x6210; Makefile ,&#x5F53;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x503C;&#x4E3A; Release &#x7684;&#x65F6;&#x5019;,&#x5DE5;&#x7A0B;&#x4F1A;&#x4F7F;&#x7528;&#x53D8;&#x91CF; CMAKE_CXX_FLAGS_RELEASE &#x548C; CMAKE_C_FLAGS_RELEASE &#x9009;&#x9879;&#x751F;&#x6210; Makefile&#x3002;</p>
<h1 id="&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;"><a href="#&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;" class="headerlink" title="&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;"></a>&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;</h1><p>&#x4ECE;&#x7406;&#x8BBA;&#x4E0A;&#x8BF4;&#xFF0C;cmake&#x6839;&#x636E;cmakeList.txt&#x53EF;&#x4EE5;&#x4E00;&#x6B65;&#x6784;&#x5EFA;&#x51FA;vs&#x5DE5;&#x7A0B;&#x4EE5;&#x53CA;unix&#x5DE5;&#x7A0B;&#xFF0C;</p>
<p>&#x5728;Win&#x4E0A;&#x4F7F;&#x7528;&#x7684;&#x662F;GUI&#x5F62;&#x5F0F;&#xFF0C;&#x5206;&#x4E3A;&#x4E09;&#x6B65;&#xFF0C;<br>1.&#x914D;&#x7F6E;<br>2.&#x518D;&#x914D;&#x7F6E;&#xFF1F;<br>3.&#x751F;&#x6210;&#xFF08;&#x5E94;&#x8BE5;&#x662F;make&#x548C;make install&#x7684;&#x96C6;&#x5408;&#xFF09;<br>4.&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;VS&#x6253;&#x5F00;&#x5DE5;&#x7A0B;&#x4E86;&#x3002;</p>
<p>&#x5728;Linux&#x4E0A;&#x8C8C;&#x4F3C;&#x5F88;&#x9EBB;&#x70E6;&#xFF1A;<br>1.&#x6267;&#x884C;&#x5305;&#x542B;cmake&#x547D;&#x4EE4;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x751F;&#x6210;debug&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x8C8C;&#x4F3C;&#x662F;&#x6784;&#x5EFA;&#x76EE;&#x5F55;,&#x5F85;&#x786E;&#x8BA4;&#xFF1B;<br>2.&#x5728;&#x6784;&#x5EFA;&#x76EE;&#x5F55;&#x4E2D;&#x6267;&#x884C;make<br>3.&#x5728;&#x6784;&#x5EFA;&#x76EE;&#x5F55;&#x4E2D;&#x6267;&#x884C;make install&#xFF0C;&#x6B64;&#x65F6;&#x751F;&#x6210;install&#x76EE;&#x5F55;&#xFF1B;<br>4.&#x4F7F;&#x7528;QTCreater&#x6253;&#x5F00;cmakeList.txt&#xFF0C;&#x8BBE;&#x7F6E;Build&#x4E2D;&#x6784;&#x5EFA;&#x76EE;&#x5F55;&#x9009;&#x62E9;&#x7B2C;1&#x6B65;&#x7684;&#x6784;&#x5EFA;&#x76EE;&#x5F55;&#xFF0C;&#x8BBE;&#x7F6E;Run&#x4E2D;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x7B2C;3&#x6B65;&#x751F;&#x6210;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x3002;</p>
<p>&#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;<br><a href="https://blog.csdn.net/afei__/article/details/81201039" target="_blank" rel="noopener">https://blog.csdn.net/afei__/article/details/81201039</a><br><a href="https://www.hahack.com/codes/cmake/#" target="_blank" rel="noopener">https://www.hahack.com/codes/cmake/#</a><br><a href="https://blog.csdn.net/zhuiyunzhugang/article/details/88142908" target="_blank" rel="noopener">https://blog.csdn.net/zhuiyunzhugang/article/details/88142908</a><br><a href="https://blog.csdn.net/ajianyingxiaoqinghan/article/details/70229799" target="_blank" rel="noopener">https://blog.csdn.net/ajianyingxiaoqinghan/article/details/70229799</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css">
			  		
			  		<!-- google Adsense -->
			  		
					
					
					
					
			    	
					
					<!-- google Adsense Matched content -->
			  		
			  	</div>
				
		  	</article>
		  	
		  	
		  	<!-- TAGS -->
		  	
		  	<div class="meta-content">
				
				<div class="widget">
				  	<h6 class="tag"><span class="fa fa-fw fa-tag"></span>TAGS</h6>
				  	<div class="article-tag">
						<ul class="article-tag-list">
							
					    		<li class="article-tag-list-item">
					    			<a class="article-tag-list-link" href="/tags/其他/">
					    				其他
					    			</a>
					    		</li>
							
						</ul>
					</div>
				</div>
				
			</div>
		  	
		  	
		  	<!-- Categories posts -->
		  	
		  	
		  	
		  	<!-- Detailed categories  posts -->
		  	
		  	
		  	
		  	<!-- Latests -->
		  	
			
		</div>
		
		
		<footer id="footer">
		
			
			
			
			
			<div class="copyright-tool">
				
				
				
				<div class="copyright-title">
					<span>
					&copy; 2020&nbsp;ALaDing
					</span>
				</div>
				
				<div class="copyright-license">
					<aside>
						Powered by <a href="https://hexo.io/">Hexo</a>. <a href="https://github.com/tea3/hexo-generator-amp">AMP-Theme</a> designed by <a href="https://github.com/tea3/">tea</a>.
					</aside>
				</div>
			</div>
			
		</footer>


  	<div id="totop"><a href="#"></a></div>


  </body>
</html>
