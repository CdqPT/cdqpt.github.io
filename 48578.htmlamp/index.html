<!DOCTYPE html>
<html ⚡>
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href="https://purethought.cn/48578.html" >
    <title>GTK# tutorial - ALaDing</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    
    <meta property="og:title" content="GTK# tutorial">
	<meta property="og:type" content="article">
	<meta property="og:url" content="https://purethought.cn/48578.html">
	
		<meta property="og:image" content="/amp-dist/sample/sample-substituteTitleImage.png">
	
	<meta property="og:site_name" content="ALaDing">
	
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="ALaDing">
	<meta name="twitter:url" content="https://purethought.cn/48578.html">
	<meta name="twitter:title" content="GTK# tutorial - ALaDing">
	
    
    	<meta name="twitter:image" content="/amp-dist/sample/sample-substituteTitleImage.png">
	
	
	
    
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
    <noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
    <!--
  	<script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>
    -->
    
    
    
    
    
    
    
    
    
    
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "BlogPosting",
			"headline": "GTK# tutorial",
			
			"mainEntityOfPage":{
			    "@type":"WebPage",
			    "@id":"https://purethought.cn/48578.html"
			},
			"datePublished": "2020-02-29T04:22:00.000Z",
			"dateModified": "2020-03-02T10:36:39.191Z",
			
			"image": {
				"@type": "ImageObject",
				"url": "/amp-dist/sample/sample-substituteTitleImage.png",
				"width" : "1024",
				"height" : "800"
			},
			
			"author": {
			    "@type": "Person",
			    "name": "陈德强"
			},
			"publisher": {
			    "@type": "Organization",
			    "name": "ALaDing"
			    
			    ,
			    "logo": {
			      "@type": "ImageObject",
			      "url": "https://purethought.cn/amp-dist/sample/sample-logo.png",
			      "width": 600,
			      "height": 60
			    }
			    
			}
		}
	</script>
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	
	<style amp-custom>
		
abbr,
acronym,
address,
applet,
big,
blockquote,
body,
caption,
cite,
code,
dd,
del,
dfn,
div,
dl,
dt,
em,
fieldset,
form,
h1,
h2,
h3,
h4,
h5,
h6,
html,
iframe,
img,
ins,
kbd,
label,
legend,
li,
object,
ol,
p,
pre,
q,
s,
samp,
small,
span,
strike,
strong,
sub,
sup,
table,
tbody,
td,
tfoot,
th,
thead,
tr,
tt,
ul,
var {
  border: 0;
  font-family: inherit;
  font-size: 1rem;
  font-style: inherit;
  font-weight: inherit;
  margin: 0;
  outline: 0;
  padding: 0;
  vertical-align: baseline;
}
abbr {
  cursor: help;
  border-bottom: 1px dotted;
  font-variant: normal;
}
acronym {
  border-bottom: 1px dotted;
  font-variant: normal;
}
body {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  -webkit-text-size-adjust: 100%;
  background: #fff;
  color: #2d3d40;
  font-family: sans-serif;
  font-size: 1rem;
  font-weight: 500;
  line-height: 2rem;
  text-rendering: optimizelegibility;
}
button::-moz-focus-inner,
input::-moz-focus-inner,
figure.highlight td,
.post .entry-content figure.highlight th {
  border: 0;
  padding: 0;
}
caption,
table,
td,
th {
  vertical-align: middle;
}
caption,
td,
th,
.table-align-left {
  text-align: left;
}
del {
  text-decoration: line-through;
}
html {
  font-size: 14px;
}
:root sub,
:root sup {
  vertical-align: baseline;
}
table {
  border-collapse: separate;
  border-spacing: 0;
}
a {
  color: #e91e63;
  text-decoration: none;
  -webkit-transition: 0.7s;
  -ms-transition: 0.7s;
  -moz-transition: 0.7s;
  -o-transition: 0.7s;
  -webkit-transition: 0.7s;
  -moz-transition: 0.7s;
  -o-transition: 0.7s;
  -ms-transition: 0.7s;
  transition: 0.7s;
  border: 0;
  font-family: inherit;
  font-size: 1rem;
  font-style: inherit;
  font-weight: inherit;
  margin: 0;
  outline: 0;
  padding: 0;
  vertical-align: baseline;
}
a img {
  border: none;
}
a:hover {
  -webkit-transition: 0.2s;
  -ms-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -webkit-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -ms-transition: 0.2s;
  transition: 0.2s;
  color: #930e3b;
}
@media (min-width: 481px) {
  html {
    font-size: 16px;
  }
}
@media (min-width: 0px) and (max-width: 480px) {
  html {
    font-size: 14px;
  }
}
.clearfix:after {
  clear: both;
  visibility: hidden;
  content: ".";
  display: block;
  height: 0;
}
.left {
  float: left;
}
.right {
  float: right;
}
.circle {
  -webkit-border-radius: 50%;
  border-radius: 50%;
}
.thumbImg-w {
  width: 100px;
  height: 100px;
  display: inline-block;
  position: relative;
  overflow: hidden;
}
.thumbImg {
  top: 50%;
  left: 50%;
  position: absolute;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.__web-inspector-hide-shortcut__ {
  visibility: hidden ;
}
button {
  -webkit-box-align: start;
  -moz-box-align: start;
  -o-box-align: start;
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
  text-align: center;
  cursor: default;
  color: buttontext;
  background-color: buttonface;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 2px 6px 3px;
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  -webkit-border-image: initial;
  -moz-border-image: initial;
  -o-border-image: initial;
  border-image: initial;
  text-rendering: auto;
  color: initial;
  letter-spacing: normal;
  word-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
  display: inline-block;
  text-align: start;
  margin: 0em 0em 0em 0em;
  font: 11px system-ui;
  -webkit-writing-mode: horizontal-tb;
  -webkit-appearance: button;
}
.hamburger {
  display: inline-block;
  background-color: transparent;
  background-image: url("data:image/svg+xmlutf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#4A4A4A\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");
  background-repeat: no-repeat;
  -webkit-background-size: 30px 24px;
  -moz-background-size: 30px 24px;
  background-size: 30px 24px;
  background-position: center center;
  border: none;
  margin: 0;
  padding: 0;
  width: 60px;
  height: 60px;
  cursor: pointer;
  -ms-flex-item-align: center;
  -ms-grid-row-align: center;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
}
.nav ul:after {
  clear: both;
  visibility: hidden;
}
.nav,
.nav-icon {
  position: relative;
}
.nav ul {
  display: block;
}
.nav ul li {
  display: block;
}
.nav ul li a {
  display: block;
}
.tab {
  position: relative;
  color: #424242;
  padding: 6px;
  margin: 0 4px;
  text-decoration: none;
  text-transform: uppercase;
  font-weight: 400;
  -webkit-transition: 0.1s ease color;
  -webkit-transition: 0.1s ease color;
  -moz-transition: 0.1s ease color;
  -o-transition: 0.1s ease color;
  -ms-transition: 0.1s ease color;
  transition: 0.1s ease color;
}
amp-sidebar {
  width: 200px;
}
amp-sidebar ul {
  padding: 10px 0;
}
amp-sidebar li a {
  display: block;
  padding: 10px 20px;
}
header {
  height: 60px;
  background-color: #222f31;
  -webkit-box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
  box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
  -webkit-box-shadow: 0 -1px 0 #3c5155 inset, 0 -3px 0 #1e292b inset;
}
header .header-title a {
  padding: 0 0 0 20px;
  height: 60px;
  line-height: 60px;
  font-size: 20px;
  color: #fff;
  letter-spacing: 0.2em;
}
header .nav-container {
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: justify;
  -ms-flex-pack: justify;
  -webkit-box-pack: justify;
  -moz-box-pack: justify;
  -o-box-pack: justify;
  -ms-flex-pack: justify;
  -webkit-justify-content: space-between;
  justify-content: space-between;
}
header .left-nav {
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -ms-flex-align: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  -webkit-box-pack: start;
  -ms-flex-pack: start;
  -webkit-box-pack: start;
  -moz-box-pack: start;
  -o-box-pack: start;
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
  font-size: 20px;
  margin-left: 0;
  font-weight: 300;
  -webkit-box-pack: start;
  -ms-flex-pack: start;
  -webkit-box-pack: start;
  -moz-box-pack: start;
  -o-box-pack: start;
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
  -webkit-box-flex: 1;
  -ms-flex: 1 1 auto;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1 1 auto;
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
  text-align: left;
  width: auto;
  font-size: 15px;
}
header .right {
  font-size: 15px;
}
header .alt {
  padding: 0;
  text-align: right;
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  -o-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-align-items: stretch;
  align-items: stretch;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.blog-title a {
  position: relative;
}
button {
  -webkit-box-align: start;
  -moz-box-align: start;
  -o-box-align: start;
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
  text-align: center;
  cursor: default;
  color: buttontext;
  background-color: buttonface;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 2px 6px 3px;
  border-width: 2px;
  border-style: outset;
  border-color: buttonface;
  -webkit-border-image: initial;
  -moz-border-image: initial;
  -o-border-image: initial;
  border-image: initial;
  text-rendering: auto;
  color: initial;
  letter-spacing: normal;
  word-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
  display: inline-block;
  text-align: start;
  margin: 0em 0em 0em 0em;
  font: 11px system-ui;
  -webkit-writing-mode: horizontal-tb;
  -webkit-appearance: button;
}
.__web-inspector-hide-shortcut__ {
  visibility: hidden ;
}
.hamburger {
  display: inline-block;
  background-color: transparent;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -6 24 24\"><path fill=\"#FFF\" d=\"M0 12h18v-2H0v2M0 7h18V5H0v2M0 0v2h18V0H0\"/></svg>");
  background-repeat: no-repeat;
  -webkit-background-size: 30px 24px;
  -moz-background-size: 30px 24px;
  background-size: 30px 24px;
  background-position: center center;
  border: none;
  margin: 0;
  padding: 0;
  width: 60px;
  height: 60px;
  cursor: pointer;
  -ms-flex-item-align: center;
  -ms-grid-row-align: center;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
}
.tab {
  position: relative;
  color: #2d3d40;
  padding: 6px;
  margin: 0 4px;
  text-decoration: none;
  text-transform: uppercase;
  font-weight: 400;
  -webkit-transition: 0.1s ease color;
  -webkit-transition: 0.1s ease color;
  -moz-transition: 0.1s ease color;
  -o-transition: 0.1s ease color;
  -ms-transition: 0.1s ease color;
  transition: 0.1s ease color;
}
amp-sidebar {
  width: 250px;
  background-color: #182022;
}
amp-sidebar ul {
  padding: 10px 0;
}
amp-sidebar li {
  border-top: 1px solid #2f4043;
}
amp-sidebar li:last-child {
  border-bottom: 1px solid #2f4043;
}
amp-sidebar li a {
  color: #fff;
  font-weight: bold;
  display: block;
  padding: 10px 20px;
}
amp-sidebar li a:hover {
  color: #ccc;
  background-color: #030404;
}
.categories-header {
  background-color: #2d3d40;
  padding: 0rem 0.8rem;
}
.categories-header a {
  color: #fff;
}
.categories-header a:hover {
  color: #fff;
}
.categories-header .breadcrumb ol li {
  list-style: none;
  display: inline-block;
  margin: 0;
}
.categories-header .breadcrumb ol li span {
  font-size: 0.8rem;
  font-weight: bold;
}
.categories-header .breadcrumb ol li:after {
  content: "/";
  color: #fff;
  display: inline-block;
  margin: 0 0.4rem;
}
.categories-header .breadcrumb ol li:last-child:after {
  content: "";
  margin: 0;
}
.entry-header {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.entry-header .flx:first-child {
  margin: 0 1rem 0 0;
}
.header-cap {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.title-cover {
  background-color: #fff;
  color: #2d3d40;
  padding: 1.5rem 0.8rem 0 0.8rem;
}
.title-cover a {
  font-size: 1.2rem;
  color: #2d3d40;
  text-align: left;
  font-weight: bold;
}
.entry-title {
  margin: 0;
}
.entry-meta-header {
  font-size: 0.85rem;
  text-align: center;
}
.entry-meta-header .date {
  font-family: sans-serif;
}
h1 a,
h2 a,
h3 a,
h4 a,
h5 a,
h6 a {
  color: #2d3d40;
  text-decoration: none;
}
h1 a:hover,
h2 a:hover,
h3 a:hover,
h4 a:hover,
h5 a:hover,
h6 a:hover {
  color: #e91e63;
}
#container {
  margin-left: auto;
  margin-right: auto;
}
#main {
  margin-bottom: 3em;
  padding-left: 0;
}
.post {
  margin-bottom: 3rem;
  position: relative;
}
.entry-content {
  margin: 0 0.6rem;
  font-size: 1rem;
}
.entry-content h1 {
  font-size: 1.7rem;
  line-height: 1.5;
  margin: 1em 0 0.8em;
}
.entry-content h2,
.entry-content h3,
.entry-content h4,
.entry-content h5,
.entry-content h6,
.entry-content h2 span,
.entry-content h3 span,
.entry-content h4 span,
.entry-content h5 span,
.entry-content h6 span {
  color: #98b8be;
  font-weight: bold;
}
.entry-content h2,
.entry-content h2 span {
  font-size: 1.8rem;
  line-height: 2.6rem;
  text-align: center;
}
.entry-content h2 {
  border-bottom: 2px solid #cce4e8;
  margin: 4.5rem 0 0.5em;
  padding: 0.8em 0;
}
.entry-content h3,
.entry-content h3 span {
  font-size: 1.6rem;
  line-height: 2.2rem;
  text-align: center;
}
.entry-content h3 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h4,
.entry-content h4 span {
  font-size: 1.4rem;
  line-height: 2rem;
  text-align: center;
}
.entry-content h4 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h5,
.entry-content h5 span {
  font-size: 1.2rem;
  line-height: 1.8rem;
  text-align: center;
}
.entry-content h5 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content h6,
.entry-content h6 span {
  font-size: 1.1rem;
  line-height: 1.6rem;
  text-align: center;
}
.entry-content h6 {
  margin: 3.6rem 0.8rem 3rem 0.8rem;
  padding: 0;
}
.entry-content p {
  font-size: 1rem;
  letter-spacing: 0.05rem;
  line-height: 2.2rem;
  margin: 3rem 0.8rem;
}
.entry-content p a {
  word-wrap: break-word;
  overflow-wrap: break-word;
  display: inline;
  border-bottom: 1px dashed #f1729d;
  padding-bottom: 0.3rem;
}
.entry-content p a:hover {
  border-bottom: 1px dashed #9c0f3f;
  padding-bottom: 0.4rem;
}
.entry-content em {
  background-color: #f9f5d1;
  color: #886d00;
  font-style: normal;
  margin: 0 2px;
  padding: 0.4em;
}
.entry-content strong {
  color: #871c1c;
  font-style: normal;
  margin: 0 2px;
  padding: 0.4em;
  background-color: #fadcdc;
}
.entry-content hr {
  border: 0;
  border-top: 3px solid #cce4e8;
  margin: 3rem auto;
  width: 20%;
}
.entry-content img,
.entry-content video {
  display: block;
  height: auto;
  margin: auto;
  max-width: 100%;
}
.entry-content iframe {
  width: 100% ;
}
.entry-content blockquote {
  margin: 3rem 0.8rem;
  padding: 1rem 1.8rem;
  position: relative;
  background-color: none;
  border-left: 3px solid #98b8be;
  font-style: italic;
}
.entry-content blockquote p {
  margin: 0.5rem 0;
}
.entry-content blockquote blockquote {
  border-left: none;
}
.entry-content .table-wrapper {
  margin: 3rem 0.8rem;
}
.entry-content table {
  border-collapse: collapse;
  border-spacing: 0;
  overflow: auto;
  display: block;
  font-size: 0.85rem;
  margin: 0 auto;
  width: auto;
}
.entry-content td,
.entry-content th {
  line-height: 1.8em;
  padding: 0.8rem 0.8rem;
  font-size: 0.85rem;
}
.entry-content td em,
.entry-content th em,
.entry-content td strong,
.entry-content th strong,
.entry-content td a,
.entry-content th a {
  font-size: 0.85rem;
}
.entry-content td {
  border: 1px solid #c4c4c4;
}
.entry-content th {
  background-color: #ecf5f7;
  border: 1px solid #c4c4c4;
}
.entry-content .table-align-center {
  text-align: center;
}
.entry-content .table-align-right {
  text-align: right;
}
.entry-content ul,
.entry-content ol,
.entry-content dl {
  margin: 3rem 0 3rem 1.6rem;
  padding: 0;
  list-style: none;
  font-size: 1rem;
}
.entry-content ul li,
.entry-content ol li,
.entry-content dl li {
  line-height: 2rem;
  position: relative;
  padding: 0;
}
.entry-content ul li p,
.entry-content ol li p,
.entry-content dl li p {
  line-height: 2rem;
  margin: 0;
}
.entry-content ul li p:not(:first-child),
.entry-content ol li p:not(:first-child),
.entry-content dl li p:not(:first-child) {
  color: #57767c;
  margin: 0.5rem;
}
.entry-content ul li ul,
.entry-content ol li ul,
.entry-content dl li ul,
.entry-content ul li ol,
.entry-content ol li ol,
.entry-content dl li ol,
.entry-content ul li dl,
.entry-content ol li dl,
.entry-content dl li dl {
  margin: 1rem;
}
.entry-content ul li {
  margin: 0.4rem 0 0.4rem 0.8rem;
}
.entry-content ul li::after {
  position: absolute;
  display: block;
  content: '';
  top: 0.75rem;
  left: -1rem;
  width: 0.5rem;
  height: 0.5rem;
  background-color: #cce4e8;
  border-radius: 100%;
}
.entry-content ol {
  counter-reset: number;
}
.entry-content ol li {
  margin: 0.4rem 0 0.4rem 2rem;
}
.entry-content ol li p:first-child {
  display: inline-block;
  line-height: 1.6rem;
  height: 1.6rem;
}
.entry-content ol li:before {
  position: absolute;
  display: inline-block;
  float: left;
  margin: 0 0.2rem 0 0;
  padding: 0;
  counter-increment: number;
  content: counter(number);
  left: -2.2rem;
  top: 0.2rem;
  background-color: #98b8be;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  color: #fff;
  text-align: center;
  font-weight: bold;
  font-size: 0.8rem;
  line-height: 1.6rem;
}
kbd {
  font-family: sans-serif;
  text-align: center;
  display: inline-block;
  color: #425a5e;
  -moz-osx-font-smoothing: grayscale;
  -webkit-border-radius: 3px;
  -webkit-box-shadow: 0 0 10px #e8e8e8 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  box-shadow: 0 0 10px #e8e8e8 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  -webkit-box-shadow: 0 0 10px #e2e2e2 inset, 0 1px 0 #c3c3c3, 0 2px 0 #c9c9c9, 0 3px 3px #333;
  -webkit-font-smoothing: subpixel-antialiased;
  background: #fff;
  border-left: 1px solid #fff;
  border-radius: 3px;
  border-right: 1px solid #e6e6e6;
  border-top: 1px solid #fff;
  font-size: 0.85rem;
  line-height: 1rem;
  margin: 5px;
  padding: 6px 8px 3px;
  text-shadow: 0 1px 0 #fff;
  vertical-align: baseline;
  
}
img.responsive-img {
  height: auto;
  max-width: 100%;
}
video.responsive-video {
  height: auto;
  max-width: 100%;
}
amp-instagram,
amp-vimeo,
amp-video,
amp-youtube,
amp-twitter,
.soundcloud-wrapper,
.amp-img-wrapper,
.googleAdPost,
.ad-footer {
  margin: 3rem 0.8rem;
}
code,
figure.highlight .code,
pre {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: subpixel-antialiased;
}
code,
pre,
samp {
  font-family: Menlo, Consolas, Monaco, Consolas, monospace;
}
p code {
  font-size: 1rem;
}
code,
pre {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
  background-color: #ecf5f7;
  color: #007e96;
}
code {
  margin: 0 3px;
  padding: 0.4em;
}
samp {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
}
sub,
sup {
  font-size: 0.75rem;
  line-height: 0;
  position: relative;
}
sub {
  bottom: -0.2em;
}
sup {
  top: -0.5em;
}
pre {
  font-size: 1rem;
  letter-spacing: 0.05rem;
  margin: 0 3px;
  padding: 15px;
  -webkit-background-clip: padding;
  -moz-background-clip: padding;
  background-clip: padding-box;
  border: 0;
  line-height: 1.3rem;
  overflow-x: auto;
}
pre .addition,
pre .css .tag,
pre .keyword,
pre .method,
pre .nginx .title,
pre .request,
pre .status,
pre .winutils {
  color: #66d9ef;
}
pre .attr_selector,
pre .cdata,
pre .clojure .title,
pre .diff .change,
pre .important {
  color: #9882eb;
}
pre .preprocessor {
  color: #9882eb;
}
pre .preprocessor .keyword {
  color: #9882eb;
}
pre .shebang,
pre .special,
pre .subst {
  color: #9882eb;
}
pre .symbol {
  color: #9882eb;
}
pre .symbol .string {
  color: #9882eb;
}
pre .attribute,
pre .class .title,
pre .constant,
pre .haskell .type,
pre .lisp .body,
pre .parent,
pre .smalltalk .number,
pre .variable {
  color: #a6e22e;
}
pre .built_in,
pre .chunk,
pre .decorator,
pre .id,
pre .identifier,
pre .literal,
pre .localvars,
pre .title,
pre .vhdl,
pre .deletion {
  color: #f92672;
}
pre .command,
pre .hexcolor,
pre .number,
pre .phpdoc,
pre .regexp,
pre .string,
pre .tag .value,
pre .tex .formula {
  color: #e6db74;
}
pre .comment,
pre .diff .header,
pre .doctype,
pre .javadoc,
pre .lisp .string,
pre .pi,
pre .template_comment {
  color: #75715e;
  font-weight: normal;
}
.line {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
  line-height: 2rem;
  color: #f8f8f2;
}
.line span {
  font-size: 0.85rem;
  letter-spacing: 0.05rem;
}
.gist {
  background: #fff;
  border: 1px solid color-gutter;
  color: #f8f8f2;
  line-height: 1.6rem;
  margin-top: 15px;
  overflow: auto;
  padding: 7px 15px;
}
.gist .gist-file {
  border: none;
  font-family: inherit;
  font-size: 1rem;
  letter-spacing: 0;
  margin: 0;
}
.gist .gist-file .gist-data {
  background: 0 0;
  border-bottom: none;
}
.gist .gist-file .gist-data pre {
  font-family: Menlo, Consolas, Monaco, Consolas, monospace;
  padding: 0 ;
}
.gist .gist-file .gist-meta {
  background: 0 0;
  color: #f8f8f2;
  font-size: 1rem;
  margin-top: 5px;
  padding: 0;
}
.gist .gist-file .gist-meta a {
  color: #f8f8f2;
}
.gist .gist-file .gist-meta a:visited {
  color: #f8f8f2;
}
figure.highlight {
  font-size: 0.95rem;
  margin: 3rem 0.8rem;
  background: #263338;
  border: 1px solid color-gutter;
  line-height: 2rem;
  overflow: auto;
  position: relative;
}
figure.highlight .code {
  padding: 0 1em 1em 1em;
  color: #f8f8f2;
}
figure.highlight .gutter {
  display: none;
}
figure.highlight figcaption {
  font-size: 1rem;
  font-weight: bold;
  color: #e9e9d6;
  background-color: #1e282c;
  padding: 0.6em 1em;
}
figure.highlight figcaption a {
  position: absolute;
  right: 1rem;
}
figure.highlight figcaption:before {
  content: "\f121";
  font-family: "fontawesome";
  text-align: center;
  display: inline-block;
  margin-right: 0.6em;
}
figure.highlight pre {
  background: 0 0;
  border: none;
  margin: 0;
  padding: 0.5rem;
}
figure.highlight table {
  border-spacing: 0;
  margin: 0;
}
figure.highlight th {
  border: 0;
  font-weight: 400;
  padding: 0;
}
figure.highlight td {
  border: 0;
  font-size: 1.1rem;
  padding: 0;
}
.entry-content .toc {
  background: #fff;
  padding: 0.5rem;
  margin: 3rem 0;
  border: 1px solid #cce4e8;
  border-radius: 2px;
}
.entry-content .toc ul {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
  border-top: 1px solid #5d8b93;
  border-radius: 2px;
}
.entry-content .toc ul:first-child {
  border-top: none;
}
.entry-content .toc ul ul,
.entry-content .toc ul ol {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
}
.entry-content .toc ul li {
  padding: 0;
  margin: 0;
  border-top: 1px solid #5d8b93;
}
.entry-content .toc ul li:first-child {
  border-top: none;
}
.entry-content .toc ul li::after,
.entry-content .toc ul li::before {
  content: normal;
}
.entry-content .toc ul li a {
  font-size: 1.2rem;
  font-weight: bold;
  display: block;
  padding: 1rem;
  background-color: #3d5b61;
  color: #fff;
  -webkit-transition: 0.3s;
  -ms-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -ms-transition: 0.3s;
  transition: 0.3s;
}
.entry-content .toc ul li a:hover {
  color: #fff;
  background-color: #2c4145;
}
.entry-content .toc ul li a:before {
  content: "\f02d";
  font-family: "fontawesome";
  display: inline-block;
  padding: 0;
  margin: 0;
  margin-right: 0.8rem;
}
.entry-content .toc ul li ul,
.entry-content .toc ul li ol {
  margin-bottom: 0;
  padding: 0;
  margin: 0;
}
.entry-content .toc ul li ul li a,
.entry-content .toc ul li ol li a {
  padding: 0.5rem 0.75rem 0.5rem 2rem;
  font-size: 0.9rem;
  background-color: #416167;
}
.entry-content .toc ul li ul li a:before,
.entry-content .toc ul li ol li a:before {
  content: "\f0da";
  font-family: "fontawesome";
  display: inline-block;
  padding: 0;
  margin: 0;
  margin-right: 0.6rem;
}
.entry-content .toc ul li ul li ul li a,
.entry-content .toc ul li ol li ul li a {
  padding: 0.5rem 0.75rem 0.5rem 4rem;
}
.entry-content .toc ul li ul li ul li a:before,
.entry-content .toc ul li ol li ul li a:before {
  content: none;
}
.meta-content {
  background-color: #fff;
  margin: 1.5rem 0.8rem;
  padding: 0;
  border-top: 1px dotted #cce4e8;
  letter-spacing: 0.05rem;
}
.meta-wrapper {
  margin: 3rem 0.8rem;
  padding: 0;
  background-color: #fff;
}
h6.tag,
h6.categories {
  color: #2d3d40;
  font-size: 0.9rem;
  font-weight: bold;
}
.article-tag-list {
  padding: 0;
}
.article-tag,
.article-tag-list,
.article-categories,
.article-categories-list {
  padding: 0;
  margin: 0;
}
.article-categories {
  margin-bottom: 1.6em;
}
.article-tag-list li,
.article-categories-list li {
  list-style: none;
  display: inline-block;
  padding: 0;
  margin: 0.2rem 0.1rem;
}
.article-tag-list li a,
.article-categories-list li a {
  font-size: 0.8rem;
  font-weight: bold;
  padding: 0.4rem 0.8rem;
  margin: 0;
  background-color: #ecf5f7;
  color: #2d3d40;
  border-radius: 2px;
  display: block;
}
.article-tag-list li a:before,
.article-categories-list li a:before {
  content: "#";
}
.article-tag-list li a:hover,
.article-categories-list li a:hover {
  color: #fff;
  background-color: #2d3d40;
}
.widget {
  margin: 1.5rem 0.8rem;
  padding: 0;
}
.widget-h {
  text-align: center;
  margin: 1.6rem 0;
}
.widget-h h6 {
  color: #fff;
  background-color: #2d3d40;
  display: inline-block;
  padding: 0.4rem 1rem;
  font-size: 0.9rem;
  font-weight: bold;
}
.posts-list li {
  list-style: none;
  margin: 0.8rem 0;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.posts-list li .posts-list-link {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.posts-list li .posts-list-link a {
  color: #2d3d40;
  font-size: 1.1rem;
  font-weight: bold;
}
.posts-list li .posts-list-link a:hover {
  color: #e91e63;
}
.posts-list li .posts-list-meta {
  font-size: 0.7rem;
}
.posts-list li .flx:first-child {
  margin: 0 1rem 0 0;
}
.posts-list li amp-img {
  border-radius: 2px;
}
#footer {
  background-color: #2d3d40;
  color: #fff;
  display: block;
  font-size: 1rem;
  letter-spacing: 0.05rem;
  line-height: 2rem;
  margin: 3rem 0 0 0;
  padding: 0;
}
.site-author-info {
  margin: 0;
  padding: 3rem 1.6rem;
}
.site-author-info h6 {
  font-size: 1rem;
  color: #fff;
  font-weight: bold;
  display: inline-block;
  background-color: #222f31;
  padding: 0.4rem 0.8rem;
}
.site-author-info-wrapper {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}
.site-author-info-wrapper .flx:first-child {
  margin: 0 1rem 0 0;
}
.authorCap-wrapper {
  -webkit-flex-grow: 3;
  -webkit-box-flex: 3;
  -moz-box-flex: 3;
  -o-box-flex: 3;
  -ms-box-flex: 3;
  box-flex: 3;
  -webkit-flex-grow: 3;
  flex-grow: 3;
}
.authorCap {
  font-size: 1.4rem;
  font-weight: bold;
}
.authorReading {
  font-size: 0.7rem;
}
.site-author-desc {
  font-size: 0.8rem;
  line-height: 1.6rem;
  margin: 1.4rem 0;
}
.copyright-tool {
  margin: 0;
  padding: 1.5rem 1.6rem;
  border-top: 1px solid #384b4f;
}
.copyright-notice p {
  font-size: 0.6rem;
  letter-spacing: 0.05rem;
  line-height: 1.2rem;
  color: #8ba8ae;
}
.copyright-title {
  font-size: 1rem;
  text-align: center;
  margin: 0.8rem 0 0.4rem 0;
}
.copyright-license {
  margin: 0.4rem 0 0.8rem 0;
  font-size: 0.7rem;
  text-align: center;
}
.copyright-license a {
  color: #e6e6e6;
  font-size: 0.7rem;
}
.copyright-license a:hover {
  color: #b3b3b3;
}
.sns-link {
  margin: 0;
  text-align: center;
}
.sns-link a {
  display: inline-block;
  font-size: 1.6rem;
  text-align: center;
  width: 2rem;
  height: 2rem;
  line-height: 2rem;
  padding: 0.6rem;
  margin: 0 0.1rem;
  background-color: #222f31;
  color: #fff;
  border-radius: 4px;
}
.sns-link a:hover {
  color: #ccc;
  background-color: #030404;
}
.footer-menu {
  padding: 1.5rem 0.8rem;
  border-top: 1px solid #384b4f;
}
.footer-menu ul li {
  list-style: none;
  margin: 0;
  padding: 0;
}
.footer-menu ul li a {
  display: block;
  padding: 0.6rem;
  margin: 0.2rem 1.6rem;
  font-size: 1rem;
  color: #fff;
  background-color: #222f31;
  border-radius: 4px;
  text-align: center;
  font-weight: bold;
}
.footer-menu ul li a:hover {
  color: #ccc;
  background-color: #030404;
}
.social-share {
  margin: 1.5rem 0.8rem;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.social-share amp-social-share,
.social-share .sbtn {
  margin: 5px;
}
.sbtn {
  padding: 0;
  width: 4rem;
  height: 3rem;
  line-height: 3rem;
  color: #fff;
  font-size: 1.2rem;
  text-align: center;
  border-radius: 4px;
}
.sbtn:hover {
  color: #fff;
}
.tw {
  background-color: #1cafe8;
}
.tw:hover {
  background-color: #0f6b8f;
}
.fb {
  background-color: #4f677f;
}
.fb:hover {
  background-color: #283440;
}
.ht {
  background-color: #35acda;
}
.ht:hover {
  background-color: #1a6e8f;
}
.gp {
  background-color: #d56153;
}
.gp:hover {
  background-color: #9c3326;
}
.tb {
  background-color: #465f79;
}
.tb:hover {
  background-color: #212c38;
}
.icon-hatena:before {
  content: "B";
  font-weight: bold;
  font-size: 1.2rem;
}
#totop {
  position: fixed;
  bottom: 2rem;
  right: 1.6rem;
  font-size: 1.2rem;
  z-index: 995;
}
#totop a {
  background: rgba(152,184,190,0.6);
  text-decoration: none;
  color: #fff;
  padding: 0.8rem;
  border-radius: 50%;
}
#totop a:before {
  content: "\f062";
  font-family: "fontawesome";
  font-size: 1.2rem;
}
#totop a:hover {
  text-decoration: none;
  background: #5d8b93;
  color: #fff;
  line-height: 2.3em;
}
@media (min-width: 800px) {
  .title-cover,
  .entry-content,
  .categories,
  .meta-content,
  .site-author-info {
    width: 780px;
    margin: 0 auto;
  }
  .nav-container {
    width: 800px;
    margin: 0 auto;
  }
}
@media (min-width: 0px) and (max-width: 480px) {
  .site-author-info-wrapper {
    display: block;
  }
  .gravatar-area {
    text-align: center;
  }
  .gravatar-area amp-img {
    display: inline-block;
  }
  .entry-content td,
  .entry-content th {
    line-height: 1.8em;
    padding: 0.6rem 0.6rem;
    font-size: 0.5rem;
  }
  .entry-content td em,
  .entry-content th em,
  .entry-content td strong,
  .entry-content th strong,
  .entry-content td a,
  .entry-content th a {
    font-size: 0.5rem;
  }
}

	</style>
	
  </head>
  <body>
  	
  	
  	<!-- google analytics -->
  	
  	
  	
  	<!-- menu -->
  	<header>
  		<div class="nav-container">
	  		<div class="left-nav">
	  			<div class="header-title">
	  				<a href="/">ALaDing</a>
	  			</div>
	  		</div>
	  		
	  	</div>
    </header>
  	
  	
  	<!-- sidebar -->
  	
  	
  	<!-- container -->
  	<div id="container">
	  	<div id="main">
		    <article id="post-编程/other/GTK# tutorial" class="post">
		    
		   		<!-- categories and bread crumb -->
		    	
				<div class="categories-header">
					<div class="categories">
						<div class="breadcrumb inline-icon">
							<ol itemscope itemtype="http://schema.org/BreadcrumbList">
							  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
							    <a itemprop="item" href="/">
							    	<span class="sns-icon home-icon"></span>
							        <span itemprop="name"><span class="fa fa-fw fa-home"></span></span>
							    </a>
							    <meta itemprop="position" content="1" />
							  </li>

								
						    		<li itemprop="itemListElement" itemscope
									      itemtype="http://schema.org/ListItem">
									    <a itemprop="item" href="/categories/笔记/">
									      
									      	<span class="sns-icon folder-icon"></span>
									      
									      <span itemprop="name">笔记</span>
									    </a>
									    <meta itemprop="position" content="2" />
									</li>
								
							</ol>
						</div>
					</div>
				</div>
				
		    
		    	<!-- entry title -->
				<div class="title-cover">
					<div class="entry-header">
						
						
						
			          	<div class="header-thumb flx">
			          		<div class="thumbImg-w circle">
			          			<amp-img class="thumbImg" layout="fixed" width="128" height="100" src="/amp-dist/sample/sample-substituteTitleImage.png">
			          			</amp-img>
			          		</div>
			          	</div>
			            
			            
			            <div class="header-cap flx">
							
							  <h1 class="article-title entry-title" itemprop="name">
							    <a href="https://purethought.cn/48578.html" target="_blank" itemprop="url">GTK# tutorial</a>
							  </h1>
							
						</div>
					</div>
					
					<!-- datePublished -->
					<div class="entry-meta-header">
						<span class="meta-elements date">
							<span class="fa fa-fw fa-clock-o"></span>
							<time datetime="2020-02-29" itemprop="datePublished">2020.02.29</time>
						</span>
					</div>
				</div>
				
				
				
				<!-- entry content -->
			    <div class="entry-content ecp">
			    	<!-- social share button -->
			    	
			    	
			    	
                    <!-- google Adsense Matched content -->
                    
                    
			    	<!-- content -->
			  		<p>This is GTK# tutorial for the C# programming language. This tutorial is suitable for beginners and more advanced programmers.</p>
<h1 id="GTK"><a href="#GTK" class="headerlink" title="GTK#"></a>GTK#</h1><p>GTK# is a wrapper over the GTK+ for the C# programming language. The library facilitates building graphical GNOME applications using Mono or any other compliant CLR. Applications built using Gtk# will run on many platforms including Linux, Microsoft Windows and Mac OS X. GTK# is part of the Mono initiative.</p>
<p>This is an introductory GTK# programming tutorial. The tutorial is targeted for the C# programming language. It has been created and tested on Linux. The GTK# programming tutorial is suited for novice and intermediate programmers. Here are the <a href="httpS://zetcode.com/img/gui/sharpgtk/images.tgz" target="_blank" rel="noopener">images</a> used in this tutorial.</p>
<h2 id="GTK-1"><a href="#GTK-1" class="headerlink" title="GTK+"></a>GTK+</h2><p>GTK+ is a library for creating graphical user interfaces. The library is created in C programming language. The GTK+ library is also called the GIMP Toolkit. Originally, the library was created while developing the GIMP image manipulation program. Since then, the GTK+ became one of the most popular toolkits under Linux and BSD Unix. Today, most of the GUI software in the open source world is created in Qt or in GTK+. The GTK+ is an object oriented application programming interface. The object oriented system is created with the Glib object system, which is a base for the GTK+ library. The GObject also enables to create language bindings for various other programming languages. Language bindings exist for C++, Python, Perl, Java, C# and other programming languages.</p>
<p>The GTK+ itself depends on the following libraries.</p>
<ul>
<li>Glib</li>
<li>Pango</li>
<li>ATK</li>
<li>GDK</li>
<li>GdkPixbuf</li>
<li>Cairo</li>
</ul>
<p>The Glib is a general purpose utility library. It provides various data types, string utilities, enables error reporting, message logging, working with threads and other useful programming features. The Pango is a library which enables internationalisation. The ATK is the accessibility toolkit. This toolkit provides tools which help physically challenged people work with computers. The GDK is a wrapper around the low-level drawing and windowing functions provided by the underlying graphics system. On Linux, GDK lies between the X Server and the GTK+ library. Recently, much of its functionality have been delegated to the Cairo library. The GdkPixbuf library is a toolkit for image loading and pixel buffer manipulation. Cairo is a library for creating 2D vector graphics. It has been included in GTK+ since version 2.8.</p>
<p>Gnome and XFce desktop environments have been created using the GTK+ library. SWT and wxWidgets are well known programming frameworks that use GTK+. Prominent software applications that use GTK+ include Firefox or Inkscape.</p>
<h2 id="GTK-2"><a href="#GTK-2" class="headerlink" title="GTK#"></a>GTK#</h2><p>GTK# is a wrapper over the GTK+ for the C# programming language. The library facilitates building graphical GNOME applications using Mono or any other compliant CLR. Gtk# is an event-driven system like any other modern windowing library where every widget in an application has handler methods that get called when particular events happen. Applications built using Gtk# will run on many platforms including Linux, Microsoft, Windows and Mac OS X. GTK# is part of the Mono initiative. There are basically two widget toolkits in Mono: Winforms and the GTK#. The GTK# is considered to be native for the Linux/Unix operating system.</p>
<h2 id="Compiling-GTK-applications"><a href="#Compiling-GTK-applications" class="headerlink" title="Compiling GTK# applications"></a>Compiling GTK# applications</h2><p>We use the gmcs compiler to compile our GTK# applications.</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ gmcs -pkg:gtk-sharp-2.0 -r:/usr/lib/mono/2.0/Mono.Cairo.dll application.cs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The above line compiles a GTK# application that also uses the Cairo library.</p>
<h1 id="First-steps-in-GTK"><a href="#First-steps-in-GTK" class="headerlink" title="First steps in GTK#"></a>First steps in GTK#</h1><p>In this part of the GTK# programming tutorial, we will do our first steps in programming. We will create simple programs.</p>
<h2 id="Simple-example"><a href="#Simple-example" class="headerlink" title="Simple example"></a>Simple example</h2><p>The first code example is a simple one that shows a centered window.</p>
<p><strong>center.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Center&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229144254.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>The code example shows a small window in the center of the screen.</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ gmcs -pkg:gtk-sharp-2.0 center.cs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here is how we compile the code example.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Now we can use the objects from the Gtk namespace directly. We can write Window instead of Gtk.Window.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>
Our application <span class="token keyword">is</span> based on the SharpApp <span class="token keyword">class</span><span class="token punctuation">.</span> This <span class="token keyword">class</span> <span class="token class-name">inherits</span> <span class="token keyword">from</span> the Window <span class="token keyword">class</span><span class="token punctuation">.</span>

<span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Center&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This is the constructor. It builds our application. It also calls its parent constructor through the base() keyword.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This line sets a default size for our window.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This line centers the window on the screen.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We plug a delegate to the DeleteEvent. This event is triggered, when we click on the close button in the titlebar. Or press Alt+F4. Our delegate quits the application for good.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Now we show the window. The window is not visible, until we call the Show() method.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The Main() method is the entry point to the application. It initiates and runs the program.</p>
<h2 id="Icon"><a href="#Icon" class="headerlink" title="Icon"></a>Icon</h2><p>In the next example, we show the application icon. Most window managers display the icon in the left corner of the titlebar and also on the taskbar.</p>
<p><strong>icon.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Icon&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetIconFromFile</span><span class="token punctuation">(</span><span class="token string">&quot;web.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeleteEventHandler</span><span class="token punctuation">(</span>OnDelete<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnDelete</span><span class="token punctuation">(</span><span class="token keyword">object</span> obj<span class="token punctuation">,</span> DeleteEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229145148.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="360" layout="responsive"></amp-img></div><br>The code example shows the application icon.
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">SetIconFromFile</span><span class="token punctuation">(</span><span class="token string">&quot;web.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The SetIconFromFile() method sets an icon for the window. The image is loaded from disk in the current working directory.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeleteEventHandler</span><span class="token punctuation">(</span>OnDelete<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This is another way, how we can plug an event handler to an event. It is just a bit more verbose.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnDelete</span><span class="token punctuation">(</span><span class="token keyword">object</span> obj<span class="token punctuation">,</span> DeleteEventArgs args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>This is an event handler for the delete event.</p>
<h2 id="Buttons"><a href="#Buttons" class="headerlink" title="Buttons"></a>Buttons</h2><p>In the next example, we will further enhance our programming skills with the GTK# library.</p>
<p><strong>buttons.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Buttons&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Button btn1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn1<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
        Button btn2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button btn3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Close<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button btn4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn4<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>btn1<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>btn2<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>btn3<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>btn4<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229150740.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>We show four different buttons on the window. We will see a difference between container widgets and child widgets and will change some properties of child widgets.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Fixed widget is a non visible container widget. Its purpose is to contain other child widgets.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Button btn1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>A Button is a child widget. Child widgets are placed inside containers.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">btn1<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We make this button insensitive. This means, we cannot click on it. Graphically the widget is grayed out.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Button btn3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Close<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The third button shows an image inside its area. The GTK# library has a built-in stock of images that we can use.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">btn4<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here we change the size of the button.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>btn1<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>btn2<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Here we place button widgets inside fixed container widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We set the Fixed container to be the main container for our Window widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We can either call ShowAll() method, or we call Show() method on each of the widgets. Including containers.</p>
<p>In this chapter, we created first programs in GTK# programming library.</p>
<h1 id="Layout-management-in-GTK"><a href="#Layout-management-in-GTK" class="headerlink" title="Layout management in GTK#"></a>Layout management in GTK#</h1><p>In this chapter we will show how to lay out our widgets in windows or dialogs.</p>
<p>When we design the GUI of our application, we decide what widgets we will use and how we will organise those widgets in the application. To organise our widgets, we use specialised non visible widgets called layout containers. In this chapter, we will mention Alignment, Fixed, VBox and Table.</p>
<h2 id="Fixed"><a href="#Fixed" class="headerlink" title="Fixed"></a>Fixed</h2><p>The Fixed container places child widgets at fixed positions and with fixed sizes. This container performs no automatic layout management. In most applications, we do not use this container. There are some specialised areas, where we use it. For example games, specialised applications that work with diagrams, resizable components that can be moved (like a chart in a spreadsheet application), small educational examples.</p>
<p><strong>fixed.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">private</span> Gdk<span class="token punctuation">.</span>Pixbuf rotunda<span class="token punctuation">;</span>
    <span class="token keyword">private</span> Gdk<span class="token punctuation">.</span>Pixbuf bardejov<span class="token punctuation">;</span>
    <span class="token keyword">private</span> Gdk<span class="token punctuation">.</span>Pixbuf mincol<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Fixed&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            bardejov <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;bardejov.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            rotunda <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;rotunda.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mincol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;mincol.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Images not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Environment<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        Image image1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>bardejov<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Image image2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>rotunda<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Image image3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>mincol<span class="token punctuation">)</span><span class="token punctuation">;</span>


        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>image1<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>image2<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>image3<span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229155905.png?x-oss-process=image/resize,m_lfit,h_450" width="447" height="450" layout="responsive"></amp-img></div>
<p>In our example, we show three small images on the window. We explicitly specify the x, y coordinates, where we place these images.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>For better visual experience, we change the background colour to dark gray.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">bardejov <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;bardejov.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We load the image from the disk to the Gdk.Pixbuf object.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Image image1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>bardejov<span class="token punctuation">)</span><span class="token punctuation">;</span>
Image image2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>rotunda<span class="token punctuation">)</span><span class="token punctuation">;</span>
Image image3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>mincol<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>The Image is a widget that is used to display images. It takes Gdk.Pixbuf object in the constructor.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We create the Fixed container.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>image1<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We place the first image at x=20, y=20 coordinates.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Finally, we add the Fixed container to the Window.</p>
<h2 id="Alignment"><a href="#Alignment" class="headerlink" title="Alignment"></a>Alignment</h2><p>The Alignment container controls the alignment and the size of its child widget.</p>
<p><strong>alignment.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Alignment&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        HBox hbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HBox</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Alignment valign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>valign<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Button ok <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ok<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button close <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        hbox<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>
        hbox<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>close<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Alignment halign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        halign<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>hbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>halign<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229160217.png?x-oss-process=image/resize,m_lfit,h_450" width="520" height="344" layout="responsive"></amp-img></div>
<p>In the code example, we place two buttons into the right bottom corner of the window. To accomplish this, we use one horizontal box and one vertical box and two alignment containers.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Alignment valign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This will put the child widget to the bottom.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>valign<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here we place the Alignment widget into the vertical box.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">HBox hbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HBox</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Button ok <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ok<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Button close <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hbox<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>
hbox<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>close<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We create a horizontal box and put two buttons inside it.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Alignment halign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
halign<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>hbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>halign<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>This will create an alignment container that will place its child widget to the right. We add the horizontal box into the alignment container and pack the alignment container into the vertical box. We must keep in mind that the alignment container takes only one child widget. That is why we must use boxes.</p>
<h2 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h2><p>The Table widget arranges widgets in rows and columns.</p>
<p><strong>calculator.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Calculator&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        MenuBar mb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Menu filemenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;File&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> filemenu<span class="token punctuation">;</span>
        mb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>mb<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Table table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Table</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Cls&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Bck&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackEnd</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229161016.png?x-oss-process=image/resize,m_lfit,h_450" width="446" height="450" layout="responsive"></amp-img></div><br>We use the Table widget to create a calculator skeleton.
<pre class="line-numbers language-csharp"><code class="language-csharp">Table table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Table</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We create a table widget with 5 rows and 4 columns. The third parameter is the homogeneous parameter. If set to true, all the widgets in the table are of same size. The size of all widgets is equal to the largest widget in the table container.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Cls&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We attach a button to the table container. To the top-left cell of the table. The first two parameters are the left and right sides of the cell, the last two parameters are the top and left sides of the cell.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">vbox<span class="token punctuation">.</span><span class="token function">PackEnd</span><span class="token punctuation">(</span>table<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We pack the table widget into the vertical box.</p>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>Next we will create a more advanced example. We show a window, that can be found in the JDeveloper IDE.</p>
<p><strong>windows.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Windows&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Table table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Table</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span>ColumnSpacing <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

        Label title <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string">&quot;Windows&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Alignment halign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        halign<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>

        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>halign<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> 
            AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TextView wins <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wins<span class="token punctuation">.</span><span class="token function">ModifyFg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wins<span class="token punctuation">.</span>CursorVisible <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>wins<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill <span class="token operator">|</span> AttachOptions<span class="token punctuation">.</span>Expand<span class="token punctuation">,</span>
            AttachOptions<span class="token punctuation">.</span>Fill <span class="token operator">|</span> AttachOptions<span class="token punctuation">.</span>Expand<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Button activate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Activate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activate<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>activate<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> 
            AttachOptions<span class="token punctuation">.</span>Shrink<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Alignment valign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button close <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        close<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        valign<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>close<span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">SetRowSpacing</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>valign<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span>
            AttachOptions<span class="token punctuation">.</span>Fill <span class="token operator">|</span> AttachOptions<span class="token punctuation">.</span>Expand<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Alignment halign2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button help <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Help&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        help<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        halign2<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>help<span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">SetRowSpacing</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>halign2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> 
            AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Button ok <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ok<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>ok<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> 
            AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229161653.png?x-oss-process=image/resize,m_lfit,h_450" width="496" height="450" layout="responsive"></amp-img></div>
<p>The code example shows, how we can create a similar window in GTK#.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Table table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Table</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span>ColumnSpacing <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>The example is based on the Table container. There will be 3 px space between columns.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Label title <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string">&quot;Windows&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Alignment halign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
halign<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>

table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>halign<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> 
    AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This code creates a label that is aligned to the left. The label is placed in the first row of the Table container.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">TextView wins <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
wins<span class="token punctuation">.</span><span class="token function">ModifyFg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
wins<span class="token punctuation">.</span>CursorVisible <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>wins<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill <span class="token operator">|</span> AttachOptions<span class="token punctuation">.</span>Expand<span class="token punctuation">,</span>
    AttachOptions<span class="token punctuation">.</span>Fill <span class="token operator">|</span> AttachOptions<span class="token punctuation">.</span>Expand<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The text view widget spans two rows and two columns. We make the widget non editable and hide the cursor.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Alignment valign <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Alignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Button close <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
close<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
valign<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>close<span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span><span class="token function">SetRowSpacing</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>valign<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> AttachOptions<span class="token punctuation">.</span>Fill<span class="token punctuation">,</span>
    AttachOptions<span class="token punctuation">.</span>Fill <span class="token operator">|</span> AttachOptions<span class="token punctuation">.</span>Expand<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We put the close button next to the text view widget into the fourth column. (we count from zero) We add the button into the alignment widget, so that we can align it to the top.</p>
<h1 id="Menus-in-GTK"><a href="#Menus-in-GTK" class="headerlink" title="Menus in GTK#"></a>Menus in GTK#</h1><p>In this part of the GTK# programming tutorial, we will work with menus.</p>
<p>A menubar is one of the most common parts of the GUI application. It is a group of commands located in various menus. While in console applications we have to remember various arcane commands, here we have most of the commands grouped into logical parts. These are accepted standards that further reduce the amount of time spending to learn a new application.</p>
<h2 id="Simple-menu"><a href="#Simple-menu" class="headerlink" title="Simple menu"></a>Simple menu</h2><p>In our first example, we will create a menubar with one file menu. The menu will have only one menu item. By selecting the item the application quits.</p>
<p><strong>simplemenu.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Simple menu&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        MenuBar mb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Menu filemenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;File&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> filemenu<span class="token punctuation">;</span>

        MenuItem exit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        exit<span class="token punctuation">.</span>Activated <span class="token operator">+</span><span class="token operator">=</span> OnActivated<span class="token punctuation">;</span>
        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>exit<span class="token punctuation">)</span><span class="token punctuation">;</span>

        mb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>mb<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnActivated</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229162114.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>This is a small example with minimal menubar functionality.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">MenuBar mb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>MenuBar widget is created.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Menu filemenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MenuItem file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;File&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> filemenu<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Toplevel MenuItem is created.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">MenuItem exit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
exit<span class="token punctuation">.</span>Activated <span class="token operator">+</span><span class="token operator">=</span> OnActivated<span class="token punctuation">;</span>
filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>exit<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Exit MenuItem is created and appended to the File MenuItem.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">mb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Toplevel MenuItem is appended to the MenuBar widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>mb<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Unlike in other toolkits, we have to take care of the layout management ourselves. We put the menubar into the vertical box.</p>
<h2 id="Image-menu"><a href="#Image-menu" class="headerlink" title="Image menu"></a>Image menu</h2><p>In the next example, we will further explore the menus. We will add images and accelerators to our menu items. Accelerators are keyboard shortcuts for activating a menu item.</p>
<p>imagemenu.cs</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Image menu&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        MenuBar mb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Menu filemenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;File&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> filemenu<span class="token punctuation">;</span>

        AccelGroup agr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AccelGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">AddAccelGroup</span><span class="token punctuation">(</span>agr<span class="token punctuation">)</span><span class="token punctuation">;</span>

        ImageMenuItem newi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageMenuItem</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>New<span class="token punctuation">,</span> agr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        newi<span class="token punctuation">.</span><span class="token function">AddAccelerator</span><span class="token punctuation">(</span><span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span> agr<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">AccelKey</span><span class="token punctuation">(</span>
            Gdk<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>n<span class="token punctuation">,</span> Gdk<span class="token punctuation">.</span>ModifierType<span class="token punctuation">.</span>ControlMask<span class="token punctuation">,</span> AccelFlags<span class="token punctuation">.</span>Visible<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>newi<span class="token punctuation">)</span><span class="token punctuation">;</span>

        ImageMenuItem open <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageMenuItem</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Open<span class="token punctuation">,</span> agr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        open<span class="token punctuation">.</span><span class="token function">AddAccelerator</span><span class="token punctuation">(</span><span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span> agr<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">AccelKey</span><span class="token punctuation">(</span>
            Gdk<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>n<span class="token punctuation">,</span> Gdk<span class="token punctuation">.</span>ModifierType<span class="token punctuation">.</span>ControlMask<span class="token punctuation">,</span> AccelFlags<span class="token punctuation">.</span>Visible<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>open<span class="token punctuation">)</span><span class="token punctuation">;</span>

        SeparatorMenuItem sep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SeparatorMenuItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>sep<span class="token punctuation">)</span><span class="token punctuation">;</span>

        ImageMenuItem exit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageMenuItem</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Quit<span class="token punctuation">,</span> agr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        exit<span class="token punctuation">.</span><span class="token function">AddAccelerator</span><span class="token punctuation">(</span><span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span> agr<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">AccelKey</span><span class="token punctuation">(</span>
            Gdk<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>q<span class="token punctuation">,</span> Gdk<span class="token punctuation">.</span>ModifierType<span class="token punctuation">.</span>ControlMask<span class="token punctuation">,</span> AccelFlags<span class="token punctuation">.</span>Visible<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        exit<span class="token punctuation">.</span>Activated <span class="token operator">+</span><span class="token operator">=</span> OnActivated<span class="token punctuation">;</span>
        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>exit<span class="token punctuation">)</span><span class="token punctuation">;</span>

        mb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>mb<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnActivated</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229163316.png?x-oss-process=image/resize,m_lfit,h_450" width="502" height="440" layout="responsive"></amp-img></div>
<div class="uk-alert uk-alert-danger"><i class="fa fa-warning"></i> &#xA0;&#xA0;&#x8FD9;&#x4E00;&#x6B65;&#x5E76;&#x6CA1;&#x6709;&#x51FA;&#x73B0;&#x83DC;&#x5355;&#x56FE;&#x6807;&#xFF01;</div>
<p>Our example shows a toplevel menu item with three sublevel menu items. Each of the menu items has a image and an accelerator. The accelerator for the quit menu item is active.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">AccelGroup agr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AccelGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">AddAccelGroup</span><span class="token punctuation">(</span>agr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>To work with accelerators, we create a global AccelGroup object. It will be used later.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ImageMenuItem newi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageMenuItem</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>New<span class="token punctuation">,</span> agr<span class="token punctuation">)</span><span class="token punctuation">;</span>
ImageMenuItem <span class="token keyword">is</span> created<span class="token punctuation">.</span> The image comes <span class="token keyword">from</span> the stock of images<span class="token punctuation">.</span>

exit<span class="token punctuation">.</span><span class="token function">AddAccelerator</span><span class="token punctuation">(</span><span class="token string">&quot;activate&quot;</span><span class="token punctuation">,</span> agr<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">AccelKey</span><span class="token punctuation">(</span>
    Gdk<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>q<span class="token punctuation">,</span> Gdk<span class="token punctuation">.</span>ModifierType<span class="token punctuation">.</span>ControlMask<span class="token punctuation">,</span> AccelFlags<span class="token punctuation">.</span>Visible<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This creates an Ctrl+Q accelerator for the exit menu item.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">SeparatorMenuItem sep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SeparatorMenuItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>sep<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>These lines create a separator. It is used to group menu items into logical groups.</p>
<h2 id="CheckMenuItem"><a href="#CheckMenuItem" class="headerlink" title="CheckMenuItem"></a>CheckMenuItem</h2><p>A CheckMenuItem is a menu item with a check box. It can be used to work with boolean properties.</p>
<p><strong>checkmenuitem.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">private</span> Statusbar statusbar<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Check menu item&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        MenuBar mb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Menu filemenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;File&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> filemenu<span class="token punctuation">;</span>

        Menu viewmenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;View&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        view<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> viewmenu<span class="token punctuation">;</span>

        CheckMenuItem stat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheckMenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;View Statusbar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stat<span class="token punctuation">.</span><span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stat<span class="token punctuation">.</span>Toggled <span class="token operator">+</span><span class="token operator">=</span> OnStatusView<span class="token punctuation">;</span>
        viewmenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>stat<span class="token punctuation">)</span><span class="token punctuation">;</span>

        MenuItem exit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        exit<span class="token punctuation">.</span>Activated <span class="token operator">+</span><span class="token operator">=</span> OnActivated<span class="token punctuation">;</span>
        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>exit<span class="token punctuation">)</span><span class="token punctuation">;</span>

        mb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>

        statusbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Statusbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        statusbar<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;Ready&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>mb<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>statusbar<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnStatusView</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        CheckMenuItem item <span class="token operator">=</span> <span class="token punctuation">(</span>CheckMenuItem<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            statusbar<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            statusbar<span class="token punctuation">.</span><span class="token function">Hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnActivated</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229163659.png?x-oss-process=image/resize,m_lfit,h_450" width="484" height="430" layout="responsive"></amp-img></div>
<p>In our code example we show a check menu item. If the check box is activated, the statusbar widget is shown. If not, the statusbar is hidden.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">CheckMenuItem stat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheckMenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;View Statusbar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
CheckMenuItem widget <span class="token keyword">is</span> created<span class="token punctuation">.</span>

stat<span class="token punctuation">.</span><span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>The Toggle() method checks/unchecks the check menu item.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    statusbar<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    statusbar<span class="token punctuation">.</span><span class="token function">Hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Depending on the state of the CheckMenuItem, we show or hide the statusbar widget.</p>
<h2 id="Submenu"><a href="#Submenu" class="headerlink" title="Submenu"></a>Submenu</h2><p>Our final example demonstrates how to create a submenu in GTK#.</p>
<p><strong>submenu.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Submenu&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        MenuBar mb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Menu filemenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;File&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        file<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> filemenu<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// submenu creation</span>
        Menu imenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        MenuItem import <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        import<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> imenu<span class="token punctuation">;</span>

        MenuItem inews <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import news feed...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem ibookmarks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import bookmarks...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MenuItem imail <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import mail...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        imenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>inews<span class="token punctuation">)</span><span class="token punctuation">;</span>
        imenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>ibookmarks<span class="token punctuation">)</span><span class="token punctuation">;</span>
        imenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>imail<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// exit menu item</span>
        MenuItem exit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Exit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        exit<span class="token punctuation">.</span>Activated <span class="token operator">+</span><span class="token operator">=</span> OnActivated<span class="token punctuation">;</span>

        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>import<span class="token punctuation">)</span><span class="token punctuation">;</span>
        filemenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>exit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>mb<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnActivated</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229163900.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="442" layout="responsive"></amp-img></div>
<p>Submenu creation.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Menu imenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>A submenu is a Menu.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">MenuItem import <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
import<span class="token punctuation">.</span>Submenu <span class="token operator">=</span> imenu<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>It is a submenu of a menu item, which belogs to toplevel file menu.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">MenuItem inews <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import news feed...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MenuItem ibookmarks <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import bookmarks...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MenuItem imail <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token string">&quot;Import mail...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

imenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>inews<span class="token punctuation">)</span><span class="token punctuation">;</span>
imenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>ibookmarks<span class="token punctuation">)</span><span class="token punctuation">;</span>
imenu<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>imail<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Submenu has its own menu items.</p>
<p>In this chapter of the GTK# programming library, we showed, how to work with menus.</p>
<h1 id="Toolbars-in-GTK"><a href="#Toolbars-in-GTK" class="headerlink" title="Toolbars in GTK#"></a>Toolbars in GTK#</h1><p>In this part of the GTK# programming tutorial, we will work with toolbars.</p>
<p>Menus group commands that we can use in application. Toolbars provide a quick access to the most frequently used commands. A toolbar is a horizontal or vertical panel with buttons. These buttons have images or images and text. By clicking on the toolbar button we perform an action.</p>
<h2 id="Simple-toolbar"><a href="#Simple-toolbar" class="headerlink" title="Simple toolbar"></a>Simple toolbar</h2><p>Next we create a simple toolbar.</p>
<p><strong>toolbar.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Toolbar&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Toolbar toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span>ToolbarStyle <span class="token operator">=</span> ToolbarStyle<span class="token punctuation">.</span>Icons<span class="token punctuation">;</span>

        ToolButton newtb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>New<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ToolButton opentb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Open<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ToolButton savetb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Save<span class="token punctuation">)</span><span class="token punctuation">;</span>
        SeparatorToolItem sep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SeparatorToolItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ToolButton quittb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Quit<span class="token punctuation">)</span><span class="token punctuation">;</span>

        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>newtb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>opentb<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>savetb<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>sep<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>quittb<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        quittb<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClicked<span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>toolbar<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229164226.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>The example shows a toolbar and four tool buttons.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Toolbar toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>A Toolbar widget is created.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">toolbar<span class="token punctuation">.</span>ToolbarStyle <span class="token operator">=</span> ToolbarStyle<span class="token punctuation">.</span>Icons<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>On toolbar, we show only icons. No text.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ToolButton newtb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>New<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>A ToolButton with an image from stock is created.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">SeparatorToolItem sep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SeparatorToolItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This is a separator. It can be used to group toolbar buttons into logical groups.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>newtb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>opentb<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Toolbar buttons are inserted into the toolbar widget.</p>
<h2 id="Toolbars"><a href="#Toolbars" class="headerlink" title="Toolbars"></a>Toolbars</h2><p>In the second example, we show two toolbars. Many applications have more than one toolbar. We show, how we can do it in GTK#.</p>
<p><strong>toolbars.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Toolbars&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Toolbar upper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        upper<span class="token punctuation">.</span>ToolbarStyle <span class="token operator">=</span> ToolbarStyle<span class="token punctuation">.</span>Icons<span class="token punctuation">;</span>

        ToolButton newtb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>New<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ToolButton opentb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Open<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ToolButton savetb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Save<span class="token punctuation">)</span><span class="token punctuation">;</span>

        upper<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>newtb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        upper<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>opentb<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        upper<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>savetb<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Toolbar lower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lower<span class="token punctuation">.</span>ToolbarStyle <span class="token operator">=</span> ToolbarStyle<span class="token punctuation">.</span>Icons<span class="token punctuation">;</span>

        ToolButton quittb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Quit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        quittb<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClicked<span class="token punctuation">;</span>
        lower<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>quittb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>upper<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>lower<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229164448.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>Our applications shows two toolbars.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Toolbar upper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Toolbar lower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>We create two Toolbar widgets.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">upper<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>newtb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
lower<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>quittb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Each of them has its own tool buttons.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>upper<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>lower<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Toolbars are packed into the vertical box, one after the other.</p>
<h2 id="Undo-red"><a href="#Undo-red" class="headerlink" title="Undo red"></a>Undo red</h2><p>The following example demonstrates, how we can inactivate toolbar buttons on the toolbar. It is a common practise in GUI programming. For example the save button. If we save all changes of our document to the disk, the save button is inactivated in most text editors. This way the application indicates to the user, that all changes are already saved.</p>
<p><strong>ndoredo.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> ToolButton undo<span class="token punctuation">;</span>
    <span class="token keyword">private</span> ToolButton redo<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Undo redo&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Toolbar toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span>ToolbarStyle <span class="token operator">=</span> ToolbarStyle<span class="token punctuation">.</span>Icons<span class="token punctuation">;</span>

        undo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Undo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        redo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Redo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        SeparatorToolItem sep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SeparatorToolItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ToolButton quit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Quit<span class="token punctuation">)</span><span class="token punctuation">;</span>

        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>undo<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>redo<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>sep<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>quit<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        undo<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnUndo<span class="token punctuation">;</span>
        redo<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnRedo<span class="token punctuation">;</span>
        quit<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClicked<span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>toolbar<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnUndo</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        count <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            undo<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
            redo<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnRedo</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        count <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            redo<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
            undo<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229164910.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>Our example creates undo and redo buttons from the GTK# stock resources. After several clicks each of the buttons is inactivated. The buttons are grayed out.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The count variable decides, which button is activated and deactivated.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">undo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Undo<span class="token punctuation">)</span><span class="token punctuation">;</span>
redo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Redo<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We have two tool buttons. Undo and redo tool buttons. Images come from the stock resources.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">undo<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnUndo<span class="token punctuation">;</span>
redo<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnRedo<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We plug a method for the Clicked event for both tool buttons.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    undo<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
    redo<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>To activate a widget, we set its Sensitive property to true. To inactivate it, we set it to false.</p>
<p>In this chapter of the GTK# programming library, we mentioned toolbars.</p>
<h1 id="Events-in-GTK"><a href="#Events-in-GTK" class="headerlink" title="Events in GTK#"></a>Events in GTK#</h1><p>In this part of the GTK# programming tutorial, we will talk about events.</p>
<p>GTK# library is an event driven system. All GUI applications react to events. The applications start a main loop, which continuously checks for newly generated events. If there is no event, the application waits and does nothing. Events are generated mainly by the user of an application. But they can be generated by other means as well, e.g. Internet connection, window manager or a timer.</p>
<h2 id="Simple-event-example"><a href="#Simple-event-example" class="headerlink" title="Simple event example"></a>Simple event example</h2><p>The next example shows, how we react to two basic events.</p>
<p><strong>quitbutton.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span> <span class="token punctuation">(</span><span class="token string">&quot;Button&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Button quit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Quit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        quit<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClick<span class="token punctuation">;</span>
        quit<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>quit<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnClick</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229165308.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div><br>In our code example, we react to two events: Delete event and Clicked event.
<p>The delete event is triggered, when we close the window. By default, the application does not quit, when we click on the close button in the titlebar.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>When we use the delegate keyword, we can write in line code that will react to this particular event.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">quit<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClick<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here we specify that we react to Clicked event, with the OnClick() method.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnClick</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Here is the OnClick() method. It takes two parameters. The first parameter is the object, which triggered this event. In our case it is the quit button. The second parameter gives us various additional information about the event. The event arguments depend always on the type of the event. The signature of each of the method can be found in the reference manual of the GTK# library. <a href="http://www.go-mono.com/docs/" target="_blank" rel="noopener">http://www.go-mono.com/docs/</a></p>
<h2 id="Moving-window"><a href="#Moving-window" class="headerlink" title="Moving window"></a>Moving window</h2><p>The next example shows, how we react to move events of a window. We show the current position of the upper left corner of our window in the titlebar.</p>
<p><strong>move.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">OnConfigureEvent</span><span class="token punctuation">(</span>Gdk<span class="token punctuation">.</span>EventConfigure args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnConfigureEvent</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Title <span class="token operator">=</span> args<span class="token punctuation">.</span>X <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> args<span class="token punctuation">.</span>Y<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229165537.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="344" layout="responsive"></amp-img></div>
<p>In the previous example, we have plugged a delegate or a method to an event. In GTK#, many of the events have a handler method already. In this case, we can override the method. This is the case, of our code example.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">OnConfigureEvent</span><span class="token punctuation">(</span>Gdk<span class="token punctuation">.</span>EventConfigure args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnConfigureEvent</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Title <span class="token operator">=</span> args<span class="token punctuation">.</span>X <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> args<span class="token punctuation">.</span>Y<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Here we override the predefined OnConfigureEvent() method. Configure event is triggered, when we resize or move a widget. Note that the first line of the method calls the default method. Without this line, the program would not behave correctly. The next line sets the x, y coordinates of the window to the title of the window.</p>
<h2 id="EnterNotifyEvent"><a href="#EnterNotifyEvent" class="headerlink" title="EnterNotifyEvent"></a>EnterNotifyEvent</h2><p>EnterNotifyEvent is emitted, when we enter the area of a widget with a mouse pointer.</p>
<p><strong>enter.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Enter&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Button button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span>EnterNotifyEvent <span class="token operator">+</span><span class="token operator">=</span> OnEnter<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">void</span> <span class="token function">OnEnter</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EnterNotifyEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Button button <span class="token operator">=</span> <span class="token punctuation">(</span>Button<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        button<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Prelight<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229165653.png?x-oss-process=image/resize,m_lfit,h_450" width="400" height="344" layout="responsive"></amp-img></div><br>We will change the background colour of the button widget, once we hover a mouse pointer over it.
<pre class="line-numbers language-csharp"><code class="language-csharp">button<span class="token punctuation">.</span>EnterNotifyEvent <span class="token operator">+</span><span class="token operator">=</span> OnEnter<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We plug the OnEnter() method to to the EnterNotifyEvent.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Button button <span class="token operator">=</span> <span class="token punctuation">(</span>Button<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
button<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Prelight<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We get the button widget and modify the colour of its background.</p>
<h2 id="Disconnecting-an-event-handler"><a href="#Disconnecting-an-event-handler" class="headerlink" title="Disconnecting an event handler"></a>Disconnecting an event handler</h2><p>We can disconnect a handler method from an event. Next code example demonstrates such a case.</p>
<p><strong>disconnect.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    Button button<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Disconnect&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        CheckButton cb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheckButton</span><span class="token punctuation">(</span><span class="token string">&quot;connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cb<span class="token punctuation">.</span>Toggled <span class="token operator">+</span><span class="token operator">=</span> OnToggled<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>cb<span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">void</span> <span class="token function">OnClick</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Click&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnToggled</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        CheckButton cb <span class="token operator">=</span> <span class="token punctuation">(</span>CheckButton<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            button<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClick<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            button<span class="token punctuation">.</span>Clicked <span class="token operator">-</span><span class="token operator">=</span> OnClick<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229165813.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="344" layout="responsive"></amp-img></div>
<p>In the code example, we have a button and a check box. We show &#x201C;Click&#x201D; text in the console, when we click on the button and the check box is active. The check box connects or disconnects a handler method from the button Clicked event.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">CheckButton cb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheckButton</span><span class="token punctuation">(</span><span class="token string">&quot;connect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cb<span class="token punctuation">.</span>Toggled <span class="token operator">+</span><span class="token operator">=</span> OnToggled<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We have a check box. This widget has a Toggled event. We plug a OnToggled() method to this event.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">CheckButton cb <span class="token operator">=</span> <span class="token punctuation">(</span>CheckButton<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    button<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClick<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    button<span class="token punctuation">.</span>Clicked <span class="token operator">-</span><span class="token operator">=</span> OnClick<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>These lines connect or disconnect an event handler, based on the state of the check box widget.</p>
<p>This chapter was about events in GTK#.</p>
<h1 id="Widgets-in-GTK"><a href="#Widgets-in-GTK" class="headerlink" title="Widgets in GTK#"></a>Widgets in GTK#</h1><p>In this part of the GTK# programming tutorial, we will introduce some GTK# widgets.</p>
<p>Widgets are basic building blocks of a GUI application. Over the years, several widgets became a standard in all toolkits on all OS platforms. For example a button, a check box or a scroll bar. The GTK# toolkit&#x2019;s philosophy is to keep the number of widgets at a minimum level. More specialised widgets are created as custom GTK# widgets.</p>
<h2 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h2><p>The Label widget shows text.</p>
<p><strong>label.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

   <span class="token keyword">string</span> text <span class="token operator">=</span> <span class="token string">@&quot;Meet you downstairs in the bar and heard
your rolled up sleeves and your skull t-shirt
You say why did you do it with him today?
and sniff me out like I was Tanqueray

cause you&apos;re my fella, my guy
hand me your stella and fly
by the time I&apos;m out the door
you tear men down like Roger Moore

I cheated myself
like I knew I would
I told ya, I was trouble
you know that I&apos;m no good&quot;</span><span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;You know I&apos;m No Good&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Label lyrics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>lyrics<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229171050.png?x-oss-process=image/resize,m_lfit,h_450" width="486" height="412" layout="responsive"></amp-img></div>
<p>The code example shows some lyrics on the window.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">    <span class="token keyword">string</span> text <span class="token operator">=</span> @&quot;Meet you downstairs <span class="token keyword">in</span> the bar and heard
your rolled up sleeves and your skull t<span class="token operator">-</span>shirt
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>In C# programming language, multiline string is preceded with the @ character.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">BorderWidth <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
The Label <span class="token keyword">is</span> surrounded by some empty space<span class="token punctuation">.</span>

Label lyrics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Add</span><span class="token punctuation">(</span>lyrics<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The Label widget is created and added to the window.</p>
<h2 id="CheckButton"><a href="#CheckButton" class="headerlink" title="CheckButton"></a>CheckButton</h2><p>CheckButton is a widget that has two states: on and off. The On state is visualised by a check mark. It is used to denote some boolean property.</p>
<p><strong>checkbutton.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;CheckButton&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>

        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        CheckButton cb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheckButton</span><span class="token punctuation">(</span><span class="token string">&quot;Show title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cb<span class="token punctuation">.</span>Active <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        cb<span class="token punctuation">.</span>Toggled <span class="token operator">+</span><span class="token operator">=</span> OnToggle<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>cb<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">void</span> <span class="token function">OnToggle</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        CheckButton cb <span class="token operator">=</span> <span class="token punctuation">(</span>CheckButton<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Title <span class="token operator">=</span> <span class="token string">&quot;CheckButton&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            Title <span class="token operator">=</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229171403.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div><br>We will display a title in the titlebar of the window, depending on the state of the CheckButton.
<pre class="line-numbers language-csharp"><code class="language-csharp">CheckButton cb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CheckButton</span><span class="token punctuation">(</span><span class="token string">&quot;Show title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
CheckButton widget <span class="token keyword">is</span> created<span class="token punctuation">.</span>

cb<span class="token punctuation">.</span>Active <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>The title is visible by default, so we check the check button by default.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">CheckButton cb <span class="token operator">=</span> <span class="token punctuation">(</span>CheckButton<span class="token punctuation">)</span> sender<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here we cast the sender object to CheckButton class.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Title <span class="token operator">=</span> <span class="token string">&quot;CheckButton&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    Title <span class="token operator">=</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Depending on the Active property of the CheckButton, we show or hide the title of the window.</p>
<h2 id="ComboBox"><a href="#ComboBox" class="headerlink" title="ComboBox"></a>ComboBox</h2><p>ComboBox is a widget that allows the user to choose from a list of options.</p>
<p><strong>combobox.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    Label label<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;ComboBox&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
       <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> distros <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token string">&quot;Ubuntu&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;Mandriva&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;Red Hat&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;Fedora&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;Gentoo&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>


        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ComboBox cb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboBox</span><span class="token punctuation">(</span>distros<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cb<span class="token punctuation">.</span>Changed <span class="token operator">+</span><span class="token operator">=</span> OnChanged<span class="token punctuation">;</span>
        label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>cb<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnChanged</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ComboBox cb <span class="token operator">=</span> <span class="token punctuation">(</span>ComboBox<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        label<span class="token punctuation">.</span>Text <span class="token operator">=</span> cb<span class="token punctuation">.</span>ActiveText<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229171555.png?x-oss-process=image/resize,m_lfit,h_450" width="490" height="444" layout="responsive"></amp-img></div>
<p>The example shows a combo box and a label. The combo box has a list of six options. These are the names of Linux distros. The label widget shows the selected option from the combo box.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> distros <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token string">&quot;Ubuntu&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Mandriva&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Red Hat&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Fedora&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Gentoo&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This is an array of strings that will be shown in the ComboBox widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ComboBox cb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboBox</span><span class="token punctuation">(</span>distros<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The ComboBox widget is created. The constructor takes the array of strings as a parameter.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnChanged</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ComboBox cb <span class="token operator">=</span> <span class="token punctuation">(</span>ComboBox<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
    label<span class="token punctuation">.</span>Text <span class="token operator">=</span> cb<span class="token punctuation">.</span>ActiveText<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Inside the OnChanged() method, we get the selected text out of the combo box and set it to the label.</p>
<h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h2><p>The next example introduces the Image widget. This widget displays pictures.</p>
<p><strong>image.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    Gdk<span class="token punctuation">.</span>Pixbuf castle<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Red Rock&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            castle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;redrock.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Image not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Environment<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        Image image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>castle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229171821.png?x-oss-process=image/resize,m_lfit,h_450" width="608" height="336" layout="responsive"></amp-img></div><br>We show the Red Rock castle in the window.
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">try</span> <span class="token punctuation">{</span>
    castle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;redrock.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Image not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Environment<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We create the Gdk.Pixbuf widget. We put the constructor between the try and catch keywords to handle possible errors.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Image image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>castle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Add</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Image widget is created and added to the window.</p>
<p>In this chapter, we showed the first pack of basic widgets of the GTK# programming library.</p>
<h1 id="Widgets-II-in-GTK"><a href="#Widgets-II-in-GTK" class="headerlink" title="Widgets II in GTK#"></a>Widgets II in GTK#</h1><p>In this part of the GTK# programming tutorial, we continue introducing GTK# widgets.</p>
<p>We will cover the Entry widget, the Scale widget, ToggleButton, and Calendar widget.</p>
<h2 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h2><p>The Entry is a single line text entry field. This widget is used to enter textual data.</p>
<p><strong>entry.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    Label label<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Entry&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Entry entry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        entry<span class="token punctuation">.</span>Changed <span class="token operator">+</span><span class="token operator">=</span> OnChanged<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnChanged</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Entry entry <span class="token operator">=</span> <span class="token punctuation">(</span>Entry<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        label<span class="token punctuation">.</span>Text <span class="token operator">=</span> entry<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229172039.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>This example shows an entry widget and a label. The text that we key in the entry is displayed immediately in the label control.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Entry entry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Entry widget is created.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">entry<span class="token punctuation">.</span>Changed <span class="token operator">+</span><span class="token operator">=</span> OnChanged<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>If the text in the Entry widget is changed, we call the OnChanged() method.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnChanged</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Entry entry <span class="token operator">=</span> <span class="token punctuation">(</span>Entry<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
    label<span class="token punctuation">.</span>Text <span class="token operator">=</span> entry<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We get the text from the Entry widget and set it to the label.</p>
<h2 id="Scale"><a href="#Scale" class="headerlink" title="Scale"></a>Scale</h2><p>The Scale is a widget that lets the user graphically select a value by sliding a knob within a bounded interval. Our example will show a volume control.</p>
<p><strong>hscale.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    Gdk<span class="token punctuation">.</span>Pixbuf mute<span class="token punctuation">,</span> min<span class="token punctuation">,</span> med<span class="token punctuation">,</span> max<span class="token punctuation">;</span>
    Image image<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Scale&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        HScale scale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scale<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scale<span class="token punctuation">.</span>ValueChanged <span class="token operator">+</span><span class="token operator">=</span> OnChanged<span class="token punctuation">;</span>

        <span class="token function">LoadPixbufs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span>mute<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">219</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">LoadPixbufs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            mute <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;mute.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            min <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;min.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            med <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;med.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            max <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;max.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;Error reading Pixbufs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Environment<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnChanged</span><span class="token punctuation">(</span><span class="token keyword">object</span> obj<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        HScale scale <span class="token operator">=</span> <span class="token punctuation">(</span>HScale<span class="token punctuation">)</span> obj<span class="token punctuation">;</span>
        <span class="token keyword">double</span> val <span class="token operator">=</span> scale<span class="token punctuation">.</span>Value<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> mute<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> val <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> min<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> <span class="token number">30</span> <span class="token operator">&amp;&amp;</span> val <span class="token operator">&lt;</span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> med<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> max<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229175845.png?x-oss-process=image/resize,m_lfit,h_450" width="520" height="344" layout="responsive"></amp-img></div>
<p>In the example above, we have HScale and Image widgets. By dragging the scale we change the image on the Image widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">HScale scale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>HScale widget is created. The parameters are lower boundary, upper boundary and step.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">HScale scale <span class="token operator">=</span> <span class="token punctuation">(</span>HScale<span class="token punctuation">)</span> obj<span class="token punctuation">;</span>
<span class="token keyword">double</span> val <span class="token operator">=</span> scale<span class="token punctuation">.</span>Value<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>In the OnChange() method we obtain the value of the scale widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> mute<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> val <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> min<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> <span class="token number">30</span> <span class="token operator">&amp;&amp;</span> val <span class="token operator">&lt;</span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> med<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
image<span class="token punctuation">.</span>Pixbuf <span class="token operator">=</span> max<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Depending on the obtained value, we change the picture in the image widget.</p>
<h2 id="ToggleButton"><a href="#ToggleButton" class="headerlink" title="ToggleButton"></a>ToggleButton</h2><p>ToggleButton is a button that has two states: pressed and not pressed. You toggle between these two states by clicking on it. There are situations where this functionality fits well.</p>
<p><strong>togglebuttons.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    DrawingArea darea<span class="token punctuation">;</span>
    Gdk<span class="token punctuation">.</span>Color col<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;ToggleButtons&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        ToggleButton red <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToggleButton</span><span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        red<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        red<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnRed<span class="token punctuation">;</span>

        ToggleButton green <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToggleButton</span><span class="token punctuation">(</span><span class="token string">&quot;Green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        green<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        green<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnGreen<span class="token punctuation">;</span>

        ToggleButton blue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToggleButton</span><span class="token punctuation">(</span><span class="token string">&quot;Blue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        blue<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        blue<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnBlue<span class="token punctuation">;</span>

        darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>red<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>green<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>blue<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>darea<span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnRed</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        ToggleButton tb <span class="token operator">=</span> <span class="token punctuation">(</span>ToggleButton<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>tb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            col<span class="token punctuation">.</span>Red <span class="token operator">=</span> <span class="token number">65535</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            col<span class="token punctuation">.</span>Red <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        darea<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>         
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnGreen</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        ToggleButton tb <span class="token operator">=</span> <span class="token punctuation">(</span>ToggleButton<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>tb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            col<span class="token punctuation">.</span>Green <span class="token operator">=</span> <span class="token number">65535</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            col<span class="token punctuation">.</span>Green <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        darea<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnBlue</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        ToggleButton tb <span class="token operator">=</span> <span class="token punctuation">(</span>ToggleButton<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>tb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            col<span class="token punctuation">.</span>Blue <span class="token operator">=</span> <span class="token number">65535</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            col<span class="token punctuation">.</span>Blue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        darea<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229180207.png?x-oss-process=image/resize,m_lfit,h_450" width="601" height="450" layout="responsive"></amp-img></div>
<p>In our example, we show three toggle buttons and a DrawingArea. We set the background colour of the area to black. The toggle buttons will toggle the red, green and blue parts of the colour value. The background colour will depend on which toggle buttons we have pressed.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">col <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This is the colour value that is going to be updated with the toggle buttons.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ToggleButton red <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToggleButton</span><span class="token punctuation">(</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
red<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
red<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnRed<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>The ToggleButton widget is created. We set its size to 80x35 pixels. Each of the toggle buttons has its own handler method.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
darea<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
darea<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>The DrawingArea widget is the widget that displays the colour, mixed by the toggle buttons. At start, it shows black colour.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">if</span> <span class="token punctuation">(</span>tb<span class="token punctuation">.</span>Active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    col<span class="token punctuation">.</span>Red <span class="token operator">=</span> <span class="token number">65535</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    col<span class="token punctuation">.</span>Red <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We update the red part of the colour according to the value of the Active property.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">darea<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We update the colour of the DrawingArea widget.</p>
<h2 id="Calendar"><a href="#Calendar" class="headerlink" title="Calendar"></a>Calendar</h2><p>Our final widget is the Calendar widget. It is used to work with dates.</p>
<p><strong>calendar.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">private</span> Label label<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Calendar&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Calendar calendar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calendar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        calendar<span class="token punctuation">.</span>DaySelected <span class="token operator">+</span><span class="token operator">=</span> OnDaySelected<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>calendar<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">230</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnDaySelected</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Calendar cal <span class="token operator">=</span> <span class="token punctuation">(</span>Calendar<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        label<span class="token punctuation">.</span>Text <span class="token operator">=</span> cal<span class="token punctuation">.</span>Month <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> cal<span class="token punctuation">.</span>Day <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> cal<span class="token punctuation">.</span>Year<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229180307.png?x-oss-process=image/resize,m_lfit,h_450" width="462" height="450" layout="responsive"></amp-img></div>
<p>We have the Calendar widget and a Label. The selected day from the calendar is shown in the label.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Calendar calendar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calendar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Calendar widget is created.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Calendar cal <span class="token operator">=</span> <span class="token punctuation">(</span>Calendar<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
label<span class="token punctuation">.</span>Text <span class="token operator">=</span> cal<span class="token punctuation">.</span>Month <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> cal<span class="token punctuation">.</span>Day <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> cal<span class="token punctuation">.</span>Year<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>In the OnDaySelected() method we get the referece to the Calendar widget, and update the label to the currently selected date.</p>
<p>In this chapter, we finished talking about the GTK# widgets.</p>
<h1 id="Advanced-widgets-in-GTK"><a href="#Advanced-widgets-in-GTK" class="headerlink" title="Advanced widgets in GTK#"></a>Advanced widgets in GTK#</h1><p>In this part of the GTK# programming tutorial, we will introduce some more advanced widgets in the GTK#. We will cover IconView, ListView and TreeView widgets.</p>
<h2 id="IconView"><a href="#IconView" class="headerlink" title="IconView"></a>IconView</h2><p>The IconView is a widget which displays a list of icons in a grid.</p>
<p><strong>iconview.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>IO<span class="token punctuation">;</span>
<span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span> COL_PATH <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span> COL_DISPLAY_NAME <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span> COL_PIXBUF <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span> COL_IS_DIRECTORY <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

    DirectoryInfo root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectoryInfo</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Gdk<span class="token punctuation">.</span>Pixbuf dirIcon<span class="token punctuation">,</span> fileIcon<span class="token punctuation">;</span>
    ListStore store<span class="token punctuation">;</span>
    ToolButton upButton<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;IconView&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">650</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Toolbar toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>toolbar<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        upButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>GoUp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        upButton<span class="token punctuation">.</span>IsImportant <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        upButton<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>upButton<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ToolButton homeButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToolButton</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Home<span class="token punctuation">)</span><span class="token punctuation">;</span>
        homeButton<span class="token punctuation">.</span>IsImportant <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>homeButton<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fileIcon <span class="token operator">=</span> <span class="token function">GetIcon</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>File<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dirIcon <span class="token operator">=</span> <span class="token function">GetIcon</span><span class="token punctuation">(</span>Stock<span class="token punctuation">.</span>Open<span class="token punctuation">)</span><span class="token punctuation">;</span>

        ScrolledWindow sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScrolledWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span>ShadowType <span class="token operator">=</span> ShadowType<span class="token punctuation">.</span>EtchedIn<span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">SetPolicy</span><span class="token punctuation">(</span>PolicyType<span class="token punctuation">.</span>Automatic<span class="token punctuation">,</span> PolicyType<span class="token punctuation">.</span>Automatic<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>sw<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        store <span class="token operator">=</span> <span class="token function">CreateStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        IconView iconView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IconView</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
        iconView<span class="token punctuation">.</span>SelectionMode <span class="token operator">=</span> SelectionMode<span class="token punctuation">.</span>Multiple<span class="token punctuation">;</span>

        upButton<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>OnUpClicked<span class="token punctuation">)</span><span class="token punctuation">;</span>
        homeButton<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>OnHomeClicked<span class="token punctuation">)</span><span class="token punctuation">;</span>

        iconView<span class="token punctuation">.</span>TextColumn <span class="token operator">=</span> COL_DISPLAY_NAME<span class="token punctuation">;</span>
        iconView<span class="token punctuation">.</span>PixbufColumn <span class="token operator">=</span> COL_PIXBUF<span class="token punctuation">;</span>

        iconView<span class="token punctuation">.</span>ItemActivated <span class="token operator">+</span><span class="token operator">=</span> OnItemActivated<span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>iconView<span class="token punctuation">)</span><span class="token punctuation">;</span>
        iconView<span class="token punctuation">.</span><span class="token function">GrabFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    Gdk<span class="token punctuation">.</span>Pixbuf <span class="token function">GetIcon</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Gtk<span class="token punctuation">.</span>IconTheme<span class="token punctuation">.</span>Default<span class="token punctuation">.</span><span class="token function">LoadIcon</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>IconLookupFlags<span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    ListStore <span class="token function">CreateStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ListStore store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListStore</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
            <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> <span class="token punctuation">(</span>Gdk<span class="token punctuation">.</span>Pixbuf<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        store<span class="token punctuation">.</span><span class="token function">SetSortColumnId</span><span class="token punctuation">(</span>COL_DISPLAY_NAME<span class="token punctuation">,</span> SortType<span class="token punctuation">.</span>Ascending<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> store<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        store<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">.</span>Exists<span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span>DirectoryInfo di <span class="token keyword">in</span> root<span class="token punctuation">.</span><span class="token function">GetDirectories</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>di<span class="token punctuation">.</span>Name<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                store<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>di<span class="token punctuation">.</span>FullName<span class="token punctuation">,</span> di<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> dirIcon<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span>FileInfo file <span class="token keyword">in</span> root<span class="token punctuation">.</span><span class="token function">GetFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span>Name<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                store<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>FullName<span class="token punctuation">,</span> file<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> fileIcon<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnHomeClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectoryInfo</span><span class="token punctuation">(</span>Environment<span class="token punctuation">.</span><span class="token function">GetFolderPath</span><span class="token punctuation">(</span>
            Environment<span class="token punctuation">.</span>SpecialFolder<span class="token punctuation">.</span>Personal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        upButton<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnItemActivated</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ItemActivatedArgs a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        TreeIter iter<span class="token punctuation">;</span>
        store<span class="token punctuation">.</span><span class="token function">GetIter</span><span class="token punctuation">(</span><span class="token keyword">out</span> iter<span class="token punctuation">,</span> a<span class="token punctuation">.</span>Path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">string</span> path <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> store<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> COL_PATH<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">bool</span> isDir <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span> store<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> COL_IS_DIRECTORY<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isDir<span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectoryInfo</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        upButton<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnUpClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        root <span class="token operator">=</span> root<span class="token punctuation">.</span>Parent<span class="token punctuation">;</span>
        <span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        upButton<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>FullName <span class="token operator">==</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">?</span> <span class="token keyword">false</span> <span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>   
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229182241.png?x-oss-process=image/resize,m_lfit,h_450" width="681" height="450" layout="responsive"></amp-img></div>
<div class="uk-alert uk-alert-danger"><i class="fa fa-warning"></i> &#xA0;&#xA0;MAC&#x4E0B;&#x65E0;&#x6548;&#xFF01;</div>

<p>This example shows icons of the currently selected directory. It has a toolbar and two buttons. Up button and home button. We use them to navigate through the file system.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ListStore store<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The ListStore is a columned list data structure. We use it to store our data for the IconView widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">DirectoryInfo root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectoryInfo</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This is the root directory. We start here. The root directory is the directory, which we show in the IconView widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ListStore store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListStore</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>Gdk<span class="token punctuation">.</span>Pixbuf<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>In the CreateStore() method, we create the ListStore object. It has four parameters. The path, the name of the directory or file, image and the boolean value determining if it is an directory or a file.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">foreach</span> <span class="token punctuation">(</span>DirectoryInfo di <span class="token keyword">in</span> root<span class="token punctuation">.</span><span class="token function">GetDirectories</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>di<span class="token punctuation">.</span>Name<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        store<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>di<span class="token punctuation">.</span>FullName<span class="token punctuation">,</span> di<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> dirIcon<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In the FillStore() method, we fill the list store with data. Here, we find out all directories in the current path.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnHomeClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs a<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectoryInfo</span><span class="token punctuation">(</span>Environment<span class="token punctuation">.</span><span class="token function">GetFolderPath</span><span class="token punctuation">(</span>Environment<span class="token punctuation">.</span>SpecialFolder<span class="token punctuation">.</span>Personal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    upButton<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>If we click on the home button, we get the reference to the home directory. Refill the list store. And make the up button active.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnItemActivated</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ItemActivatedArgs a<span class="token punctuation">)</span>
<span class="token punctuation">{</span> 
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>In the OnItemActivated() method, we react to an event, which is generated, when we click on a icon from the icon view widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">string</span> path <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> store<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> COL_PATH<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> isDir <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">bool</span><span class="token punctuation">)</span> store<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> COL_IS_DIRECTORY<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isDir<span class="token punctuation">)</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We get the path of the activated item. And we determine if it is a directory or a file. If it is a file, we return.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectoryInfo</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

upButton<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>In case it is a directory, we replace the root with the current path, refill the store and make the up button sensitive.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnUpClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs a<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    root <span class="token operator">=</span> root<span class="token punctuation">.</span>Parent<span class="token punctuation">;</span>
    <span class="token function">FillStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    upButton<span class="token punctuation">.</span>Sensitive <span class="token operator">=</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>FullName <span class="token operator">==</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">?</span> <span class="token keyword">false</span> <span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>If we click on the up button, we replace the root directory with its parent directory. Refill the list store. And the up button is activated if we are below the root (/) directory of the file system.</p>
<h2 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h2><p>In the following example, we use the TreeView widget to show a list view. Again the ListStore is used to store data.</p>
<p><strong>listview.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
<span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Actress</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Place<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Year<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Actress</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">,</span> <span class="token keyword">string</span> place<span class="token punctuation">,</span> <span class="token keyword">int</span> year<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        Place <span class="token operator">=</span> place<span class="token punctuation">;</span>
        Year <span class="token operator">=</span> year<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>
    ListStore store<span class="token punctuation">;</span>
    Statusbar statusbar<span class="token punctuation">;</span>

    <span class="token keyword">enum</span> Column
    <span class="token punctuation">{</span>
        Name<span class="token punctuation">,</span>
        Place<span class="token punctuation">,</span>
        Year
    <span class="token punctuation">}</span>

    Actress<span class="token punctuation">[</span><span class="token punctuation">]</span> actresses <span class="token operator">=</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Actress</span><span class="token punctuation">(</span><span class="token string">&quot;Jessica Alba&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pomona&quot;</span><span class="token punctuation">,</span> <span class="token number">1981</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Actress</span><span class="token punctuation">(</span><span class="token string">&quot;Sigourney Weaver&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span> <span class="token number">1949</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Actress</span><span class="token punctuation">(</span><span class="token string">&quot;Angelina Jolie&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Los Angeles&quot;</span><span class="token punctuation">,</span> <span class="token number">1975</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Actress</span><span class="token punctuation">(</span><span class="token string">&quot;Natalie Portman&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jerusalem&quot;</span><span class="token punctuation">,</span> <span class="token number">1981</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Actress</span><span class="token punctuation">(</span><span class="token string">&quot;Rachel Weissz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;London&quot;</span><span class="token punctuation">,</span> <span class="token number">1971</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Actress</span><span class="token punctuation">(</span><span class="token string">&quot;Scarlett Johansson&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;New York&quot;</span><span class="token punctuation">,</span> <span class="token number">1984</span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span> <span class="token punctuation">(</span><span class="token string">&quot;ListView&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>

        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        ScrolledWindow sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScrolledWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span>ShadowType <span class="token operator">=</span> ShadowType<span class="token punctuation">.</span>EtchedIn<span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">SetPolicy</span><span class="token punctuation">(</span>PolicyType<span class="token punctuation">.</span>Automatic<span class="token punctuation">,</span> PolicyType<span class="token punctuation">.</span>Automatic<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>sw<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        store <span class="token operator">=</span> <span class="token function">CreateModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeView treeView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeView</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeView<span class="token punctuation">.</span>RulesHint <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        treeView<span class="token punctuation">.</span>RowActivated <span class="token operator">+</span><span class="token operator">=</span> OnRowActivated<span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>treeView<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">AddColumns</span><span class="token punctuation">(</span>treeView<span class="token punctuation">)</span><span class="token punctuation">;</span>

        statusbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Statusbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>statusbar<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnRowActivated</span> <span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> RowActivatedArgs args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        TreeIter iter<span class="token punctuation">;</span>        
        TreeView view <span class="token operator">=</span> <span class="token punctuation">(</span>TreeView<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>   

        <span class="token keyword">if</span> <span class="token punctuation">(</span>view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetIter</span><span class="token punctuation">(</span><span class="token keyword">out</span> iter<span class="token punctuation">,</span> args<span class="token punctuation">.</span>Path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">string</span> row <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Name <span class="token punctuation">)</span><span class="token punctuation">;</span>
            row <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Place <span class="token punctuation">)</span><span class="token punctuation">;</span>
            row <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Year <span class="token punctuation">)</span><span class="token punctuation">;</span>
            statusbar<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">AddColumns</span><span class="token punctuation">(</span>TreeView treeView<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        CellRendererText rendererText <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        TreeViewColumn column <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span> rendererText<span class="token punctuation">,</span>
            <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> Column<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        column<span class="token punctuation">.</span>SortColumnId <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Name<span class="token punctuation">;</span>
        treeView<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span>

        rendererText <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        column <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token string">&quot;Place&quot;</span><span class="token punctuation">,</span> rendererText<span class="token punctuation">,</span> 
            <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> Column<span class="token punctuation">.</span>Place<span class="token punctuation">)</span><span class="token punctuation">;</span>
        column<span class="token punctuation">.</span>SortColumnId <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Place<span class="token punctuation">;</span>
        treeView<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span>

        rendererText <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        column <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token string">&quot;Year&quot;</span><span class="token punctuation">,</span> rendererText<span class="token punctuation">,</span> 
            <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> Column<span class="token punctuation">.</span>Year<span class="token punctuation">)</span><span class="token punctuation">;</span>
        column<span class="token punctuation">.</span>SortColumnId <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Year<span class="token punctuation">;</span>
        treeView<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    ListStore <span class="token function">CreateModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ListStore store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListStore</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span>Actress act <span class="token keyword">in</span> actresses<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            store<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>act<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> act<span class="token punctuation">.</span>Place<span class="token punctuation">,</span> act<span class="token punctuation">.</span>Year <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> store<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229182647.png?x-oss-process=image/resize,m_lfit,h_450" width="579" height="450" layout="responsive"></amp-img></div>
<p>In our example, we show a list of six actresses in the TreeView widget. Each of the rows shows the name, the place of born and the year of born for each of them.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Actress</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> Place<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> Year<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The Actress class is used for storing data about an actress.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ListStore <span class="token function">CreateModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ListStore store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListStore</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
        <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">foreach</span> <span class="token punctuation">(</span>Actress act <span class="token keyword">in</span> actresses<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        store<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>act<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> act<span class="token punctuation">.</span>Place<span class="token punctuation">,</span> act<span class="token punctuation">.</span>Year <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> store<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In the CreateModel() method, we create the list store. The list store has three parameters. The name of the actress, the place of born and year of born. This is the data model of our TreeView widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">TreeView treeView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeView</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
treeView<span class="token punctuation">.</span>RulesHint <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
treeView<span class="token punctuation">.</span>RowActivated <span class="token operator">+</span><span class="token operator">=</span> OnRowActivated<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Here we create the TreeView widget, taking the list store as a parameter.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">CellRendererText rendererText <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
TreeViewColumn column <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span> rendererText<span class="token punctuation">,</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> Column<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
column<span class="token punctuation">.</span>SortColumnId <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Name<span class="token punctuation">;</span>
treeView<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>In the AddColumns() method, we add three columns to our TreeView widget. The above code creates a column displaying names of the actresses.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">if</span> <span class="token punctuation">(</span>view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetIter</span><span class="token punctuation">(</span><span class="token keyword">out</span> iter<span class="token punctuation">,</span> args<span class="token punctuation">.</span>Path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">string</span> row <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Name <span class="token punctuation">)</span><span class="token punctuation">;</span>
    row <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Place <span class="token punctuation">)</span><span class="token punctuation">;</span>
    row <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> view<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>Year <span class="token punctuation">)</span><span class="token punctuation">;</span>
    statusbar<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>If we double click on an item, we display the whole row in the statusbar.</p>
<h2 id="TreeView"><a href="#TreeView" class="headerlink" title="TreeView"></a>TreeView</h2><p>In the last example of this chapter, we use the TreeView widget to show a hierarchical tree of data.</p>
<p><strong>tree.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span> <span class="token punctuation">(</span><span class="token string">&quot;Tree&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        TreeView tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeViewColumn languages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        languages<span class="token punctuation">.</span>Title <span class="token operator">=</span> <span class="token string">&quot;Programming languages&quot;</span><span class="token punctuation">;</span>

        CellRendererText cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        languages<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        languages<span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeStore treestore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeStore</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeIter iter <span class="token operator">=</span> treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span><span class="token string">&quot;Scripting languages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;PHP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Perl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Ruby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        iter <span class="token operator">=</span> treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span><span class="token string">&quot;Compiling languages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;C#&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;C++&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        tree<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>languages<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tree<span class="token punctuation">.</span>Model <span class="token operator">=</span> treestore<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Gtk<span class="token punctuation">.</span>Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Gtk<span class="token punctuation">.</span>Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229182852.png?x-oss-process=image/resize,m_lfit,h_450" width="559" height="450" layout="responsive"></amp-img></div>
<p>This time we use the TreeView widget to show hierarchical data.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">TreeView tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
TreeView widget <span class="token keyword">is</span> created<span class="token punctuation">.</span>

TreeViewColumn languages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
languages<span class="token punctuation">.</span>Title <span class="token operator">=</span> <span class="token string">&quot;Programming languages&quot;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>It has one column named &#x201C;Programming languages&#x201D;.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">CellRendererText cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
languages<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
languages<span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>We show textual data in the TreeView widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">TreeStore treestore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeStore</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
To store the data<span class="token punctuation">,</span> we use the TreeStore <span class="token keyword">object</span><span class="token punctuation">.</span>

TreeIter iter <span class="token operator">=</span> treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span><span class="token string">&quot;Scripting languages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;PHP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We append data to the tree. The TreeIter is for accessing data in a row.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">tree<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>languages<span class="token punctuation">)</span><span class="token punctuation">;</span>
A column <span class="token keyword">is</span> appended to the tree<span class="token punctuation">.</span>

tree<span class="token punctuation">.</span>Model <span class="token operator">=</span> treestore<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Finally, we set a data model for the tree widget.</p>
<h2 id="Aother-example"><a href="#Aother-example" class="headerlink" title="Aother example"></a>Aother example</h2><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Tree&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        TreeView tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeViewColumn languages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        languages<span class="token punctuation">.</span>Title <span class="token operator">=</span> <span class="token string">&quot;Programming languages&quot;</span><span class="token punctuation">;</span>

        CellRendererText cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        languages<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        languages<span class="token punctuation">.</span><span class="token function">AddAttribute</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeStore treestore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeStore</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeIter iter <span class="token operator">=</span> treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span><span class="token string">&quot;Scripting languages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Python&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;23&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;PHP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Perl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Ruby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        iter <span class="token operator">=</span> treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span><span class="token string">&quot;Compiling languages&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;C#&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;C++&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treestore<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>iter<span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        tree<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>languages<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tree<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span><span class="token string">&quot;Data&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tree<span class="token punctuation">.</span>Model <span class="token operator">=</span> treestore<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Gtk<span class="token punctuation">.</span>Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Gtk<span class="token punctuation">.</span>Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229225053.png?x-oss-process=image/resize,m_lfit,h_450" width="559" height="450" layout="responsive"></amp-img></div>
<p>In this chapter, we were talking about advanced GTK# widgets.</p>
<h1 id="Dialogs-in-GTK"><a href="#Dialogs-in-GTK" class="headerlink" title="Dialogs in GTK#"></a>Dialogs in GTK#</h1><p>In this part of the GTK# programming tutorial, we will introduce dialogs.</p>
<p>Dialog windows or dialogs are an indispensable part of most modern GUI applications. A dialog is defined as a conversation between two or more persons. In a computer application a dialog is a window which is used to &#x201C;talk&#x201D; to the application. A dialog is used to input data, modify data, change the application settings etc. Dialogs are important means of communication between a user and a computer program.</p>
<h2 id="Message-dialogs"><a href="#Message-dialogs" class="headerlink" title="Message dialogs"></a>Message dialogs</h2><p>Message dialogs are convenient dialogs that provide messages to the user of the application. The message consists of textual and image data.</p>
<p><strong>messages.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Messages&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> 


        Table table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Table</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Button info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Information&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button warn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button ques <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Question&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button erro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        info<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span>
            MessageDialog md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 
                DialogFlags<span class="token punctuation">.</span>DestroyWithParent<span class="token punctuation">,</span> MessageType<span class="token punctuation">.</span>Info<span class="token punctuation">,</span> 
                ButtonsType<span class="token punctuation">.</span>Close<span class="token punctuation">,</span> <span class="token string">&quot;Download completed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        warn<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span>
            MessageDialog md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 
                DialogFlags<span class="token punctuation">.</span>DestroyWithParent<span class="token punctuation">,</span> MessageType<span class="token punctuation">.</span>Warning<span class="token punctuation">,</span> 
                ButtonsType<span class="token punctuation">.</span>Close<span class="token punctuation">,</span> <span class="token string">&quot;Unallowed operation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>


        ques<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span>
            MessageDialog md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 
                DialogFlags<span class="token punctuation">.</span>DestroyWithParent<span class="token punctuation">,</span> MessageType<span class="token punctuation">.</span>Question<span class="token punctuation">,</span> 
                ButtonsType<span class="token punctuation">.</span>Close<span class="token punctuation">,</span> <span class="token string">&quot;Are you sure to quit?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        erro<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span>
            MessageDialog md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageDialog</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 
                DialogFlags<span class="token punctuation">.</span>DestroyWithParent<span class="token punctuation">,</span> MessageType<span class="token punctuation">.</span>Error<span class="token punctuation">,</span> 
                ButtonsType<span class="token punctuation">.</span>Close<span class="token punctuation">,</span> <span class="token string">&quot;Error loading file&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            md<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>warn<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>ques<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        table<span class="token punctuation">.</span><span class="token function">Attach</span><span class="token punctuation">(</span>erro<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229183117.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="244" layout="responsive"></amp-img></div>
<p>In our example, we will show four kinds of message dialogs. Information, Warning, Question, and Error message dialogs.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Button info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Information&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Button warn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Button ques <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Question&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Button erro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>We have four buttons. Each of these buttons will show a different kind of message dialog.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">info<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span>
    MessageDialog md <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 
        DialogFlags<span class="token punctuation">.</span>DestroyWithParent<span class="token punctuation">,</span> MessageType<span class="token punctuation">.</span>Info<span class="token punctuation">,</span> 
        ButtonsType<span class="token punctuation">.</span>Close<span class="token punctuation">,</span> <span class="token string">&quot;Download completed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    md<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    md<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>If we click on the info button, the Information dialog is displayed. The MessageType.Info specifies the type of the dialog. The ButtonsType.Close specifies the button to be displayed in the dialog. The last parameter is the message displayed. The dialog is displayed with the Run() method. The programmer must also call either the Destroy() or the Hide() method.</p>
<h2 id="AboutDialog"><a href="#AboutDialog" class="headerlink" title="AboutDialog"></a>AboutDialog</h2><p>The AboutDialog displays information about the application. AboutDialog can display a logo, the name of the application, version, copyright, website or licence information. It is also possible to give credits to the authors, documenters, translators and artists.</p>
<p><strong>aboutdialog.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;About&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">;</span>

        Button button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;About&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClicked<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">void</span> <span class="token function">OnClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        AboutDialog about <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AboutDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span>ProgramName <span class="token operator">=</span> <span class="token string">&quot;Battery&quot;</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span>Version <span class="token operator">=</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span>Copyright <span class="token operator">=</span> <span class="token string">&quot;(c) Jan Bodnar&quot;</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span>Comments <span class="token operator">=</span> <span class="token string">@&quot;Battery is a simple tool for 
battery checking&quot;</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span>Website <span class="token operator">=</span> <span class="token string">&quot;http://www.zetcode.com&quot;</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span>Logo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;battery.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        about<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229183309.png?x-oss-process=image/resize,m_lfit,h_450" width="462" height="450" layout="responsive"></amp-img></div>
<p>The code example uses a AboutDialog with some of its features.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">AboutDialog about <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AboutDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We create an AboutDialog.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">about<span class="token punctuation">.</span>ProgramName <span class="token operator">=</span> <span class="token string">&quot;Battery&quot;</span><span class="token punctuation">;</span>
about<span class="token punctuation">.</span>Version <span class="token operator">=</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">;</span>
about<span class="token punctuation">.</span>Copyright <span class="token operator">=</span> <span class="token string">&quot;(c) Jan Bodnar&quot;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>By setting the properties of the dialog, we specify the name, version and the copyright.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">about<span class="token punctuation">.</span>Logo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Pixbuf</span><span class="token punctuation">(</span><span class="token string">&quot;battery.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This line creates a logo.</p>
<h2 id="FontSelectionDialog"><a href="#FontSelectionDialog" class="headerlink" title="FontSelectionDialog"></a>FontSelectionDialog</h2><p>The FontSelectionDialog is a dialog for selecting fonts. It is typically used in applications that do some text editing or formatting.</p>
<p><strong>fontdialog.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    Label label<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Font Selection Dialog&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">;</span>

        label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string">&quot;The only victory over love is flight.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Select font&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClicked<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">void</span> <span class="token function">OnClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        FontSelectionDialog fdia <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FontSelectionDialog</span><span class="token punctuation">(</span><span class="token string">&quot;Select font name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fdia<span class="token punctuation">.</span>Response <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token keyword">object</span> o<span class="token punctuation">,</span> ResponseArgs resp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>resp<span class="token punctuation">.</span>ResponseId <span class="token operator">==</span> ResponseType<span class="token punctuation">.</span>Ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
               Pango<span class="token punctuation">.</span>FontDescription fontdesc <span class="token operator">=</span> 
                   Pango<span class="token punctuation">.</span>FontDescription<span class="token punctuation">.</span><span class="token function">FromString</span><span class="token punctuation">(</span>fdia<span class="token punctuation">.</span>FontName<span class="token punctuation">)</span><span class="token punctuation">;</span>
               label<span class="token punctuation">.</span><span class="token function">ModifyFont</span><span class="token punctuation">(</span>fontdesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        fdia<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fdia<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229183422.png?x-oss-process=image/resize,m_lfit,h_450" width="558" height="450" layout="responsive"></amp-img></div>
<p>In the code example, we have a button and a label. We show the FontSelectionDialog by clicking on the button.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">FontSelectionDialog fdia <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FontSelectionDialog</span><span class="token punctuation">(</span><span class="token string">&quot;Select font name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We create the FontSelectionDialog.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">fdia<span class="token punctuation">.</span>Response <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token keyword">object</span> o<span class="token punctuation">,</span> ResponseArgs resp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>resp<span class="token punctuation">.</span>ResponseId <span class="token operator">==</span> ResponseType<span class="token punctuation">.</span>Ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Pango<span class="token punctuation">.</span>FontDescription fontdesc <span class="token operator">=</span> Pango<span class="token punctuation">.</span>FontDescription<span class="token punctuation">.</span><span class="token function">FromString</span><span class="token punctuation">(</span>fdia<span class="token punctuation">.</span>FontName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token punctuation">.</span><span class="token function">ModifyFont</span><span class="token punctuation">(</span>fontdesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>If we click on the OK button, the font of the label widget changes to the one that we selected in the dialog.</p>
<h2 id="ColorSelectionDialog"><a href="#ColorSelectionDialog" class="headerlink" title="ColorSelectionDialog"></a>ColorSelectionDialog</h2><p>ColorSelectionDialog is a dialog for selecting a colour.</p>
<p><strong>colordialog.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    Label label<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Color Dialog&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">;</span>

        label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string">&quot;The only victory over love is flight.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Button button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;Select color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span>Clicked <span class="token operator">+</span><span class="token operator">=</span> OnClicked<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">void</span> <span class="token function">OnClicked</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ColorSelectionDialog cdia <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorSelectionDialog</span><span class="token punctuation">(</span><span class="token string">&quot;Select color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cdia<span class="token punctuation">.</span>Response <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token keyword">object</span> o<span class="token punctuation">,</span> ResponseArgs resp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>resp<span class="token punctuation">.</span>ResponseId <span class="token operator">==</span> ResponseType<span class="token punctuation">.</span>Ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
               label<span class="token punctuation">.</span><span class="token function">ModifyFg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> cdia<span class="token punctuation">.</span>ColorSelection<span class="token punctuation">.</span>CurrentColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        cdia<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cdia<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229183800.png?x-oss-process=image/resize,m_lfit,h_450" width="795" height="450" layout="responsive"></amp-img></div>
<p>The example is very similar to the previous one. This time we change the colour of the label.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">ColorSelectionDialog cdia <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorSelectionDialog</span><span class="token punctuation">(</span><span class="token string">&quot;Select color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We create the ColorSelectionDialog.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cdia<span class="token punctuation">.</span>Response <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">(</span><span class="token keyword">object</span> o<span class="token punctuation">,</span> ResponseArgs resp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>resp<span class="token punctuation">.</span>ResponseId <span class="token operator">==</span> ResponseType<span class="token punctuation">.</span>Ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    label<span class="token punctuation">.</span><span class="token function">ModifyFg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> cdia<span class="token punctuation">.</span>ColorSelection<span class="token punctuation">.</span>CurrentColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>If the user pressed OK, we get the color and modify the label&#x2019;s colour.</p>
<p>In this part of the GTK# tutorial, we talked about dialogs.</p>
<h1 id="Pango"><a href="#Pango" class="headerlink" title="Pango"></a>Pango</h1><p>In this part of the GTK# programming tutorial, we will explore the Pango library.</p>
<p>Pango is a free and open source computing library for rendering internationalised texts in high quality. Different font backends can be used, allowing cross-platform support. (wikipedia)</p>
<p>Pango provides advanced font and text handling that is used for Gdk and Gtk.</p>
<h2 id="Simple-example-1"><a href="#Simple-example-1" class="headerlink" title="Simple example"></a>Simple example</h2><p>In our first example, we show, how to change font for our label widget.</p>
<p><strong>quotes.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">private</span> Label label<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Pango&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">string</span> text <span class="token operator">=</span> <span class="token string">@&quot;Excess of joy is harder to bear than any amount of sorrow.
The more one judges, the less one loves.
There is no such thing as a great talent without great will power. &quot;</span><span class="token punctuation">;</span>

        label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Pango<span class="token punctuation">.</span>FontDescription fontdesc <span class="token operator">=</span> Pango<span class="token punctuation">.</span>FontDescription<span class="token punctuation">.</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">&quot;Purisa 10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token punctuation">.</span><span class="token function">ModifyFont</span><span class="token punctuation">(</span>fontdesc<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229184154.png?x-oss-process=image/resize,m_lfit,h_450" width="580" height="210" layout="responsive"></amp-img></div>
<p>In the above code example, we have a label widget with three quotations. We change its font to Purisa 10.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">string</span> text <span class="token operator">=</span> @&quot;Excess of joy <span class="token keyword">is</span> harder to bear than any amount of sorrow<span class="token punctuation">.</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>This is the text to show in the label.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Pango<span class="token punctuation">.</span>FontDescription fontdesc <span class="token operator">=</span> Pango<span class="token punctuation">.</span>FontDescription<span class="token punctuation">.</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">&quot;Purisa 10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The FontDescription is used to specify the characteristics of a font to load. The FromString() method creates a new font description from a string representation.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">label<span class="token punctuation">.</span><span class="token function">ModifyFont</span><span class="token punctuation">(</span>fontdesc<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We change the font of the label widget to Purisa 10.</p>
<h2 id="System-fonts"><a href="#System-fonts" class="headerlink" title="System fonts"></a>System fonts</h2><p>The next code example shows all available fonts in a TreeView widget.</p>
<p><strong>systemfonts.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> Pango<span class="token punctuation">;</span>
<span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>
    ListStore store<span class="token punctuation">;</span>
    FontFamily<span class="token punctuation">[</span><span class="token punctuation">]</span> fam<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;System fonts&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        BorderWidth <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>

        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>


        ScrolledWindow sw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScrolledWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span>ShadowType <span class="token operator">=</span> ShadowType<span class="token punctuation">.</span>EtchedIn<span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">SetPolicy</span><span class="token punctuation">(</span>PolicyType<span class="token punctuation">.</span>Automatic<span class="token punctuation">,</span> PolicyType<span class="token punctuation">.</span>Automatic<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Context context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">CreatePangoContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fam <span class="token operator">=</span> context<span class="token punctuation">.</span>Families<span class="token punctuation">;</span>

        store <span class="token operator">=</span> <span class="token function">CreateModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        TreeView treeView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeView</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeView<span class="token punctuation">.</span>RulesHint <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        sw<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>treeView<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">CreateColumn</span><span class="token punctuation">(</span>treeView<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>sw<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">CreateColumn</span><span class="token punctuation">(</span>TreeView treeView<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        CellRendererText rendererText <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CellRendererText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        TreeViewColumn column <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeViewColumn</span><span class="token punctuation">(</span><span class="token string">&quot;FontName&quot;</span><span class="token punctuation">,</span>
            rendererText<span class="token punctuation">,</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> Column<span class="token punctuation">.</span>FontName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        column<span class="token punctuation">.</span>SortColumnId <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Column<span class="token punctuation">.</span>FontName<span class="token punctuation">;</span>
        treeView<span class="token punctuation">.</span><span class="token function">AppendColumn</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    ListStore <span class="token function">CreateModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ListStore store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListStore</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">foreach</span> <span class="token punctuation">(</span>FontFamily ff <span class="token keyword">in</span> fam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            store<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>ff<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> store<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">enum</span> Column
    <span class="token punctuation">{</span>
        FontName
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229184347.png?x-oss-process=image/resize,m_lfit,h_450" width="579" height="450" layout="responsive"></amp-img></div>
<p>The code example shows all available fonts on a system.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Context context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">CreatePangoContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This code line creates a Pango.Context object. It contains global information about the rendering process of text.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">fam <span class="token operator">=</span> context<span class="token punctuation">.</span>Families<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>From the context object, we retrieve all available font families.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">foreach</span> <span class="token punctuation">(</span>FontFamily ff <span class="token keyword">in</span> fam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    store<span class="token punctuation">.</span><span class="token function">AppendValues</span><span class="token punctuation">(</span>ff<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>During the model creation of the TreeView widget, we get all font names from the array of font families and put them into the list store.</p>
<h2 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h2><p>Pango is used to work with internationalised text.</p>
<p><strong>unicode.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Unicode&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">string</span> text <span class="token operator">=</span> <span class="token string">@&quot;&#x424;&#x451;&#x434;&#x43E;&#x440; &#x41C;&#x438;&#x445;&#x430;&#x439;&#x43B;&#x43E;&#x432;&#x438;&#x447; &#x414;&#x43E;&#x441;&#x442;&#x43E;&#x435;&#x432;&#x441;&#x43A;&#x438;&#x439; &#x440;&#x43E;&#x434;&#x438;&#x43B;&#x441;&#x44F; 30 &#x43E;&#x43A;&#x442;&#x44F;&#x431;&#x440;&#x44F; (11 &#x43D;&#x43E;&#x44F;&#x431;&#x440;&#x44F;)
1821 &#x433;&#x43E;&#x434;&#x430; &#x432; &#x41C;&#x43E;&#x441;&#x43A;&#x432;&#x435;.&#x411;&#x44B;&#x43B; &#x432;&#x442;&#x43E;&#x440;&#x44B;&#x43C; &#x438;&#x437; 7 &#x434;&#x435;&#x442;&#x435;&#x439;. &#x41E;&#x442;&#x435;&#x446;, &#x41C;&#x438;&#x445;&#x430;&#x438;&#x43B; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x435;&#x432;&#x438;&#x447;, &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x43B; &#x432; 
&#x433;&#x43E;&#x441;&#x43F;&#x438;&#x442;&#x430;&#x43B;&#x435; &#x434;&#x43B;&#x44F; &#x431;&#x435;&#x434;&#x43D;&#x44B;&#x445;. &#x41C;&#x430;&#x442;&#x44C;, &#x41C;&#x430;&#x440;&#x438;&#x44F; &#x424;&#x451;&#x434;&#x43E;&#x440;&#x43E;&#x432;&#x43D;&#x430; (&#x432; &#x434;&#x435;&#x432;&#x438;&#x447;&#x435;&#x441;&#x442;&#x432;&#x435; &#x41D;&#x435;&#x447;&#x430;&#x435;&#x432;&#x430;),
&#x43F;&#x440;&#x43E;&#x438;&#x441;&#x445;&#x43E;&#x434;&#x438;&#x43B;&#x430; &#x438;&#x437; &#x43A;&#x443;&#x43F;&#x435;&#x447;&#x435;&#x441;&#x43A;&#x43E;&#x433;&#x43E; &#x440;&#x43E;&#x434;&#x430;.&quot;</span><span class="token punctuation">;</span>

        Label label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Pango<span class="token punctuation">.</span>FontDescription fontdesc <span class="token operator">=</span> Pango<span class="token punctuation">.</span>FontDescription<span class="token punctuation">.</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">&quot;Purisa 10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token punctuation">.</span><span class="token function">ModifyFont</span><span class="token punctuation">(</span>fontdesc<span class="token punctuation">)</span><span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Add</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229184525.png?x-oss-process=image/resize,m_lfit,h_450" width="820" height="304" layout="responsive"></amp-img></div>
<p>We show some text in azbuka.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">string</span> text <span class="token operator">=</span> @&quot;&#x424;&#x451;&#x434;&#x43E;&#x440; &#x41C;&#x438;&#x445;&#x430;&#x439;&#x43B;&#x43E;&#x432;&#x438;&#x447; &#x414;&#x43E;&#x441;&#x442;&#x43E;&#x435;&#x432;&#x441;&#x43A;&#x438;&#x439; &#x440;&#x43E;&#x434;&#x438;&#x43B;&#x441;&#x44F; <span class="token number">30</span> &#x43E;&#x43A;&#x442;&#x44F;&#x431;&#x440;&#x44F; <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We can directly use the unicode text.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Label label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We normally use it in the label widget.</p>
<h2 id="Coloured-text"><a href="#Coloured-text" class="headerlink" title="Coloured text"></a>Coloured text</h2><p>In the final example, we will further explore Pango capabilities. We will draw a centered, coloured text on a DrawingArea widget.</p>
<p><strong>coloured.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Pango<span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span> <span class="token punctuation">(</span><span class="token string">&quot;Australia&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        Gdk<span class="token punctuation">.</span>Color white <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        DrawingArea drawingArea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        drawingArea<span class="token punctuation">.</span><span class="token function">ModifyBg</span><span class="token punctuation">(</span>StateType<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">;</span>
        drawingArea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExposeEvent<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>drawingArea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExposeEvent</span> <span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs a<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea drawingArea <span class="token operator">=</span> sender <span class="token keyword">as</span> DrawingArea<span class="token punctuation">;</span>

        <span class="token keyword">int</span> width <span class="token operator">=</span> drawingArea<span class="token punctuation">.</span>Allocation<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>

        Gdk<span class="token punctuation">.</span>PangoRenderer renderer <span class="token operator">=</span> Gdk<span class="token punctuation">.</span>PangoRenderer<span class="token punctuation">.</span><span class="token function">GetDefault</span><span class="token punctuation">(</span>drawingArea<span class="token punctuation">.</span>Screen<span class="token punctuation">)</span><span class="token punctuation">;</span>
        renderer<span class="token punctuation">.</span>Drawable <span class="token operator">=</span> drawingArea<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">;</span>
        renderer<span class="token punctuation">.</span>Gc <span class="token operator">=</span> drawingArea<span class="token punctuation">.</span>Style<span class="token punctuation">.</span>BlackGC<span class="token punctuation">;</span>

        Context context <span class="token operator">=</span> drawingArea<span class="token punctuation">.</span><span class="token function">CreatePangoContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Pango<span class="token punctuation">.</span>Layout layout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pango<span class="token punctuation">.</span>Layout</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>

        layout<span class="token punctuation">.</span>Width <span class="token operator">=</span> Pango<span class="token punctuation">.</span>Units<span class="token punctuation">.</span><span class="token function">FromPixels</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
        layout<span class="token punctuation">.</span><span class="token function">SetText</span><span class="token punctuation">(</span><span class="token string">&quot;Australia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        FontDescription desc <span class="token operator">=</span> FontDescription<span class="token punctuation">.</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">&quot;Serif Bold 20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        layout<span class="token punctuation">.</span>FontDescription <span class="token operator">=</span> desc<span class="token punctuation">;</span>

        renderer<span class="token punctuation">.</span><span class="token function">SetOverrideColor</span><span class="token punctuation">(</span>RenderPart<span class="token punctuation">.</span>Foreground<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        layout<span class="token punctuation">.</span>Alignment <span class="token operator">=</span> Pango<span class="token punctuation">.</span>Alignment<span class="token punctuation">.</span>Center<span class="token punctuation">;</span>
        renderer<span class="token punctuation">.</span><span class="token function">DrawLayout</span><span class="token punctuation">(</span>layout<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        renderer<span class="token punctuation">.</span><span class="token function">SetOverrideColor</span><span class="token punctuation">(</span>RenderPart<span class="token punctuation">.</span>Foreground<span class="token punctuation">,</span> Gdk<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Zero<span class="token punctuation">)</span><span class="token punctuation">;</span>
        renderer<span class="token punctuation">.</span>Drawable <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        renderer<span class="token punctuation">.</span>Gc <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229184648.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="444" layout="responsive"></amp-img></div>
<p>We draw &#x201C;Australia&#x201D; text, horizontally centered, coloured in dark red colour.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Gdk<span class="token punctuation">.</span>PangoRenderer renderer <span class="token operator">=</span> Gdk<span class="token punctuation">.</span>PangoRenderer<span class="token punctuation">.</span><span class="token function">GetDefault</span><span class="token punctuation">(</span>drawingArea<span class="token punctuation">.</span>Screen<span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span>Drawable <span class="token operator">=</span> drawingArea<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span>Gc <span class="token operator">=</span> drawingArea<span class="token punctuation">.</span>Style<span class="token punctuation">.</span>BlackGC<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>We get the default renderer for the screen, and set it up for drawing.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">Context context <span class="token operator">=</span> drawingArea<span class="token punctuation">.</span><span class="token function">CreatePangoContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Pango<span class="token punctuation">.</span>Layout layout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pango<span class="token punctuation">.</span>Layout</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We create a Pango.Layout. It is a high level driver for laying out entire blocks of text.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">layout<span class="token punctuation">.</span>Width <span class="token operator">=</span> Pango<span class="token punctuation">.</span>Units<span class="token punctuation">.</span><span class="token function">FromPixels</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We specify the layouts width.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">layout<span class="token punctuation">.</span><span class="token function">SetText</span><span class="token punctuation">(</span><span class="token string">&quot;Australia&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We set our text.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">FontDescription desc <span class="token operator">=</span> FontDescription<span class="token punctuation">.</span><span class="token function">FromString</span><span class="token punctuation">(</span><span class="token string">&quot;Serif Bold 20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
layout<span class="token punctuation">.</span>FontDescription <span class="token operator">=</span> desc<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We specify a font for our layout.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">renderer<span class="token punctuation">.</span><span class="token function">SetOverrideColor</span><span class="token punctuation">(</span>RenderPart<span class="token punctuation">.</span>Foreground<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Gdk<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
layout<span class="token punctuation">.</span>Alignment <span class="token operator">=</span> Pango<span class="token punctuation">.</span>Alignment<span class="token punctuation">.</span>Center<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We set a color and alignment.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">renderer<span class="token punctuation">.</span><span class="token function">DrawLayout</span><span class="token punctuation">(</span>layout<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We draw the Pango layout.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">renderer<span class="token punctuation">.</span><span class="token function">SetOverrideColor</span><span class="token punctuation">(</span>RenderPart<span class="token punctuation">.</span>Foreground<span class="token punctuation">,</span> Gdk<span class="token punctuation">.</span>Color<span class="token punctuation">.</span>Zero<span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span>Drawable <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span>Gc <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>We clean up resources.</p>
<p>In this chapter of the GTK# programming library, we worked with Pango library.</p>
<h1 id="Drawing-with-Cairo-in-GTK"><a href="#Drawing-with-Cairo-in-GTK" class="headerlink" title="Drawing with Cairo in GTK#"></a>Drawing with Cairo in GTK#</h1><p>In this part of the GTK# programming tutorial, we will do some drawing with the Cairo library.</p>
<p>Cairo is a library for creating 2D vector graphics. We can use it to draw our own widgets, charts or various effects or animations.</p>
<h2 id="Simple-drawing"><a href="#Simple-drawing" class="headerlink" title="Simple drawing"></a>Simple drawing</h2><p>The stroke operation draws the outlines of shapes and the fill operation fills the insides of shapes. Next we will demonstrate these two operations.</p>
<p><strong>simpledrawing.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Simple drawing&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span>LineWidth <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>
        width <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
        height <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">&lt;</span> height <span class="token operator">?</span> width <span class="token punctuation">:</span> height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">StrokePreserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//&#x8C03;&#x7528;&#x753B;&#x7B14;&#x753B;&#x8FB9;&#x7EBF;</span>

        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//&#x8C03;&#x7528;&#x586B;&#x5145;&#x753B;&#x5185;&#x90E8;</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229192500.png?x-oss-process=image/resize,m_lfit,h_450" width="460" height="344" layout="responsive"></amp-img></div>
<p>In our example, we will draw a circle and will it with a solid color.</p>
<pre class="line-numbers language-bash"><code class="language-bash">gmcs -pkg:gtk-sharp-2.0 -r:/usr/lib/mono/2.0/Mono.Cairo.dll  simple.cs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here is how we compile the example.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We will be doing our drawing operations on the DrawingArea widget.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>All drawing is done in a method that we plug into the ExposeEvent.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We create the Cairo.Context object from the GdkWindow of the drawing area. The context is an object that is used to draw on all Drawable objects.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span>LineWidth <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We set the width of the line to 9 pixels.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We set the colour to dark red.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>
width <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
height <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We get the width and height of the drawing area. We move the origin into the middle of the window.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>width <span class="token operator">&lt;</span> height <span class="token operator">?</span> width <span class="token punctuation">:</span> height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">StrokePreserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We draw the outside shape of a circle. The StrokePreserve() strokes the current path according to the current line width, line join, line cap, and dash settings. Unlike the Stroke(), it preserves the path within the cairo context.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>This fills the interior of the circle with some blue colour.</p>
<h2 id="Basic-shapes"><a href="#Basic-shapes" class="headerlink" title="Basic shapes"></a>Basic shapes</h2><p>The next example draws some basic shapes onto the window.</p>
<p><strong>basicshapes.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Basic shapes&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">390</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cc <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.23</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span>LineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        cc<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">StrokePreserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.23</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">StrokePreserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.23</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span>PI<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">ClosePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">StrokePreserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.23</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        cc<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">StrokePreserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cc<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cc<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229192717.png?x-oss-process=image/resize,m_lfit,h_450" width="670" height="450" layout="responsive"></amp-img></div>
<p>In this example, we will create a rectangle, a square, a circle, an arc, and an ellipse. We draw outlines in blue colour, insides in white.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cc<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cc<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cc<span class="token punctuation">.</span><span class="token function">StrokePreserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cc<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cc<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>These lines draw a rectangle and a square.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cc<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here the Arc() method draws a full circle.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cc<span class="token punctuation">.</span><span class="token function">Scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
cc<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>If we want to draw an oval, we do some scaling first. Here the Scale() method shrinks the y axis.</p>
<h2 id="Colours"><a href="#Colours" class="headerlink" title="Colours"></a>Colours</h2><p>A colour is an object representing a combination of Red, Green, and Blue (RGB) intensity values. Cairo valid RGB values are in the range 0 to 1.</p>
<p><strong>colors.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Colors&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.23</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229192834.png?x-oss-process=image/resize,m_lfit,h_450" width="720" height="244" layout="responsive"></amp-img></div>
<p>We draw three rectangles in three different colours.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.23</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The SetSourceRGB() method sets a colour for the cairo context. The three parameters of the method are the colour intensity values.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We create a rectangle shape and fill it with the previously specified colour.</p>
<h2 id="Transparent-rectangles"><a href="#Transparent-rectangles" class="headerlink" title="Transparent rectangles"></a>Transparent rectangles</h2><p>Transparency is the quality of being able to see through a material. The easiest way to understand transparency is to imagine a piece of glass or water. Technically, the rays of light can go through the glass and this way we can see objects behind the glass.</p>
<p>In computer graphics, we can achieve transparency effects using alpha compositing. Alpha compositing is the process of combining an image with a background to create the appearance of partial transparency. The composition process uses an alpha channel. (wikipedia.org, answers.com)</p>
<p><strong>transparentrectangles.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Transparent rectangles&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">590</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cr<span class="token punctuation">.</span><span class="token function">SetSourceRGBA</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token operator">*</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">*</span>i<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229193006.png?x-oss-process=image/resize,m_lfit,h_450" width="1180" height="224" layout="responsive"></amp-img></div><br>In the example we will draw ten rectangles with different levels of transparency.
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetSourceRGBA</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token operator">*</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The last parameter of the SetSourceRGBA() method is the alpha transparency.</p>
<h2 id="Soulmate"><a href="#Soulmate" class="headerlink" title="Soulmate"></a>Soulmate</h2><p>In the next example, we draw some text on the window.</p>
<p><strong>soulmate.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window
<span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Soulmate&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">420</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span> Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SelectFontFace</span><span class="token punctuation">(</span><span class="token string">&quot;Purisa&quot;</span><span class="token punctuation">,</span> FontSlant<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> FontWeight<span class="token punctuation">.</span>Bold<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">SetFontSize</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">ShowText</span><span class="token punctuation">(</span><span class="token string">&quot;Most relationships seem so transitory&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">ShowText</span><span class="token punctuation">(</span><span class="token string">&quot;They&apos;re all good but not the permanent one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">ShowText</span><span class="token punctuation">(</span><span class="token string">&quot;Who doesn&apos;t long for someone to hold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">ShowText</span><span class="token punctuation">(</span><span class="token string">&quot;Who knows how to love without being told&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">ShowText</span><span class="token punctuation">(</span><span class="token string">&quot;Somebody tell me why I&apos;m on my own&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">ShowText</span><span class="token punctuation">(</span><span class="token string">&quot;If there&apos;s a soulmate for everyone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span>cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span>cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229193115.png?x-oss-process=image/resize,m_lfit,h_450" width="695" height="450" layout="responsive"></amp-img></div>
<p>We display part of the lyrics from the Natasha Bedingfields Soulmate song.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SelectFontFace</span><span class="token punctuation">(</span><span class="token string">&quot;Purisa&quot;</span><span class="token punctuation">,</span> FontSlant<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> FontWeight<span class="token punctuation">.</span>Bold<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here we specify the font that we use&#x2014;Purisa bold.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetFontSize</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We specify the size of the font.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We move to the point, where we will draw the text.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">ShowText</span><span class="token punctuation">(</span><span class="token string">&quot;Most relationships seem so transitory&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The ShowText() method draws text onto the window.</p>
<p>In this chapter of the GTK# programming library, we were drawing with Cairo library.</p>
<h1 id="Drawing-with-Cairo-in-GTK-II"><a href="#Drawing-with-Cairo-in-GTK-II" class="headerlink" title="Drawing with Cairo in GTK# II"></a>Drawing with Cairo in GTK# II</h1><p>In this part of the GTK# programming tutorial, we will continue drawing with the Cairo library.</p>
<h2 id="Donut"><a href="#Donut" class="headerlink" title="Donut"></a>Donut</h2><p>In the following example we create an complex shape by rotating a bunch of ellipses.</p>
<p><strong>donut.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Donut&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span>LineWidth <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>
        width <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
        height <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">36</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cr<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span> i<span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token operator">/</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Scale</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229193323.png?x-oss-process=image/resize,m_lfit,h_450" width="579" height="450" layout="responsive"></amp-img></div>
<p>In this example, we create a donut. The shapes resembles a cookie, hence the name donut.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>In the beginning there is an ellipse.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">36</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cr<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span> i<span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token operator">/</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cr<span class="token punctuation">.</span><span class="token function">Scale</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cr<span class="token punctuation">.</span><span class="token function">Arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cr<span class="token punctuation">.</span><span class="token function">Restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cr<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>After several rotations, there is a donut.</p>
<h2 id="Gradients"><a href="#Gradients" class="headerlink" title="Gradients"></a>Gradients</h2><p>In computer graphics, gradient is a smooth blending of shades from light to dark or from one colour to another. In 2D drawing programs and paint programs, gradients are used to create colourful backgrounds and special effects as well as to simulate lights and shadows. (answers.com)</p>
<p><strong>gradients.csv</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Gradients&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">340</span><span class="token punctuation">,</span> <span class="token number">390</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>


        LinearGradient lg1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">350.0</span><span class="token punctuation">,</span> <span class="token number">350.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">double</span> j<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token number">1.0</span><span class="token punctuation">;</span> j<span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Convert<span class="token punctuation">.</span><span class="token function">ToBoolean</span><span class="token punctuation">(</span>count <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                lg1<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                lg1<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> lg1<span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        LinearGradient lg2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">350.0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">double</span> i<span class="token operator">=</span><span class="token number">0.05</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">0.95</span><span class="token punctuation">;</span> i<span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.025</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Convert<span class="token punctuation">.</span><span class="token function">ToBoolean</span><span class="token punctuation">(</span>count <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                lg2<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                lg2<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> lg2<span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        LinearGradient lg3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">260.0</span><span class="token punctuation">,</span>  <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">360.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lg3<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        lg3<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        lg3<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> lg3<span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        lg1<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lg2<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lg3<span class="token punctuation">.</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229193454.png?x-oss-process=image/resize,m_lfit,h_450" width="371" height="450" layout="responsive"></amp-img></div>
<p>In our example, we draw three rectangles with three different gradients.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">LinearGradient lg1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">350.0</span><span class="token punctuation">,</span> <span class="token number">350.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here we create a linear gradient pattern. The parameters specify the line, along which we draw the gradient. In our case it is a vertical line.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">LinearGradient lg3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">260.0</span><span class="token punctuation">,</span>  <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">360.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lg3<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
lg3<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
lg3<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>We define colour stops to produce our gradient pattern. In this case, the gradient is a blending of black and yellow colours. By adding two black and one yellow stops, we create a horizontal gradient pattern. What do these stops actually mean? In our case, we begin with black colour, which will stop at 1/10 of the size. Then we begin to gradually paint in yellow, which will culminate at the centre of the shape. The yellow colour stops at 9/10 of the size, where we begin painting in black again, until the end.</p>
<h2 id="Puff"><a href="#Puff" class="headerlink" title="Puff"></a>Puff</h2><p>In the following example, we create a puff effect. The example will display a growing centered text that will gradually fade out from some point. This is a very common effect, which you can often see in flash animations.</p>
<p><strong>puff.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">private</span> <span class="token keyword">bool</span> timer <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> alpha <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> size <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> DrawingArea darea<span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Puff&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        GLib<span class="token punctuation">.</span>Timeout<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GLib<span class="token punctuation">.</span>TimeoutHandler</span><span class="token punctuation">(</span>OnTimer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">bool</span> <span class="token function">OnTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span>

        darea<span class="token punctuation">.</span><span class="token function">QueueDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>      

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> x <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> y <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SelectFontFace</span><span class="token punctuation">(</span><span class="token string">&quot;Courier&quot;</span><span class="token punctuation">,</span> FontSlant<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> FontWeight<span class="token punctuation">.</span>Bold<span class="token punctuation">)</span><span class="token punctuation">;</span>

        size <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            alpha <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        cr<span class="token punctuation">.</span><span class="token function">SetFontSize</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

        TextExtents extents <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">TextExtents</span><span class="token punctuation">(</span><span class="token string">&quot;ZetCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span>x <span class="token operator">-</span> extents<span class="token punctuation">.</span>Width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">TextPath</span><span class="token punctuation">(</span><span class="token string">&quot;ZetCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">PaintWithAlpha</span><span class="token punctuation">(</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>alpha <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            timer <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229193638.png?x-oss-process=image/resize,m_lfit,h_450" width="700" height="444" layout="responsive"></amp-img></div>
<p>The example creates a growing and fading text on the window.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">GLib<span class="token punctuation">.</span>Timeout<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GLib<span class="token punctuation">.</span>TimeoutHandler</span><span class="token punctuation">(</span>OnTimer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Every 14 ms the OnTimer() method is called.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">bool</span> <span class="token function">OnTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span>

    darea<span class="token punctuation">.</span><span class="token function">QueueDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>      <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>In the OnTimer() method, we call the QueueDraw() method upon the drawing area, which triggers the ExposeEvent.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">int</span> x <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> y <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Coordinates of the middle point.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We set the background color to dark red color.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">size <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Each cycle, the font size will grow by 0.8 units.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    alpha <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>The fading out begins after the font size is bigger than 20.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">TextExtents extents <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">TextExtents</span><span class="token punctuation">(</span><span class="token string">&quot;ZetCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We get the text metrics.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span>x <span class="token operator">-</span> extents<span class="token punctuation">.</span>Width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We use the text metrics to center the text on the window.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">TextPath</span><span class="token punctuation">(</span><span class="token string">&quot;ZetCode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We get the path of the text and set the current clip region to it.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">PaintWithAlpha</span><span class="token punctuation">(</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We paint the current path and take alpha value into account.</p>
<h2 id="Reflection"><a href="#Reflection" class="headerlink" title="Reflection"></a>Reflection</h2><p>In the next example we show a reflected image. This beautiful effect makes an illusion as if the image was reflected in water.</p>
<p><strong>reflection.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">private</span> ImageSurface surface<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> imageWidth<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> imageHeight<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> gap<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> border<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Reflection&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            surface <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageSurface</span><span class="token punctuation">(</span><span class="token string">&quot;slanec.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;File not found&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Environment<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 

        imageWidth <span class="token operator">=</span> surface<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
        imageHeight <span class="token operator">=</span> surface<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>
        gap <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
        border <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        DrawingArea darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> width <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
        <span class="token keyword">int</span> height <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

        LinearGradient lg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lg<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lg<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> lg<span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SetSourceSurface</span><span class="token punctuation">(</span>surface<span class="token punctuation">,</span> border<span class="token punctuation">,</span> border<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">double</span> alpha <span class="token operator">=</span> <span class="token number">0.7</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> step <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> imageHeight<span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> imageHeight <span class="token operator">+</span> gap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">Scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>


        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> imageHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span>border<span class="token punctuation">,</span> imageHeight<span class="token operator">-</span>i<span class="token punctuation">,</span> imageWidth<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            i<span class="token operator">++</span><span class="token punctuation">;</span>

            cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">SetSource</span><span class="token punctuation">(</span>surface<span class="token punctuation">,</span> border<span class="token punctuation">,</span> border<span class="token punctuation">)</span><span class="token punctuation">;</span>

            cr<span class="token punctuation">.</span><span class="token function">PaintWithAlpha</span><span class="token punctuation">(</span>alpha<span class="token operator">-</span><span class="token operator">=</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">ResetClip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229193939.png?x-oss-process=image/resize,m_lfit,h_450" width="363" height="450" layout="responsive"></amp-img></div>
<p>The example shows a reflected castle.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">LinearGradient lg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lg<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
lg<span class="token punctuation">.</span><span class="token function">AddColorStop</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> lg<span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The background is filled with a gradiet paint. The paint is a smooth blending from black to dark gray.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> imageHeight <span class="token operator">+</span> gap<span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>This code flips the image and translates it below the original image. The translation operation is necessary, because the scaling operation makes the image upside down and translates the image up. To understand what happens, simply take a photograph and place it on the table. Now flip it.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span>border<span class="token punctuation">,</span> imageHeight<span class="token operator">-</span>i<span class="token punctuation">,</span> imageWidth<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

i<span class="token operator">++</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">SetSource</span><span class="token punctuation">(</span>surface<span class="token punctuation">,</span> border<span class="token punctuation">,</span> border<span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">PaintWithAlpha</span><span class="token punctuation">(</span>alpha<span class="token operator">-</span><span class="token operator">=</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">ResetClip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Crucial part of the code. We make the second image transparent. But the transparency is not constant. The image gradually fades out. This is achieved with the GradientPaint.</p>
<h2 id="Waiting"><a href="#Waiting" class="headerlink" title="Waiting"></a>Waiting</h2><p>In this examle, we use transparency effect to create a waiting demo. We will draw 8 lines that will gradually fade out creating an illusion that a line is moving. Such effects are often used to inform users, that a lengthy task is going on behind the scenes. An example is streaming video over the internet.</p>
<p><strong>waiting.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>


    <span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span> trs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">double</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.30</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.80</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">1.0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.30</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.8</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span>  <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span>  <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token number">0.15</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">short</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> DrawingArea darea<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Waiting&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        GLib<span class="token punctuation">.</span>Timeout<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GLib<span class="token punctuation">.</span>TimeoutHandler</span><span class="token punctuation">(</span>OnTimer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        darea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DrawingArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span>ExposeEvent <span class="token operator">+</span><span class="token operator">=</span> OnExpose<span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>darea<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">bool</span> <span class="token function">OnTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span> 
        count <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        darea<span class="token punctuation">.</span><span class="token function">QueueDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>        


    <span class="token keyword">void</span> <span class="token function">OnExpose</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> ExposeEventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        DrawingArea area <span class="token operator">=</span> <span class="token punctuation">(</span>DrawingArea<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span>  Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>area<span class="token punctuation">.</span>GdkWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span>LineWidth <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span>LineCap <span class="token operator">=</span> LineCap<span class="token punctuation">.</span>Round<span class="token punctuation">;</span>

        <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>
        width <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
        height <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cr<span class="token punctuation">.</span><span class="token function">SetSourceRGBA</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> trs<span class="token punctuation">[</span>count<span class="token operator">%</span><span class="token number">8</span><span class="token punctuation">,</span> i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">LineTo</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>PI<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229194117.png?x-oss-process=image/resize,m_lfit,h_450" width="500" height="344" layout="responsive"></amp-img></div>
<p>We draw eight lines with eight different alpha values.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">GLib<span class="token punctuation">.</span>Timeout<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GLib<span class="token punctuation">.</span>TimeoutHandler</span><span class="token punctuation">(</span>OnTimer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We use a timer function to create animation.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token keyword">double</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span> trs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">double</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token number">0.30</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.80</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">,</span> <span class="token number">1.0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>This is a two dimensional array of transparency values used in this demo. There are 8 rows, each for one state. Each of the 8 lines will continuosly use these values.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span>LineWidth <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span>LineCap <span class="token operator">=</span> LineCap<span class="token punctuation">.</span>Round<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>We make the lines a bit thicker, so that they are better visible. We draw the lines with rouded caps.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetSourceRGBA</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> trs<span class="token punctuation">[</span>count<span class="token operator">%</span><span class="token number">8</span><span class="token punctuation">,</span> i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Here we define the transparency value for a line.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">LineTo</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>PI<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>These code lines will draw each of the eight lines.</p>
<p>In this chapter of the GTK# programming library, we did some more advanced drawing with the Cairo library.</p>
<h1 id="Custom-widget-in-GTK"><a href="#Custom-widget-in-GTK" class="headerlink" title="Custom widget in GTK#"></a>Custom widget in GTK#</h1><p>Toolkits usually provide only the most common widgets like buttons, text widgets, sliders etc. No toolkit can provide all possible widgets.</p>
<p>More specialised widgets are created by client programmers. They do it by using the drawing tools provided by the toolkit. There are two possibilities: a programmer can modify or enhance an existing widget, or he can create a custom widget from scratch.</p>
<h2 id="Burning-widget"><a href="#Burning-widget" class="headerlink" title="Burning widget"></a>Burning widget</h2><p>This is an example of a widget that we create from scratch. This widget can be found in various media burning applications, like Nero Burning ROM.</p>
<p><strong>burning.cs</strong></p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> Gtk<span class="token punctuation">;</span>
<span class="token keyword">using</span> Cairo<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Burning</span> <span class="token punctuation">:</span> DrawingArea
<span class="token punctuation">{</span>

    <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;75&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;150&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;225&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;300&quot;</span><span class="token punctuation">,</span> 
        <span class="token string">&quot;375&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;450&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;525&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;600&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;675&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Burning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">OnExposeEvent</span><span class="token punctuation">(</span>Gdk<span class="token punctuation">.</span>EventExpose args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        Cairo<span class="token punctuation">.</span>Context cr <span class="token operator">=</span> Gdk<span class="token punctuation">.</span>CairoHelper<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>Window<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span>LineWidth <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">;</span>

        cr<span class="token punctuation">.</span><span class="token function">SelectFontFace</span><span class="token punctuation">(</span><span class="token string">&quot;Courier 10 Pitch&quot;</span><span class="token punctuation">,</span> 
            FontSlant<span class="token punctuation">.</span>Normal<span class="token punctuation">,</span> FontWeight<span class="token punctuation">.</span>Normal<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cr<span class="token punctuation">.</span><span class="token function">SetFontSize</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> width <span class="token operator">=</span> Allocation<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>

        SharpApp parent <span class="token operator">=</span> <span class="token punctuation">(</span>SharpApp<span class="token punctuation">)</span> <span class="token function">GetAncestor</span> <span class="token punctuation">(</span>Gtk<span class="token punctuation">.</span>Window<span class="token punctuation">.</span>GType<span class="token punctuation">)</span><span class="token punctuation">;</span>        
        <span class="token keyword">int</span> cur_width <span class="token operator">=</span> parent<span class="token punctuation">.</span>CurValue<span class="token punctuation">;</span>

        <span class="token keyword">int</span> step <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> Math<span class="token punctuation">.</span><span class="token function">Round</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> till <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">750.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> cur_width<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> full <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">750.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">700</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur_width <span class="token operator">&gt;=</span> <span class="token number">700</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.72</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> full<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">ResetClip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.68</span><span class="token punctuation">,</span> <span class="token number">0.68</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span>full<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> till<span class="token operator">-</span>full<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
            cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">ResetClip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 

            cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.72</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> till<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cr<span class="token punctuation">.</span><span class="token function">ResetClip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>  

       cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">0.35</span><span class="token punctuation">,</span> <span class="token number">0.31</span><span class="token punctuation">,</span> <span class="token number">0.24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>num<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

           cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span>i<span class="token operator">*</span>step<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           cr<span class="token punctuation">.</span><span class="token function">LineTo</span><span class="token punctuation">(</span>i<span class="token operator">*</span>step<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
           cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           TextExtents extents <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">TextExtents</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span>i<span class="token operator">*</span>step<span class="token operator">-</span>extents<span class="token punctuation">.</span>Width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           cr<span class="token punctuation">.</span><span class="token function">TextPath</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>

        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">.</span>Target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
        <span class="token punctuation">(</span><span class="token punctuation">(</span>IDisposable<span class="token punctuation">)</span> cr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">class</span> <span class="token class-name">SharpApp</span> <span class="token punctuation">:</span> Window <span class="token punctuation">{</span>

    <span class="token keyword">int</span> cur_value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    Burning burning<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token string">&quot;Burning&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">SetDefaultSize</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">SetPosition</span><span class="token punctuation">(</span>WindowPosition<span class="token punctuation">.</span>Center<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DeleteEvent <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">delegate</span> <span class="token punctuation">{</span> Application<span class="token punctuation">.</span><span class="token function">Quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

        VBox vbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VBox</span><span class="token punctuation">(</span><span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        HScale scale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">750</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scale<span class="token punctuation">.</span><span class="token function">SetSizeRequest</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scale<span class="token punctuation">.</span>ValueChanged <span class="token operator">+</span><span class="token operator">=</span> OnChanged<span class="token punctuation">;</span>

        Fixed fix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fix<span class="token punctuation">.</span><span class="token function">Put</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>fix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        burning <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Burning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vbox<span class="token punctuation">.</span><span class="token function">PackStart</span><span class="token punctuation">(</span>burning<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">Add</span><span class="token punctuation">(</span>vbox<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">ShowAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">OnChanged</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Scale scale <span class="token operator">=</span> <span class="token punctuation">(</span>Scale<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
        cur_value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> scale<span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
        burning<span class="token punctuation">.</span><span class="token function">QueueDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> CurValue <span class="token punctuation">{</span>
        <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> cur_value<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Application<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">SharpApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Application<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<div class="amp-img-wrapper"><amp-img src="https://pagepig.oss-cn-hangzhou.aliyuncs.com/20200229194316.png?x-oss-process=image/resize,m_lfit,h_450" width="700" height="444" layout="responsive"></amp-img></div><br>We put a DrawingArea on the bottom of the window and draw the entire widget manually. All the important code resides in the OnExposeEvent() method of the Burning class. This widget shows graphically the total capacity of a medium and the free space available to us. The widget is controlled by a scale widget. The minimum value of our custom widget is 0, the maximum is 750. If we reach value 700, we began drawing in red colour. This normally indicates overburning.
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">&quot;75&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;150&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;225&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;300&quot;</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;375&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;450&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;525&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;600&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;675&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>These numbers are shown on the burning widget. They show the capacity of the medium.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">SharpApp parent <span class="token operator">=</span> <span class="token punctuation">(</span>SharpApp<span class="token punctuation">)</span> <span class="token function">GetAncestor</span> <span class="token punctuation">(</span>Gtk<span class="token punctuation">.</span>Window<span class="token punctuation">.</span>GType<span class="token punctuation">)</span><span class="token punctuation">;</span>        
<span class="token keyword">int</span> cur_width <span class="token operator">=</span> parent<span class="token punctuation">.</span>CurValue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>These two lines get the current number from the scale widget. We get the parent widget and from the parent widget, we get the current value.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">int</span> till <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">750.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> cur_width<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> full <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">750.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">700</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>The till parameter determines the total size to be drawn. This value comes from the slider widget. It is a proportion of the whole area. The full parameter determines the point, where we begin to draw in red colour.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">cr<span class="token punctuation">.</span><span class="token function">SetSourceRGB</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.72</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> full<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">ResetClip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>This code here, draws a yellow rectangle up to point, where the medium is full.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp">TextExtents extents <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">TextExtents</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">MoveTo</span><span class="token punctuation">(</span>i<span class="token operator">*</span>step<span class="token operator">-</span>extents<span class="token punctuation">.</span>Width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">TextPath</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>This code here draws the numbers on the burning widget. We calculate the TextExtents to position the text correctly.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">void</span> <span class="token function">OnChanged</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Scale scale <span class="token operator">=</span> <span class="token punctuation">(</span>Scale<span class="token punctuation">)</span> sender<span class="token punctuation">;</span>
    cur_value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> scale<span class="token punctuation">.</span>Value<span class="token punctuation">;</span>
    burning<span class="token punctuation">.</span><span class="token function">QueueDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We get the value from the scale widget, store it in the cur_value variable for later use. We redraw the burning widget.</p>
<h1 id="Cairo&#x5165;&#x95E8;"><a href="#Cairo&#x5165;&#x95E8;" class="headerlink" title="Cairo&#x5165;&#x95E8;"></a>Cairo&#x5165;&#x95E8;</h1><h2 id="&#x5173;&#x4E8E;Cairo"><a href="#&#x5173;&#x4E8E;Cairo" class="headerlink" title="&#x5173;&#x4E8E;Cairo"></a>&#x5173;&#x4E8E;Cairo</h2><p>Cairo&#x662F;&#x975E;&#x5E38;&#x6D41;&#x884C;&#x7684;&#x5F00;&#x6E90;2D&#x56FE;&#x5F62;&#x6E32;&#x67D3;&#x5F15;&#x64CE;&#x5E93;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x5305;&#x62EC;X-Windos&#xFF0C;Win32&#xFF0C;&#x56FE;&#x50CF;&#xFF0C;pdf&#x5728;&#x5185;&#x7684;&#x5404;&#x79CD;&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x3002;&#x76EE;&#x524D;&#xFF0C;Cairo&#x5DF2;&#x88AB;&#x5E7F;&#x6CDB;&#x7684;&#x4F7F;&#x7528;&#x5728;&#x591A;&#x4E2A;&#x5E73;&#x53F0;&#x4E0A;&#x6765;&#x6E32;&#x67D3;&#x56FE;&#x5F62;&#x754C;&#x9762;&#xFF0C;&#x5305;&#x62EC;Firefox/Webkit-EFL/GTK+/Poppler&#x7B49;&#x7B49;</p>
<h2 id="&#x7F16;&#x8BD1;&#x5B89;&#x88C5;Cairo"><a href="#&#x7F16;&#x8BD1;&#x5B89;&#x88C5;Cairo" class="headerlink" title="&#x7F16;&#x8BD1;&#x5B89;&#x88C5;Cairo"></a>&#x7F16;&#x8BD1;&#x5B89;&#x88C5;Cairo</h2><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4ECE;Ubuntu&#x7684;&#x4E0A;&#x4E0B;&#x8F7D;cairo&#x7684;&#x7A33;&#x5B9A;&#x7248;&#xFF1A;<br>sudo apt-get install libcairo2-dev<br>&#x8FD9;&#x91CC;&#xFF0C;&#x4E3A;&#x4E86;&#x4F7F;&#x7528;Cairo&#x7684;&#x6700;&#x65B0;&#x7248;&#xFF0C;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x4ECE;git&#x4E0A;&#x4E0B;&#x8F7D;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x3002;</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> clone git://anongit.freedesktop.org/git/cairo
<span class="token function">cd</span> cairo
<span class="token function">mkdir</span> cairobuild
./autogen.sh <span class="token comment" spellcheck="true">#&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A;&#x914D;&#x7F6E;&#x9009;&#x9879;</span>
<span class="token function">make</span> 
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Cairo&#x7684;&#x57FA;&#x672C;&#x7ED8;&#x56FE;&#x6A21;&#x578B;&#x4E0E;&#x6982;&#x5FF5;"><a href="#Cairo&#x7684;&#x57FA;&#x672C;&#x7ED8;&#x56FE;&#x6A21;&#x578B;&#x4E0E;&#x6982;&#x5FF5;" class="headerlink" title="Cairo&#x7684;&#x57FA;&#x672C;&#x7ED8;&#x56FE;&#x6A21;&#x578B;&#x4E0E;&#x6982;&#x5FF5;"></a>Cairo&#x7684;&#x57FA;&#x672C;&#x7ED8;&#x56FE;&#x6A21;&#x578B;&#x4E0E;&#x6982;&#x5FF5;</h2><p>&#x5728;&#x4F7F;&#x7528;Cairo&#x7F16;&#x7A0B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5BF9;&#x4E8E;Cairo&#x7684;&#x57FA;&#x672C;&#x7ED8;&#x56FE;&#x6A21;&#x578B;&#x505A;&#x4E00;&#x4E86;&#x89E3;&#x3002;&#x8FD9;&#x4E9B;&#x6A21;&#x5305;&#x62EC;&#xFF1A;&#x8868;&#x9762;&#xFF08;surfac&#xFF09;&#xFF0C;&#x6E90;&#xFF08;source)&#xFF0C;&#x906E;&#x76D6;(mask)&#xFF0C;&#x8DEF;&#x5F84;(path),&#x4E0A;&#x4E0B;&#x6587;(context)&#x548C;&#x51FD;&#x6570;(verb)&#x3002;</p>
<h3 id="&#x8868;&#x9762;-surface"><a href="#&#x8868;&#x9762;-surface" class="headerlink" title="&#x8868;&#x9762;(surface)"></a>&#x8868;&#x9762;(surface)</h3><p>Surface&#x662F;Cair&#x7ED8;&#x56FE;&#x7684;&#x76EE;&#x6807;&#x533A;&#x57DF;&#xFF0C;&#x5728;Cairo&#x4E2D;&#x4F7F;&#x7528;cairo_surface_t&#x8868;&#x793A;&#x3002;&#x524D;&#x9762;&#x8BB2;&#x5230;Cair&#x652F;&#x6301;&#x591A;&#x79CD;&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x7ED8;&#x56FE;&#x7684;&#x76EE;&#x6807;&#x533A;&#x57DF;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x5F20;png&#x56FE;&#x8C61;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;pdf&#x6587;&#x4EF6;&#x3002;&#x4E0D;&#x540C;&#x76EE;&#x6807;&#x7684;&#x7ED8;&#x5236;&#x7684;&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x5404;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x800C;surfac&#x5BF9;&#x8FD9;&#x4E9B;&#x7ED8;&#x56FE;&#x7684;&#x76EE;&#x6807;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x521B;&#x5EFA;&#x4E86;&#x76F8;&#x5E94;&#x7684;surface&#x540E;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8C03;&#x7528;&#x7EDF;&#x4E00;&#x7684;&#x51FD;&#x6570;&#x5BF9;surface&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x5176;&#x540E;&#x7AEF;(backend)&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x3002;<br>&#x6E90;(source)</p>
<h3 id="&#x6E90;&#xFF08;source"><a href="#&#x6E90;&#xFF08;source" class="headerlink" title="&#x6E90;&#xFF08;source)"></a>&#x6E90;&#xFF08;source)</h3><p>Source&#x6307;&#x7684;&#x662F;&#x6211;&#x4EEC;&#x7ED8;&#x56FE;&#x662F;&#x7684;&#x5177;&#x4F53;&#x7684;&#x6750;&#x6599;&#x4E0E;&#x683C;&#x5F0F;&#xFF0C;&#x5B83;&#x5305;&#x62EC;&#x753B;&#x7B14;&#x7684;&#x7C97;&#x7EC6;&#x3001;&#x989C;&#x8272;&#x7B49;&#x7B49;&#x3002;&#x5728;Cairo&#x4E2D;&#xFF0C;source&#x4E0D;&#x5149;&#x53EF;&#x4EE5;&#x662F;&#x7B14;&#x7684;&#x989C;&#x8272;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x79CD;&#x56FE;&#x6848;&#xFF08;patter&#xFF09;&#x6BD4;&#x5982;&#x6E10;&#x53D8;&#x8272;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x9762;&#xFF08;surface)&#x3002;</p>
<h3 id="&#x906E;&#x76D6;&#xFF08;mask&#xFF09;"><a href="#&#x906E;&#x76D6;&#xFF08;mask&#xFF09;" class="headerlink" title="&#x906E;&#x76D6;&#xFF08;mask&#xFF09;"></a>&#x906E;&#x76D6;&#xFF08;mask&#xFF09;</h3><p>Mask&#x76F8;&#x5F53;&#x4E8E;&#x6211;&#x4EEC;&#x5728;&#x7ED8;&#x56FE;&#x8FC7;&#x7A0B;&#xFF0C;&#x7528;&#x4E00;&#x5F20;&#x6316;&#x7A7A;&#x4E86;&#x67D0;&#x4E9B;&#x90E8;&#x5206;&#x7684;&#x7EB8;&#x906E;&#x6321;&#x5728;&#x753B;&#x5E03;&#x4E0A;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5728;&#x7ED8;&#x56FE;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x53EA;&#x6709;&#x6316;&#x7A7A;&#x7684;&#x90E8;&#x5206;&#x4F1A;&#x88AB;&#x6211;&#x4EEC;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x6E90;&#x5F71;&#x54CD;&#x5230;&#xFF0C;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x3002;</p>
<h3 id="&#x8DEF;&#x5F84;&#xFF08;path&#xFF09;"><a href="#&#x8DEF;&#x5F84;&#xFF08;path&#xFF09;" class="headerlink" title="&#x8DEF;&#x5F84;&#xFF08;path&#xFF09;"></a>&#x8DEF;&#x5F84;&#xFF08;path&#xFF09;</h3><p>Path&#x662F;&#x6307;Cairo&#x7684;&#x7ED8;&#x5236;&#x8868;&#x9762;&#x4E0A;&#x4E00;&#x4E9B;&#x865A;&#x62DF;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x6761;&#x7EBF;&#x6BB5;&#xFF0C;&#x4E00;&#x4E2A;&#x95ED;&#x5408;&#x7684;&#x56DB;&#x8FB9;&#x5F62;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x66F4;&#x52A0;&#x590D;&#x6742;&#x7684;&#x66F2;&#x7EBF;&#x3002;Path&#x53EF;&#x4EE5;&#x7531;Cairo&#x7684;&#x51FD;&#x6570;&#xFF08;&#x5728;Cairo&#x4E2D;&#x88AB;&#x79F0;&#x4E3A;verb&#xFF09;&#x6240;&#x521B;&#x5EFA;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x7531;&#x4E8E;Path&#x53EA;&#x662F;&#x865A;&#x62DF;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;Path&#x7684;&#x521B;&#x5EFA;&#x5E76;&#x4E0D;&#x4EE3;&#x8868;&#x5BF9;&#x8868;&#x9762;&#x7ED8;&#x5236;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7ED8;&#x5236;&#x51FD;&#x6570;&#xFF08;Cairo&#x91CC;&#x79F0;&#x4E3A;drawing verb)&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;cairo_rectangle&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x95ED;&#x5408;&#x7684;&#x957F;&#x65B9;&#x5F62;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;cairo_fill&#x51FD;&#x6570;&#x586B;&#x5145;&#x8FD9;&#x4E2A;&#x957F;&#x65B9;&#x5F62;&#x3002;</p>
<h3 id="&#x4E0A;&#x4E0B;&#x6587;-context"><a href="#&#x4E0A;&#x4E0B;&#x6587;-context" class="headerlink" title="&#x4E0A;&#x4E0B;&#x6587;(context)"></a>&#x4E0A;&#x4E0B;&#x6587;(context)</h3><p>Context&#x662F;Cairo&#x7684;&#x6838;&#x5FC3;&#x7ED3;&#x6784;&#xFF0C;&#x5728;Cairo&#x4E2D;&#x4F7F;&#x7528;cairo_t&#x6765;&#x8868;&#x793A;&#x3002;&#x5B83;&#x8BB0;&#x5F55;&#x4E86;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x4E0E;&#x7ED8;&#x5236;&#x6709;&#x5173;&#x7684;&#x5404;&#x79CD;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x4E4B;&#x524D;&#x4ECB;&#x7ECD;&#x8FC7;&#x7684;&#x8868;&#x9762;&#x3001;&#x6E90;&#x3001;&#x906E;&#x76D6;&#x3001;&#x5B57;&#x4F53;&#x7B49;&#x7B49;&#x3002; &#x5728;&#x4EFB;&#x4F55;&#x7ED8;&#x5236;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x5FC5;&#x987B;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;cair_t&#x7ED3;&#x6784;&#xFF0C;&#x540C;&#x65F6;&#x5C06;&#x5B83;&#x7ED1;&#x5B9A;&#x5230;&#x4E00;&#x4E2A;&#x7ED8;&#x5236;&#x8868;&#x9762;&#x4E0A;(surface)&#x3002;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6BB5;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;cairo_t&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x7ED1;&#x5B9A;&#x5230;&#x4E00;&#x4E2A;640x480&#x7684;png&#x56FE;&#x8C61;&#x4E0A;&#x3002;</p>
<pre class="line-numbers language-c"><code class="language-c">cairo_surface_t <span class="token operator">*</span>surface<span class="token punctuation">;</span>
cairo_t <span class="token operator">*</span>cr<span class="token punctuation">;</span>


surface <span class="token operator">=</span> <span class="token function">cairo_image_surface_create</span> <span class="token punctuation">(</span>CAIRO_FORMAT_ARGB32<span class="token punctuation">,</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr <span class="token operator">=</span> <span class="token function">cairo_create</span> <span class="token punctuation">(</span>surface<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="&#x51FD;&#x6570;-verb"><a href="#&#x51FD;&#x6570;-verb" class="headerlink" title="&#x51FD;&#x6570;(verb)"></a>&#x51FD;&#x6570;(verb)</h3><p>Cairo&#x4E2D;&#x4E0E;&#x7ED8;&#x5236;&#x76F8;&#x5173;&#x7684;&#x51FD;&#x6570;&#x88AB;&#x79F0;&#x4E3A;verb&#x3002;&#x76EE;&#x524D;Cairo&#x652F;&#x6301;&#x4E94;&#x79CD;drawing verb&#xFF0C;&#x5206;&#x522B;&#x662F;stroke(&#x753B;&#x7EBF;/&#x63CF;&#x8FB9;)&#xFF0C; fill(&#x586B;&#x5145;)&#xFF0C;text&#xFF08;&#x6587;&#x5B57;&#xFF09;&#xFF0C;paint&#xFF08;&#x6EE4;&#x955C;&#xFF09;&#xFF0C;mask&#xFF08;&#x906E;&#x76D6;/&#x8499;&#x677F;&#xFF09;&#x3002;</p>
<p><strong>&#x63CF;&#x8FB9;&#xFF08;Stroke&#xFF09;</strong><br>cairo_stroke() &#x64CD;&#x4F5C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x753B;&#x7B14;&#x6CBF;&#x7740;&#x7279;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#xFF08;path&#xFF09;&#x63CF;&#x8FB9;&#xFF0C;&#x4EE3;&#x8868;&#x7684;&#x662F;&#x533A;&#x57DF;&#x8FB9;&#x7EBF;&#x3002;<br>&#x753B;&#x7B14;&#x6240;&#x8FC7;&#x4E4B;&#x5904;&#x4F7F;&#x5F97;&#x6E90;&#xFF08;Source&#xFF09;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7A7A;&#x5FC3;&#x6216;&#x5B9E;&#x5FC3;&#x7684;&#x8DEF;&#x5F84;&#x7EBF;&#x8499;&#x677F;&#xFF08;mask&#xFF09;&#x4F20;&#x8F93;&#x5230;&#x76EE;&#x6807;, &#x8DEF;&#x5F84;&#x7EBF;&#x53D6;&#x51B3;&#x4E8E;&#x753B;&#x7B14;&#x7684; &#x7EBF;&#x5BBD;&#xFF08;line width&#xFF09;, &#x8868;&#x73B0;&#x6837;&#x5F0F;&#xFF08;dash style&#xFF09;, &#x548C; &#x7EBF;&#x5934;&#xFF08;line caps&#xFF09;.</p>
<p><strong>&#x586B;&#x5145;(fill):</strong><br>&#x548C;Stroke&#x76F8;&#x5BF9;&#x5E94;&#xFF0C;&#x4EE3;&#x8868;&#x7684;&#x662F;&#x533A;&#x57DF;&#x5185;&#x90E8;&#x3002;</p>
<p><strong>&#x6587;&#x5B57;(text):</strong><br>cairo_show_text() &#x64CD;&#x4F5C;&#x4F7F;&#x7528;&#x6587;&#x672C;&#x6765;&#x5F62;&#x6210;&#x8499;&#x677F;. &#x628A; cairo_show_text()&#x5F53;&#x505A;&#x662F;&#x4F7F;&#x7528; cairo_text_path()&#x521B;&#x5EFA;&#x8DEF;&#x5F84;&#x7136;&#x540E;&#x4F7F;&#x7528; cairo_fill() &#x6765;&#x4F20;&#x9001;&#xFF08;&#x6E90;&#x5230;&#x76EE;&#x6807;&#xFF09;&#x5E94;&#x8BE5;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x4E00;&#x4E0B;. &#x5982;&#x679C;&#x4F60;&#x6709;&#x5927;&#x91CF;&#x6587;&#x672C;&#x8981;&#x5904;&#x7406;,&#x90A3;&#x4E48;&#x4F7F;&#x7528; cairo_show_text() &#x7F13;&#x5B58;&#x5B57;&#x5F62;&#x66F4;&#x4E3A;&#x6709;&#x6548;.</p>
<p><strong>&#x6EE4;&#x955C;(paint):</strong><br>paint&#x76F8;&#x5F53;&#x4E8E;&#x662F;&#x6574;&#x4E2A;&#x6E90;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x6B21;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;cairo_paint_with_alpha&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;alpha&#x503C;&#xFF0C;&#x6765;&#x5BF9;&#x6574;&#x4E2A;&#x56FE;&#x8C61;&#x8FDB;&#x884C;&#x7070;&#x5EA6;&#x7684;&#x51CF;&#x5C11;&#x3002;</p>
<p><strong>&#x8499;&#x677F;(mask):</strong><br>&#x8499;&#x7248;&#x5C31;&#x662F;&#x9009;&#x6846;&#x7684;&#x5916;&#x90E8;&#xFF08;&#x9009;&#x6846;&#x7684;&#x5185;&#x90E8;&#x5C31;&#x662F;&#x9009;&#x533A;&#xFF09;&#x3002;&#x8499;&#x7248;&#x4E00;&#x8BCD;&#x672C;&#x8EAB;&#x5373;&#x6765;&#x81EA;&#x751F;&#x6D3B;&#x5E94;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x201C;&#x8499;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x677F;&#x5B50;&#x201D;&#x7684;&#x542B;&#x4E49;&#x3002;</p>
<h3 id="&#x53D8;&#x6362;-transformation"><a href="#&#x53D8;&#x6362;-transformation" class="headerlink" title="&#x53D8;&#x6362;(transformation)"></a>&#x53D8;&#x6362;(transformation)</h3><p>Cairo&#x8FD8;&#x63D0;&#x4F9B;&#x7C7B;&#x4F3C;OpenGL&#x7684;&#x5750;&#x6807;&#x53D8;&#x6362;&#x64CD;&#x4F5C;&#x3002;&#x53D8;&#x6362;&#x64CD;&#x4F5C;&#x5305;&#x62EC;&#xFF1A;&#x5E73;&#x79FB;(cairo_translate)&#xFF0C;&#x4F38;&#x7F29;(cairo_scale)&#xFF0C;&#x65CB;&#x8F6C;(cairo_rotate)&#x3002;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;cairo_transform&#x51FD;&#x6570;&#x6765;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x53D8;&#x6362;&#x3002;</p>
<h2 id="&#x4F8B;&#x5B50;"><a href="#&#x4F8B;&#x5B50;" class="headerlink" title="&#x4F8B;&#x5B50;"></a>&#x4F8B;&#x5B50;</h2><p>1.&#x7ED8;&#x5236;&#x4E00;&#x4E2A;&#x77E9;&#x5F62;&#x5230;rectangle.png&#x56FE;&#x7247;&#x4E0A;&#x3002;</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cairo.h&gt;</span></span>

<span class="token keyword">int</span>
<span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cairo_surface_t <span class="token operator">*</span>surface<span class="token punctuation">;</span>
    cairo_t <span class="token operator">*</span>cr<span class="token punctuation">;</span>

    <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">480</span><span class="token punctuation">;</span>
    surface <span class="token operator">=</span> <span class="token function">cairo_image_surface_create</span> <span class="token punctuation">(</span>CAIRO_FORMAT_ARGB32<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cr <span class="token operator">=</span> <span class="token function">cairo_create</span> <span class="token punctuation">(</span>surface<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/* Drawing code goes here */</span>
    <span class="token function">cairo_set_line_width</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//&#x8BBE;&#x7F6E;&#x7ED8;&#x753B;&#x5BBD;&#x5EA6;</span>
    <span class="token function">cairo_set_source_rgb</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//&#x8BBE;&#x7F6E;&#x7ED8;&#x753B;&#x989C;&#x8272;</span>
    <span class="token function">cairo_rectangle</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> width<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//&#x8BBE;&#x7F6E;&#x7ED8;&#x753B;&#x533A;&#x57DF;</span>
    <span class="token function">cairo_stroke</span> <span class="token punctuation">(</span>cr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//&#x753B;&#x8FB9;&#x7EBF;</span>

    <span class="token comment" spellcheck="true">/* Write output and clean up */</span>
    <span class="token function">cairo_surface_write_to_png</span> <span class="token punctuation">(</span>surface<span class="token punctuation">,</span> <span class="token string">&quot;rectangle.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_destroy</span> <span class="token punctuation">(</span>cr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_surface_destroy</span> <span class="token punctuation">(</span>surface<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2.&#x7ED8;&#x5236;helloworld&#x5230;helloworld.pdf&#x4E0A;&#x3002;</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cairo.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cairo-pdf.h&gt;</span></span>
<span class="token keyword">int</span>
<span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cairo_surface_t <span class="token operator">*</span>surface<span class="token punctuation">;</span>
    cairo_t <span class="token operator">*</span>cr<span class="token punctuation">;</span>
    cairo_text_extents_t te<span class="token punctuation">;</span>


   <span class="token comment" spellcheck="true">/* Prepare drawing area */</span>
    <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>

    surface <span class="token operator">=</span> <span class="token function">cairo_pdf_surface_create</span> <span class="token punctuation">(</span><span class="token string">&quot;helloworld.pdf&quot;</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cr <span class="token operator">=</span> <span class="token function">cairo_create</span> <span class="token punctuation">(</span>surface<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment" spellcheck="true">/* Drawing code goes here */</span>
    <span class="token function">cairo_set_source_rgb</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_select_font_face</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> <span class="token string">&quot;Georgia&quot;</span><span class="token punctuation">,</span>
        CAIRO_FONT_SLANT_NORMAL<span class="token punctuation">,</span> CAIRO_FONT_WEIGHT_BOLD<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_set_font_size</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_text_extents</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> <span class="token string">&quot;helloworld&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>te<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_move_to</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> width<span class="token operator">/</span><span class="token number">2</span> <span class="token operator">-</span> te<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> te<span class="token punctuation">.</span>x_bearing<span class="token punctuation">,</span>
          height<span class="token operator">/</span><span class="token number">2</span> <span class="token operator">-</span> te<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> te<span class="token punctuation">.</span>y_bearing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_show_text</span> <span class="token punctuation">(</span>cr<span class="token punctuation">,</span> <span class="token string">&quot;helloworld&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token function">cairo_destroy</span> <span class="token punctuation">(</span>cr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cairo_surface_destroy</span> <span class="token punctuation">(</span>surface<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="gcc&#x7F16;&#x8BD1;"><a href="#gcc&#x7F16;&#x8BD1;" class="headerlink" title="gcc&#x7F16;&#x8BD1;"></a>gcc&#x7F16;&#x8BD1;</h2><p>&#x4F7F;&#x7528;gcc&#x7F16;&#x8BD1;&#x8C03;&#x7528;&#x4E86;cairo&#x7684;&#x6E90;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x5E94;&#x6307;&#x5B9A;cairo&#x7684;&#x5934;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x548C;&#x5E93;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x3002;&#x5047;&#x8BBE;&#x6E90;&#x6587;&#x4EF6;&#x6587;&#x4EF6;&#x540D;&#x4E3A;cairotest.c&#xFF0C;cairo.h&#x7B49;&#x5934;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x4E3A;/usr/include/cairo&#xFF0C;cairo&#x5E93;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x4E3A;/usr/local/lib&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x7F16;&#x8BD1;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">gcc cairotest.c -o cairotest -I/usr/include/cairo -L/usr/local/lib/ -lcairo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;pkg-config&#x6765;&#x914D;&#x7F6E;cairo&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x6765;&#x7F16;&#x8BD1;&#xFF1A;</p>
<pre class="line-numbers language-bash"><code class="language-bash">gcc -o cairotest <span class="token variable"><span class="token variable">$(</span>pkg-config --cflags --libs cairo<span class="token variable">)</span></span> cairotest.c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>&#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;<br><a href="https://zetcode.com/gui/gtksharp/drawing/" target="_blank" rel="noopener">https://zetcode.com/gui/gtksharp/drawing/</a><br><a href="https://blog.csdn.net/flexwang_/article/details/38000401" target="_blank" rel="noopener">https://blog.csdn.net/flexwang_/article/details/38000401</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css">
			  		
			  		<!-- google Adsense -->
			  		
					
					
					
					
			    	
					
					<!-- google Adsense Matched content -->
			  		
			  	</div>
				
		  	</article>
		  	
		  	
		  	<!-- TAGS -->
		  	
		  	<div class="meta-content">
				
				<div class="widget">
				  	<h6 class="tag"><span class="fa fa-fw fa-tag"></span>TAGS</h6>
				  	<div class="article-tag">
						<ul class="article-tag-list">
							
					    		<li class="article-tag-list-item">
					    			<a class="article-tag-list-link" href="/tags/csharp/">
					    				csharp
					    			</a>
					    		</li>
							
						</ul>
					</div>
				</div>
				
			</div>
		  	
		  	
		  	<!-- Categories posts -->
		  	
		  	
		  	
		  	<!-- Detailed categories  posts -->
		  	
		  	
		  	
		  	<!-- Latests -->
		  	
			
		</div>
		
		
		<footer id="footer">
		
			
			
			
			
			<div class="copyright-tool">
				
				
				
				<div class="copyright-title">
					<span>
					&copy; 2020&nbsp;ALaDing
					</span>
				</div>
				
				<div class="copyright-license">
					<aside>
						Powered by <a href="https://hexo.io/">Hexo</a>. <a href="https://github.com/tea3/hexo-generator-amp">AMP-Theme</a> designed by <a href="https://github.com/tea3/">tea</a>.
					</aside>
				</div>
			</div>
			
		</footer>


  	<div id="totop"><a href="#"></a></div>


  </body>
</html>
